(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var xf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function aE(){if(ny)return kl;ny=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var iy;function sE(){return iy||(iy=1,xf.exports=aE()),xf.exports}var U=sE(),If={exports:{}},ql={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function lE(){return ry||(ry=1,function(a){function e(rt,_t){var dt=rt.length;rt.push(_t);t:for(;0<dt;){var qt=dt-1>>>1,N=rt[qt];if(0<u(N,_t))rt[qt]=_t,rt[dt]=N,dt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var _t=rt[0],dt=rt.pop();if(dt!==_t){rt[0]=dt;t:for(var qt=0,N=rt.length,tt=N>>>1;qt<tt;){var ct=2*(qt+1)-1,at=rt[ct],st=ct+1,Rt=rt[st];if(0>u(at,dt))st<N&&0>u(Rt,at)?(rt[qt]=Rt,rt[st]=dt,qt=st):(rt[qt]=at,rt[ct]=dt,qt=ct);else if(st<N&&0>u(Rt,dt))rt[qt]=Rt,rt[st]=dt,qt=st;else break t}}return _t}function u(rt,_t){var dt=rt.sortIndex-_t.sortIndex;return dt!==0?dt:rt.id-_t.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],A=1,w=null,V=3,z=!1,B=!1,$=!1,G=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function et(rt){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=rt)s(y),_t.sortIndex=_t.expirationTime,e(p,_t);else break;_t=i(y)}}function yt(rt){if($=!1,et(rt),!B)if(i(p)!==null)B=!0,ye();else{var _t=i(y);_t!==null&&he(yt,_t.startTime-rt)}}var ht=!1,wt=-1,O=5,R=-1;function S(){return!(a.unstable_now()-R<O)}function D(){if(ht){var rt=a.unstable_now();R=rt;var _t=!0;try{t:{B=!1,$&&($=!1,K(wt),wt=-1),z=!0;var dt=V;try{e:{for(et(rt),w=i(p);w!==null&&!(w.expirationTime>rt&&S());){var qt=w.callback;if(typeof qt=="function"){w.callback=null,V=w.priorityLevel;var N=qt(w.expirationTime<=rt);if(rt=a.unstable_now(),typeof N=="function"){w.callback=N,et(rt),_t=!0;break e}w===i(p)&&s(p),et(rt)}else s(p);w=i(p)}if(w!==null)_t=!0;else{var tt=i(y);tt!==null&&he(yt,tt.startTime-rt),_t=!1}}break t}finally{w=null,V=dt,z=!1}_t=void 0}}finally{_t?I():ht=!1}}}var I;if(typeof nt=="function")I=function(){nt(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=D,I=function(){C.postMessage(null)}}else I=function(){G(D,0)};function ye(){ht||(ht=!0,I())}function he(rt,_t){wt=G(function(){rt(a.unstable_now())},_t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(rt){rt.callback=null},a.unstable_continueExecution=function(){B||z||(B=!0,ye())},a.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(rt){switch(V){case 1:case 2:case 3:var _t=3;break;default:_t=V}var dt=V;V=_t;try{return rt()}finally{V=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(rt,_t){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var dt=V;V=rt;try{return _t()}finally{V=dt}},a.unstable_scheduleCallback=function(rt,_t,dt){var qt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?qt+dt:qt):dt=qt,rt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=dt+N,rt={id:A++,callback:_t,priorityLevel:rt,startTime:dt,expirationTime:N,sortIndex:-1},dt>qt?(rt.sortIndex=dt,e(y,rt),i(p)===null&&rt===i(y)&&($?(K(wt),wt=-1):$=!0,he(yt,dt-qt))):(rt.sortIndex=N,e(p,rt),B||z||(B=!0,ye())),rt},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(rt){var _t=V;return function(){var dt=V;V=_t;try{return rt.apply(this,arguments)}finally{V=dt}}}}(Mf)),Mf}var ay;function uE(){return ay||(ay=1,Of.exports=lE()),Of.exports}var Lf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function oE(){if(sy)return bt;sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function G(N,tt,ct){this.props=N,this.context=tt,this.refs=$,this.updater=ct||z}G.prototype.isReactComponent={},G.prototype.setState=function(N,tt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,tt,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=G.prototype;function nt(N,tt,ct){this.props=N,this.context=tt,this.refs=$,this.updater=ct||z}var et=nt.prototype=new K;et.constructor=nt,B(et,G.prototype),et.isPureReactComponent=!0;var yt=Array.isArray,ht={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function O(N,tt,ct,at,st,Rt){return ct=Rt.ref,{$$typeof:a,type:N,key:tt,ref:ct!==void 0?ct:null,props:Rt}}function R(N,tt){return O(N.type,tt,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function D(N){var tt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ct){return tt[ct]})}var I=/\/+/g;function j(N,tt){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):tt.toString(36)}function C(){}function ye(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(tt){N.status==="pending"&&(N.status="fulfilled",N.value=tt)},function(tt){N.status==="pending"&&(N.status="rejected",N.reason=tt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,tt,ct,at,st){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case a:case e:St=!0;break;case A:return St=N._init,he(St(N._payload),tt,ct,at,st)}}if(St)return st=st(N),St=at===""?"."+j(N,0):at,yt(st)?(ct="",St!=null&&(ct=St.replace(I,"$&/")+"/"),he(st,tt,ct,"",function(ie){return ie})):st!=null&&(S(st)&&(st=R(st,ct+(st.key==null||N&&N.key===st.key?"":(""+st.key).replace(I,"$&/")+"/")+St)),tt.push(st)),1;St=0;var fe=at===""?".":at+":";if(yt(N))for(var zt=0;zt<N.length;zt++)at=N[zt],Rt=fe+j(at,zt),St+=he(at,tt,ct,Rt,st);else if(zt=V(N),typeof zt=="function")for(N=zt.call(N),zt=0;!(at=N.next()).done;)at=at.value,Rt=fe+j(at,zt++),St+=he(at,tt,ct,Rt,st);else if(Rt==="object"){if(typeof N.then=="function")return he(ye(N),tt,ct,at,st);throw tt=String(N),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(N,tt,ct){if(N==null)return N;var at=[],st=0;return he(N,at,"","",function(Rt){return tt.call(ct,Rt,st++)}),at}function _t(N){if(N._status===-1){var tt=N._result;tt=tt(),tt.then(function(ct){(N._status===0||N._status===-1)&&(N._status=1,N._result=ct)},function(ct){(N._status===0||N._status===-1)&&(N._status=2,N._result=ct)}),N._status===-1&&(N._status=0,N._result=tt)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qt(){}return bt.Children={map:rt,forEach:function(N,tt,ct){rt(N,function(){tt.apply(this,arguments)},ct)},count:function(N){var tt=0;return rt(N,function(){tt++}),tt},toArray:function(N){return rt(N,function(tt){return tt})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},bt.Component=G,bt.Fragment=i,bt.Profiler=u,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cloneElement=function(N,tt,ct){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=B({},N.props),st=N.key,Rt=void 0;if(tt!=null)for(St in tt.ref!==void 0&&(Rt=void 0),tt.key!==void 0&&(st=""+tt.key),tt)!wt.call(tt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&tt.ref===void 0||(at[St]=tt[St]);var St=arguments.length-2;if(St===1)at.children=ct;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];at.children=fe}return O(N.type,st,void 0,void 0,Rt,at)},bt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},bt.createElement=function(N,tt,ct){var at,st={},Rt=null;if(tt!=null)for(at in tt.key!==void 0&&(Rt=""+tt.key),tt)wt.call(tt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=tt[at]);var St=arguments.length-2;if(St===1)st.children=ct;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];st.children=fe}if(N&&N.defaultProps)for(at in St=N.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return O(N,Rt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:g,render:N}},bt.isValidElement=S,bt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:_t}},bt.memo=function(N,tt){return{$$typeof:y,type:N,compare:tt===void 0?null:tt}},bt.startTransition=function(N){var tt=ht.T,ct={};ht.T=ct;try{var at=N(),st=ht.S;st!==null&&st(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,dt)}catch(Rt){dt(Rt)}finally{ht.T=tt}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(N){return ht.H.use(N)},bt.useActionState=function(N,tt,ct){return ht.H.useActionState(N,tt,ct)},bt.useCallback=function(N,tt){return ht.H.useCallback(N,tt)},bt.useContext=function(N){return ht.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,tt){return ht.H.useDeferredValue(N,tt)},bt.useEffect=function(N,tt){return ht.H.useEffect(N,tt)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(N,tt,ct){return ht.H.useImperativeHandle(N,tt,ct)},bt.useInsertionEffect=function(N,tt){return ht.H.useInsertionEffect(N,tt)},bt.useLayoutEffect=function(N,tt){return ht.H.useLayoutEffect(N,tt)},bt.useMemo=function(N,tt){return ht.H.useMemo(N,tt)},bt.useOptimistic=function(N,tt){return ht.H.useOptimistic(N,tt)},bt.useReducer=function(N,tt,ct){return ht.H.useReducer(N,tt,ct)},bt.useRef=function(N){return ht.H.useRef(N)},bt.useState=function(N){return ht.H.useState(N)},bt.useSyncExternalStore=function(N,tt,ct){return ht.H.useSyncExternalStore(N,tt,ct)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.0.0",bt}var ly;function yd(){return ly||(ly=1,Lf.exports=oE()),Lf.exports}var Uf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function cE(){if(uy)return Ge;uy=1;var a=yd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(p,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:p,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,A)},Ge.flushSync=function(p){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=A,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:z}):A==="script"&&s.d.X(p,{crossOrigin:w,integrity:V,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin);s.d.L(p,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var A=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,A){return d.H.useFormState(p,y,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var oy;function hE(){if(oy)return Uf.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Uf.exports=cE(),Uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function fE(){if(cy)return ql;cy=1;var a=uE(),e=yd(),i=hE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),yt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case B:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case nt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,j;function C(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",j=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+j}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),M=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===M.length)for(l=b.length-1,c=M.length-1;1<=l&&0<=c&&b[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==M[c]){var Y=`
`+b[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?C(r):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function _t(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function N(t){if(dt(t)!==t)throw Error(s(188))}function tt(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return N(c),t;if(f===l)return N(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,l=f;break}if(E===l){_=!0,l=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,l=c;break}if(E===l){_=!0,l=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ct(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function zt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Ft(t,n){fe++,St[fe]=t.current,t.current=n}var Ke=zt(null),ui=zt(null),fn=zt(null),Hi=zt(null);function Gi(t,n){switch(Ft(fn,n),Ft(ui,t),Ft(Ke,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?xp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=xp(t),n=Ip(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ke),Ft(Ke,n)}function oi(){ie(Ke),ie(ui),ie(fn)}function Us(t){t.memoizedState!==null&&Ft(Hi,t);var n=Ke.current,r=Ip(n,t.type);n!==r&&(Ft(ui,t),Ft(Ke,r))}function Ra(t){ui.current===t&&(ie(Ke),ie(ui)),Hi.current===t&&(ie(Hi),Ul._currentValue=Rt)}var wa=Object.prototype.hasOwnProperty,zr=a.unstable_scheduleCallback,Ca=a.unstable_cancelCallback,Ic=a.unstable_shouldYield,Ps=a.unstable_requestPaint,tn=a.unstable_now,gu=a.unstable_getCurrentPriorityLevel,ve=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,ci=a.unstable_NormalPriority,pu=a.unstable_LowPriority,zs=a.unstable_IdlePriority,Oc=a.log,jr=a.unstable_setDisableYieldValue,Fi=null,qe=null;function js(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof Oc=="function"&&jr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fi,t)}catch{}}var Xe=Math.clz32?Math.clz32:vu,Bs=Math.log,yu=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(Bs(t)/yu|0)|0}var jn=128,Qi=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Nn(r):(f&=E,f!==0?l=Nn(f):t||(_=E&~_,_!==0&&(l=Nn(_))))):(E=r&~c,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(_=r&~_,_!==0&&(l=Nn(_)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function Yi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Da(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=jn;return jn<<=1,(jn&4194176)===0&&(jn=128),t}function Ki(){var t=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),t}function Va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _u(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,M=t.hiddenUpdates;for(r=_&~r;0<r;){var Y=31-Xe(r),J=1<<Y;E[Y]=0,b[Y]=-1;var q=M[Y];if(q!==null)for(M[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}r&=~J}l!==0&&Xi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Xi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function $i(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Eu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function Zi(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var Bn=Math.random().toString(36).slice(2),De="__reactFiber$"+Bn,_e="__reactProps$"+Bn,hi="__reactContainer$"+Bn,Br="__reactEvents$"+Bn,Na="__reactListeners$"+Bn,kn="__reactHandles$"+Bn,qs="__reactResources$"+Bn,Ji="__reactMarker$"+Bn;function kr(t){delete t[De],delete t[_e],delete t[Br],delete t[Na],delete t[kn]}function xn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Lp(t);t!==null;){if(r=t[De])return r;t=Lp(t)}return n}t=r,r=t.parentNode}return null}function fi(t){if(t=t[De]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function tr(t){var n=t[qs];return n||(n=t[qs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Ji]=!0}var Hs=new Set,xa={};function an(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(xa[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},Fs={};function Au(t){return wa.call(Fs,t)?!0:wa.call(Gs,t)?!1:Mc.test(t)?Fs[t]=!0:(Gs[t]=!0,!1)}function er(t,n,r){if(Au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function nr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Su(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lc(t){var n=Su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qr(t){t._valueTracker||(t._valueTracker=Lc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Su(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function re(t){return t.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ir(t,n,r,l,c,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oa(t,_,$e(n)):r!=null?Oa(t,_,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function Hr(t,n,r,l,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Oa(t,n,r){n==="number"&&Ia(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function jt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function rr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ys(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Uc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function bu(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ys(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ys(t,f,n[f])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function Ma(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function pi(t){var n=fi(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(ir(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(s(90));ir(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Gr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&jt(t,!!r.multiple,n,!1)}}}var Xs=!1;function Ru(t,n,r){if(Xs)return t(n,r);Xs=!0;try{var l=t(n);return l}finally{if(Xs=!1,(mi!==null||gi!==null)&&(yo(),mi&&(n=mi,t=gi,gi=mi=null,pi(n),t)))for(n=0;n<t.length;n++)pi(t[n])}}function Fr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var yn=!1;if(sn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{yn=!1}var Hn=null,ar=null,yi=null;function $s(){if(yi)return yi;var t,n=ar,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Zs(){return!1}function Ve(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Zs,this.isPropagationStopped=Zs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ve(Ht),Yr=D({},Ht,{view:0,detail:0}),wu=Ve(Yr),Ua,Pa,Qn,Kr=D({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ua=t.screenX-Qn.screenX,Pa=t.screenY-Qn.screenY):Pa=Ua=0,Qn=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),vn=Ve(Kr),Cu=D({},Kr,{dataTransfer:0}),jc=Ve(Cu),Xr=D({},Yr,{relatedTarget:0}),za=Ve(Xr),Js=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Ve(Js),Du=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=Ve(Du),Bc=D({},Ht,{data:0}),Ws=Ve(Bc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Zr(){return tl}var xu=D({},Yr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Ve(xu),Iu=D({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ve(Iu),vi=D({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Ou=Ve(vi),Mu=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Ve(Mu),Uu=D({},Kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Ve(Uu),Ze=D({},Ht,{newState:0,oldState:0}),Pu=Ve(Ze),zu=[9,13,27,32],Yn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,v=sn&&(!Yn||o&&8<o&&11>=o),T=" ",P=!1;function H(t,n){switch(t){case"keyup":return zu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Yn&&H(t,n)?(t=$s(),yi=ar=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Ao(n,"onChange"),0<n.length&&(r=new La("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Kn=null;function nl(t){wp(t,0)}function ju(t){var n=Wi(t);if(Qs(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(sn){var kc;if(sn){var qc="oninput"in document;if(!qc){var im=document.createElement("div");im.setAttribute("oninput","return;"),qc=typeof im.oninput=="function"}kc=qc}else kc=!1;nm=kc&&(!document.documentMode||9<document.documentMode)}function rm(){Le&&(Le.detachEvent("onpropertychange",am),Kn=Le=null)}function am(t){if(t.propertyName==="value"&&ju(Kn)){var n=[];_i(n,Kn,t,Ma(t)),Ru(nl,n)}}function L0(t,n,r){t==="focusin"?(rm(),Le=n,Kn=r,Le.attachEvent("onpropertychange",am)):t==="focusout"&&rm()}function U0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Kn)}function P0(t,n){if(t==="click")return ju(n)}function z0(t,n){if(t==="input"||t==="change")return ju(n)}function j0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:j0;function il(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!wa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var r=sm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sm(r)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ia(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ia(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function B0(t,n){var r=om(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&um(n.ownerDocument.documentElement,n)){if(l!==null&&Hc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=lm(n,f);var _=lm(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var k0=sn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Gc=null,rl=null,Fc=!1;function cm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fc||Ha==null||Ha!==Ia(l)||(l=Ha,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Ao(Gc,"onSelect"),0<l.length&&(n=new La("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ha)))}function Jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ga={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},Qc={},hm={};sn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Wr(t){if(Qc[t])return Qc[t];if(!Ga[t])return t;var n=Ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in hm)return Qc[t]=n[r];return t}var fm=Wr("animationend"),dm=Wr("animationiteration"),mm=Wr("animationstart"),q0=Wr("transitionrun"),H0=Wr("transitionstart"),G0=Wr("transitioncancel"),gm=Wr("transitionend"),pm=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){pm.set(t,n),an(n,[t])}var _n=[],Fa=0,Yc=0;function Bu(){for(var t=Fa,n=Yc=Fa=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&vm(r,c,f)}}function ku(t,n,r,l){_n[Fa++]=t,_n[Fa++]=n,_n[Fa++]=r,_n[Fa++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,r,l){return ku(t,n,r,l),qu(t)}function sr(t,n){return ku(t,null,null,n),qu(t)}function vm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Xe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function qu(t){if(50<Vl)throw Vl=0,tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qa={},_m=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=_m.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_t(n)},_m.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Ya=[],Ka=0,Hu=null,Gu=0,Tn=[],An=0,ta=null,Ei=1,Ti="";function ea(t,n){Ya[Ka++]=Gu,Ya[Ka++]=Hu,Hu=t,Gu=n}function Em(t,n,r){Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=ta,ta=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Ei=1<<32-Xe(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Xc(t){t.return!==null&&(ea(t,1),Em(t,1,0))}function $c(t){for(;t===Hu;)Hu=Ya[--Ka],Ya[Ka]=null,Gu=Ya[--Ka],Ya[Ka]=null;for(;t===ta;)ta=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null}var Je=null,Ue=null,Bt=!1,On=null,Xn=!1,Zc=Error(s(519));function na(t){var n=Error(s(418,""));throw ll(En(n,t)),Zc}function Tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[_e]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<xl.length;r++)It(xl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),rr(n,l.value,l.defaultValue,l.children),qr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Np(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=So),n=!0):n=!1,n||na(t)}function Am(t){for(Je=t.return;Je;)switch(Je.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:Je=Je.return}}function al(t){if(t!==Je)return!1;if(!Bt)return Am(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&na(t),Am(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Je?Ln(t.stateNode.nextSibling):null;return!0}function sl(){Ue=Je=null,Bt=!1}function ll(t){On===null?On=[t]:On.push(t)}var ul=Error(s(460)),Sm=Error(s(474)),Jc={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Rm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fu,Fu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ul?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Fu,Fu);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ul?Error(s(483)):t}throw ol=n,ul}}var ol=null;function wm(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}var Xa=null,cl=0;function Qu(t){var n=cl;return cl+=1,Xa===null&&(Xa=[]),Rm(Xa,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cm(t){var n=t._init;return n(t._payload)}function Dm(t){function n(L,x){if(t){var k=L.deletions;k===null?(L.deletions=[x],L.flags|=16):k.push(x)}}function r(L,x){if(!t)return null;for(;x!==null;)n(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function c(L,x){return L=vr(L,x),L.index=0,L.sibling=null,L}function f(L,x,k){return L.index=k,t?(k=L.alternate,k!==null?(k=k.index,k<x?(L.flags|=33554434,x):k):(L.flags|=33554434,x)):(L.flags|=1048576,x)}function _(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function E(L,x,k,X){return x===null||x.tag!==6?(x=Qh(k,L.mode,X),x.return=L,x):(x=c(x,k),x.return=L,x)}function b(L,x,k,X){var ut=k.type;return ut===p?Y(L,x,k.props.children,X,k.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===nt&&Cm(ut)===x.type)?(x=c(x,k.props),hl(x,k),x.return=L,x):(x=ho(k.type,k.key,k.props,null,L.mode,X),hl(x,k),x.return=L,x)}function M(L,x,k,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Yh(k,L.mode,X),x.return=L,x):(x=c(x,k.children||[]),x.return=L,x)}function Y(L,x,k,X,ut){return x===null||x.tag!==7?(x=fa(k,L.mode,X,ut),x.return=L,x):(x=c(x,k),x.return=L,x)}function J(L,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Qh(""+x,L.mode,k),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case d:return k=ho(x.type,x.key,x.props,null,L.mode,k),hl(k,x),k.return=L,k;case g:return x=Yh(x,L.mode,k),x.return=L,x;case nt:var X=x._init;return x=X(x._payload),J(L,x,k)}if(at(x)||wt(x))return x=fa(x,L.mode,k,null),x.return=L,x;if(typeof x.then=="function")return J(L,Qu(x),k);if(x.$$typeof===z)return J(L,uo(L,x),k);Yu(L,x)}return null}function q(L,x,k,X){var ut=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:E(L,x,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case d:return k.key===ut?b(L,x,k,X):null;case g:return k.key===ut?M(L,x,k,X):null;case nt:return ut=k._init,k=ut(k._payload),q(L,x,k,X)}if(at(k)||wt(k))return ut!==null?null:Y(L,x,k,X,null);if(typeof k.then=="function")return q(L,x,Qu(k),X);if(k.$$typeof===z)return q(L,x,uo(L,k),X);Yu(L,k)}return null}function F(L,x,k,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(k)||null,E(x,L,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case d:return L=L.get(X.key===null?k:X.key)||null,b(x,L,X,ut);case g:return L=L.get(X.key===null?k:X.key)||null,M(x,L,X,ut);case nt:var Vt=X._init;return X=Vt(X._payload),F(L,x,k,X,ut)}if(at(X)||wt(X))return L=L.get(k)||null,Y(x,L,X,ut,null);if(typeof X.then=="function")return F(L,x,k,Qu(X),ut);if(X.$$typeof===z)return F(L,x,k,uo(x,X),ut);Yu(x,X)}return null}function ot(L,x,k,X){for(var ut=null,Vt=null,ft=x,pt=x=0,Oe=null;ft!==null&&pt<k.length;pt++){ft.index>pt?(Oe=ft,ft=null):Oe=ft.sibling;var kt=q(L,ft,k[pt],X);if(kt===null){ft===null&&(ft=Oe);break}t&&ft&&kt.alternate===null&&n(L,ft),x=f(kt,x,pt),Vt===null?ut=kt:Vt.sibling=kt,Vt=kt,ft=Oe}if(pt===k.length)return r(L,ft),Bt&&ea(L,pt),ut;if(ft===null){for(;pt<k.length;pt++)ft=J(L,k[pt],X),ft!==null&&(x=f(ft,x,pt),Vt===null?ut=ft:Vt.sibling=ft,Vt=ft);return Bt&&ea(L,pt),ut}for(ft=l(ft);pt<k.length;pt++)Oe=F(ft,L,pt,k[pt],X),Oe!==null&&(t&&Oe.alternate!==null&&ft.delete(Oe.key===null?pt:Oe.key),x=f(Oe,x,pt),Vt===null?ut=Oe:Vt.sibling=Oe,Vt=Oe);return t&&ft.forEach(function(Rr){return n(L,Rr)}),Bt&&ea(L,pt),ut}function Tt(L,x,k,X){if(k==null)throw Error(s(151));for(var ut=null,Vt=null,ft=x,pt=x=0,Oe=null,kt=k.next();ft!==null&&!kt.done;pt++,kt=k.next()){ft.index>pt?(Oe=ft,ft=null):Oe=ft.sibling;var Rr=q(L,ft,kt.value,X);if(Rr===null){ft===null&&(ft=Oe);break}t&&ft&&Rr.alternate===null&&n(L,ft),x=f(Rr,x,pt),Vt===null?ut=Rr:Vt.sibling=Rr,Vt=Rr,ft=Oe}if(kt.done)return r(L,ft),Bt&&ea(L,pt),ut;if(ft===null){for(;!kt.done;pt++,kt=k.next())kt=J(L,kt.value,X),kt!==null&&(x=f(kt,x,pt),Vt===null?ut=kt:Vt.sibling=kt,Vt=kt);return Bt&&ea(L,pt),ut}for(ft=l(ft);!kt.done;pt++,kt=k.next())kt=F(ft,L,pt,kt.value,X),kt!==null&&(t&&kt.alternate!==null&&ft.delete(kt.key===null?pt:kt.key),x=f(kt,x,pt),Vt===null?ut=kt:Vt.sibling=kt,Vt=kt);return t&&ft.forEach(function(rE){return n(L,rE)}),Bt&&ea(L,pt),ut}function le(L,x,k,X){if(typeof k=="object"&&k!==null&&k.type===p&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case d:t:{for(var ut=k.key;x!==null;){if(x.key===ut){if(ut=k.type,ut===p){if(x.tag===7){r(L,x.sibling),X=c(x,k.props.children),X.return=L,L=X;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===nt&&Cm(ut)===x.type){r(L,x.sibling),X=c(x,k.props),hl(X,k),X.return=L,L=X;break t}r(L,x);break}else n(L,x);x=x.sibling}k.type===p?(X=fa(k.props.children,L.mode,X,k.key),X.return=L,L=X):(X=ho(k.type,k.key,k.props,null,L.mode,X),hl(X,k),X.return=L,L=X)}return _(L);case g:t:{for(ut=k.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){r(L,x.sibling),X=c(x,k.children||[]),X.return=L,L=X;break t}else{r(L,x);break}else n(L,x);x=x.sibling}X=Yh(k,L.mode,X),X.return=L,L=X}return _(L);case nt:return ut=k._init,k=ut(k._payload),le(L,x,k,X)}if(at(k))return ot(L,x,k,X);if(wt(k)){if(ut=wt(k),typeof ut!="function")throw Error(s(150));return k=ut.call(k),Tt(L,x,k,X)}if(typeof k.then=="function")return le(L,x,Qu(k),X);if(k.$$typeof===z)return le(L,x,uo(L,k),X);Yu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(r(L,x.sibling),X=c(x,k),X.return=L,L=X):(r(L,x),X=Qh(k,L.mode,X),X.return=L,L=X),_(L)):r(L,x)}return function(L,x,k,X){try{cl=0;var ut=le(L,x,k,X);return Xa=null,ut}catch(ft){if(ft===ul)throw ft;var Vt=wn(29,ft,null,L.mode);return Vt.lanes=X,Vt.return=L,Vt}finally{}}}var ia=Dm(!0),Vm=Dm(!1),$a=zt(null),Ku=zt(0);function Nm(t,n){t=Ii,Ft(Ku,t),Ft($a,n),Ii=t|n.baseLanes}function Wc(){Ft(Ku,Ii),Ft($a,$a.current)}function th(){Ii=Ku.current,ie($a),ie(Ku)}var Sn=zt(null),$n=null;function lr(t){var n=t.alternate;Ft(Ae,Ae.current&1),Ft(Sn,t),$n===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&($n=t)}function xm(t){if(t.tag===22){if(Ft(Ae,Ae.current),Ft(Sn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else ur()}function ur(){Ft(Ae,Ae.current),Ft(Sn,Sn.current)}function Ai(t){ie(Sn),$n===t&&($n=null),ie(Ae)}var Ae=zt(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var F0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Q0=a.unstable_scheduleCallback,Y0=a.unstable_NormalPriority,Se={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new F0,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Q0(Y0,function(){t.controller.abort()})}var dl=null,nh=0,Za=0,Ja=null;function K0(t,n){if(dl===null){var r=dl=[];nh=0,Za=of(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nh++,n.then(Im,Im),n}function Im(){if(--nh===0&&dl!==null){Ja!==null&&(Ja.status="fulfilled");var t=dl;dl=null,Za=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function X0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Om=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(t,n),Om!==null&&Om(t,n)};var ra=zt(null);function ih(){var t=ra.current;return t!==null?t:Xt.pooledCache}function $u(t,n){n===null?Ft(ra,ra.current):Ft(ra,n.pool)}function Mm(){var t=ih();return t===null?null:{parent:Se._currentValue,pool:t}}var or=0,Ct=null,Qt=null,de=null,Zu=!1,Wa=!1,aa=!1,Ju=0,ml=0,ts=null,$0=0;function oe(){throw Error(s(321))}function rh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function ah(t,n,r,l,c,f){return or=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?sa:cr,aa=!1,f=r(l,c),aa=!1,Wa&&(f=Um(n,r,l,c)),Lm(t),f}function Lm(t){S.H=Zn;var n=Qt!==null&&Qt.next!==null;if(or=0,de=Qt=Ct=null,Zu=!1,ml=0,ts=null,n)throw Error(s(300));t===null||xe||(t=t.dependencies,t!==null&&lo(t)&&(xe=!0))}function Um(t,n,r,l){Ct=t;var c=0;do{if(Wa&&(ts=null),ml=0,Wa=!1,25<=c)throw Error(s(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=la,f=n(r,l)}while(Wa);return f}function Z0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function sh(){var t=Ju!==0;return Ju=0,t}function lh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function uh(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}or=0,de=Qt=Ct=null,Wa=!1,ml=Ju=0,ts=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var Wu;Wu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(t){var n=ml;return ml+=1,ts===null&&(ts=[]),t=Rm(ts,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?sa:cr),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===z)return He(t)}throw Error(s(438,String(t)))}function oh(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wu(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=yt;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function eo(t){var n=me();return ch(n,Qt,t)}function ch(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=_=null,b=null,M=n,Y=!1;do{var J=M.lane&-536870913;if(J!==M.lane?(Lt&J)===J:(or&J)===J){var q=M.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),J===Za&&(Y=!0);else if((or&q)===q){M=M.next,q===Za&&(Y=!0);continue}else J={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=J,_=f):b=b.next=J,Ct.lanes|=q,_r|=q;J=M.action,aa&&r(f,J),f=M.hasEagerState?M.eagerState:r(f,J)}else q={lane:J,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=q,_=f):b=b.next=q,Ct.lanes|=J,_r|=J;M=M.next}while(M!==null&&M!==n);if(b===null?_=f:b.next=E,!ln(f,t.memoizedState)&&(xe=!0,Y&&(r=Ja,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Pm(t,n,r){var l=Ct,c=me(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Qt||c).memoizedState,r);if(_&&(c.memoizedState=r,xe=!0),c=c.queue,mh(Bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,es(9,jm.bind(null,l,c,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(or&60)!==0||zm(l,n,r)}return r}function zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Wu(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function jm(t,n,r,l){n.value=r,n.getSnapshot=l,km(n)&&qm(t)}function Bm(t,n,r){return r(function(){km(n)&&qm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function qm(t){var n=sr(t,2);n!==null&&We(n,t,2)}function fh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),aa){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Hm(t,n,r,l){return t.baseState=r,ch(t,Qt,typeof l=="function"?l:Si)}function J0(t,n,r,l,c){if(ro(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Gm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Gm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,_={};S.T=_;try{var E=r(c,l),b=S.S;b!==null&&b(_,E),Fm(t,n,E)}catch(M){dh(t,n,M)}finally{S.T=f}}else try{f=r(c,l),Fm(t,n,f)}catch(M){dh(t,n,M)}}function Fm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Qm(t,n,l)},function(l){return dh(t,n,l)}):Qm(t,n,r)}function Qm(t,n,r){n.status="fulfilled",n.value=r,Ym(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Gm(t,r)))}function dh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Km(t,n){return n}function Xm(t,n){if(Bt){var r=Xt.formState;if(r!==null){t:{var l=Ct;if(Bt){if(Ue){e:{for(var c=Ue,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=Ln(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},r.queue=l,r=dg.bind(null,Ct,l),l.dispatch=r,l=fh(!1),f=_h.bind(null,Ct,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=J0.bind(null,Ct,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function $m(t){var n=me();return Zm(n,Qt,t)}function Zm(t,n,r){n=ch(t,n,Km)[0],t=eo(Si)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?gl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Ct.flags|=2048,es(9,W0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function W0(t,n){t.action=n}function Jm(t){var n=me(),r=Qt;if(r!==null)return Zm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function es(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=Wu(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return me().memoizedState}function no(t,n,r,l){var c=nn();Ct.flags|=t,c.memoizedState=es(1|n,r,{destroy:void 0},l===void 0?null:l)}function io(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&rh(l,Qt.memoizedState.deps)?c.memoizedState=es(n,r,f,l):(Ct.flags|=t,c.memoizedState=es(1|n,r,f,l))}function tg(t,n){no(8390656,8,t,n)}function mh(t,n){io(2048,8,t,n)}function eg(t,n){return io(4,2,t,n)}function ng(t,n){return io(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function rg(t,n,r){r=r!=null?r.concat([t]):null,io(4,4,ig.bind(null,n,t),r)}function gh(){}function ag(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&rh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function sg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&rh(n,l[1]))return l[0];if(l=t(),aa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function ph(t,n,r){return r===void 0||(or&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=up(),Ct.lanes|=t,_r|=t,r)}function lg(t,n,r,l){return ln(r,n)?r:$a.current!==null?(t=ph(t,r,l),ln(t,n)||(xe=!0),t):(or&42)===0?(xe=!0,t.memoizedState=r):(t=up(),Ct.lanes|=t,_r|=t,n)}function ug(t,n,r,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var _=S.T,E={};S.T=E,_h(t,!1,n,r);try{var b=c(),M=S.S;if(M!==null&&M(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Y=X0(b,l);pl(t,n,Y,hn(t))}else pl(t,n,l,hn(t))}catch(J){pl(t,n,{then:function(){},status:"rejected",reason:J},hn())}finally{st.p=f,S.T=_}}function t1(){}function yh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=og(t).queue;ug(t,c,n,Rt,r===null?t1:function(){return cg(t),r(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=og(t).next.queue;pl(t,n,{},hn())}function vh(){return He(Ul)}function hg(){return me().memoizedState}function fg(){return me().memoizedState}function e1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=dr(r);var l=mr(n,t,r);l!==null&&(We(l,n,r),_l(l,n,r)),n={cache:eh()},t.payload=n;return}n=n.return}}function n1(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ro(t)?mg(n,r):(r=Kc(t,n,r,l),r!==null&&(We(r,t,l),gg(r,n,l)))}function dg(t,n,r){var l=hn();pl(t,n,r,l)}function pl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ro(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,_))return ku(t,n,c,0),Xt===null&&Bu(),!1}catch{}finally{}if(r=Kc(t,n,c,l),r!==null)return We(r,t,l),gg(r,n,l),!0}return!1}function _h(t,n,r,l){if(l={lane:2,revertLane:of(),action:l,hasEagerState:!1,eagerState:null,next:null},ro(t)){if(n)throw Error(s(479))}else n=Kc(t,r,l,2),n!==null&&We(n,t,2)}function ro(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function mg(t,n){Wa=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function gg(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,$i(t,r)}}var Zn={readContext:He,use:to,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Zn.useCacheRefresh=oe,Zn.useMemoCache=oe,Zn.useHostTransitionStatus=oe,Zn.useFormState=oe,Zn.useActionState=oe,Zn.useOptimistic=oe;var sa={readContext:He,use:to,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:tg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,no(4194308,4,ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(aa){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(aa){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=n1.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=fh(t);var n=t.queue,r=dg.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:gh,useDeferredValue:function(t,n){var r=nn();return ph(r,t,n)},useTransition:function(){var t=fh(!1);return t=ug.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,c=nn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));(Lt&60)!==0||zm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,tg(Bm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,jm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Bt){var r=Ti,l=Ei;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=$0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=e1.bind(null,Ct)}};sa.useMemoCache=oh,sa.useHostTransitionStatus=vh,sa.useFormState=Xm,sa.useActionState=Xm,sa.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_h.bind(null,Ct,!0,r),r.dispatch=n,[t,n]};var cr={readContext:He,use:to,useCallback:ag,useContext:He,useEffect:mh,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:eo,useRef:Wm,useState:function(){return eo(Si)},useDebugValue:gh,useDeferredValue:function(t,n){var r=me();return lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=eo(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Pm,useId:hg};cr.useCacheRefresh=fg,cr.useMemoCache=oh,cr.useHostTransitionStatus=vh,cr.useFormState=$m,cr.useActionState=$m,cr.useOptimistic=function(t,n){var r=me();return Hm(r,Qt,t,n)};var la={readContext:He,use:to,useCallback:ag,useContext:He,useEffect:mh,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:hh,useRef:Wm,useState:function(){return hh(Si)},useDebugValue:gh,useDeferredValue:function(t,n){var r=me();return Qt===null?ph(r,t,n):lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=hh(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Pm,useId:hg};la.useCacheRefresh=fg,la.useMemoCache=oh,la.useHostTransitionStatus=vh,la.useFormState=Jm,la.useActionState=Jm,la.useOptimistic=function(t,n){var r=me();return Qt!==null?Hm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Eh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Th={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=dr(l);c.payload=n,r!=null&&(c.callback=r),n=mr(t,c,l),n!==null&&(We(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=dr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=mr(t,c,l),n!==null&&(We(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=dr(r);l.tag=2,n!=null&&(l.callback=n),n=mr(t,l,r),n!==null&&(We(n,t,r),_l(n,t,r))}};function pg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ao=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vg(t){ao(t)}function _g(t){console.error(t)}function Eg(t){ao(t)}function so(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,r){return r=dr(r),r.tag=3,r.payload={element:null},r.callback=function(){so(t,n)},r}function Ag(t){return t=dr(t),t.tag=3,t}function Sg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Tg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Tg(n,r,l),typeof c!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function i1(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&vl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return $n===null?rf():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Jc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return r.flags|=65536,l===Jc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sf(t,l,c)),!1}throw Error(s(435,r.tag))}return sf(t,l,c),rf(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(s(422),{cause:l}),ll(En(t,r)))):(l!==Zc&&(n=Error(s(423),{cause:l}),ll(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Ah(t.stateNode,l,c),Ph(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,r),Cl===null?Cl=[f]:Cl.push(f),se!==4&&(se=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ah(r.stateNode,l,t),Ph(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Er===null||!Er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ag(c),Sg(c,t,r,l),Ph(r,c),!1}r=r.return}while(r!==null);return!1}var bg=Error(s(461)),xe=!1;function Pe(t,n,r,l){n.child=t===null?Vm(n,null,r,l):ia(n,t.child,r,l)}function Rg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ca(n),l=ah(t,n,r,_,f,c),E=sh(),t!==null&&!xe?(lh(t,n,c),bi(t,n,c)):(Bt&&E&&Xc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function wg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cg(t,n,f,l,c)):(t=ho(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(_,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=vr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,xh(t,c))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Sh(t,n,r,l,c)}function Dg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(yl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Vg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(n,_!==null?_.cachePool:null),_!==null?Nm(n,_):Wc(),xm(n);else return n.lanes=n.childLanes=536870912,Vg(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?($u(n,_.cachePool),Nm(n,_),ur(),n.memoizedState=null):(t!==null&&$u(n,null),Wc(),ur());return Pe(t,n,c,r),n.child}function Vg(t,n,r,l){var c=ih();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&$u(n,null),Wc(),xm(n),t!==null&&vl(t,n,l,!0),null}function yl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Sh(t,n,r,l,c){return ca(n),r=ah(t,n,r,l,void 0,c),l=sh(),t!==null&&!xe?(lh(t,n,c),bi(t,n,c)):(Bt&&l&&Xc(n),n.flags|=1,Pe(t,n,r,c),n.child)}function Ng(t,n,r,l,c,f){return ca(n),n.updateQueue=null,r=Um(n,l,r,c),Lm(t),l=sh(),t!==null&&!xe?(lh(t,n,f),bi(t,n,f)):(Bt&&l&&Xc(n),n.flags|=1,Pe(t,n,r,f),n.child)}function xg(t,n,r,l,c){if(ca(n),n.stateNode===null){var f=Qa,_=r.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Lh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?He(_):Qa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Eh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Th.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ua(r,E);f.props=b;var M=f.context,Y=r.contextType;_=Qa,typeof Y=="object"&&Y!==null&&(_=He(Y));var J=r.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==_)&&yg(n,f,l,_),fr=!1;var q=n.memoizedState;f.state=q,Tl(n,l,f,c),El(),M=n.memoizedState,E||q!==M||fr?(typeof J=="function"&&(Eh(n,r,J,l),M=n.memoizedState),(b=fr||pg(n,r,b,l,q,M,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=_,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Uh(t,n),_=n.memoizedProps,Y=ua(r,_),f.props=Y,J=n.pendingProps,q=f.context,M=r.contextType,b=Qa,typeof M=="object"&&M!==null&&(b=He(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==J||q!==b)&&yg(n,f,l,b),fr=!1,q=n.memoizedState,f.state=q,Tl(n,l,f,c),El();var F=n.memoizedState;_!==J||q!==F||fr||t!==null&&t.dependencies!==null&&lo(t.dependencies)?(typeof E=="function"&&(Eh(n,r,E,l),F=n.memoizedState),(Y=fr||pg(n,r,Y,l,q,F,b)||t!==null&&t.dependencies!==null&&lo(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=b,l=Y):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ia(n,t.child,null,c),n.child=ia(n,null,r,c)):Pe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function Ig(t,n,r,l){return sl(),n.flags|=256,Pe(t,n,r,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:Mm()}}function wh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Og(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?lr(n):ur(),Bt){var E=Ue,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,Ue=null,b=!0):b=!1}b||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(ur(),c=n.mode,E=Dh({mode:"hidden",children:E},c),l=fa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Rh(r),c.childLanes=wh(t,_,r),n.memoizedState=bh,l):(lr(n),Ch(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(lr(n),n.flags&=-257,n=Vh(t,n,r)):n.memoizedState!==null?(ur(),n.child=t.child,n.flags|=128,n=null):(ur(),c=l.fallback,E=n.mode,l=Dh({mode:"visible",children:l.children},E),c=fa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ia(n,t.child,null,r),l=n.child,l.memoizedState=Rh(r),l.childLanes=wh(t,_,r),n.memoizedState=bh,n=c);else if(lr(n),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var M=_.dgst;_=M,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),n=Vh(t,n,r)}else if(xe||vl(t,n,r,!1),_=(r&t.childLanes)!==0,xe||_){if(_=Xt,_!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,sr(t,l),We(_,t,l),bg}E.data==="$?"||rf(),n=Vh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=v1.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=Ln(E.nextSibling),Je=n,Bt=!0,On=null,Xn=!1,t!==null&&(Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=ta,Ei=t.id,Ti=t.overflow,ta=n),n=Ch(n,l.children),n.flags|=4096);return n}return c?(ur(),c=l.fallback,E=n.mode,b=t.child,M=b.sibling,l=vr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?c=vr(M,c):(c=fa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Rh(r):(b=E.cachePool,b!==null?(M=Se._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=Mm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=wh(t,_,r),n.memoizedState=bh,l):(lr(n),r=t.child,t=r.sibling,r=vr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Ch(t,n){return n=Dh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Dh(t,n){return ap(t,n,0,null)}function Vh(t,n,r){return ia(n,t.child,null,r),t=Ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Oh(t.return,n,r)}function Nh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,r,n);else if(t.tag===19)Mg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Nh(n,!0,r,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),_r|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(vl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&lo(t)))}function r1(t,n,r){switch(n.tag){case 3:Gi(n,n.stateNode.containerInfo),hr(n,Se,t.memoizedState.cache),sl();break;case 27:case 5:Us(n);break;case 4:Gi(n,n.stateNode.containerInfo);break;case 10:hr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(lr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Og(t,n,r):(lr(n),t=bi(t,n,r),t!==null?t.sibling:null);lr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(vl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,r);case 24:hr(n,Se,t.memoizedState.cache)}return bi(t,n,r)}function Ug(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!xh(t,r)&&(n.flags&128)===0)return xe=!1,r1(t,n,r);xe=(t.flags&131072)!==0}else xe=!1,Bt&&(n.flags&1048576)!==0&&Em(n,Gu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fh(l)?(t=ua(l,t),n.tag=1,n=xg(null,n,l,t,r)):(n.tag=0,n=Sh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===B){n.tag=11,n=Rg(null,n,l,t,r);break t}else if(c===K){n.tag=14,n=wg(null,n,l,t,r);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return Sh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ua(l,n.pendingProps),xg(t,n,l,c,r);case 3:t:{if(Gi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Uh(t,n),Tl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,hr(n,Se,f),f!==c.cache&&Mh(n,[Se],r,!0),El(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Ig(t,n,f,r);break t}else if(f!==l){l=En(Error(s(424)),n),ll(l),n=Ig(t,n,f,r);break t}else for(Ue=Ln(n.stateNode.containerInfo.firstChild),Je=n,Bt=!0,On=null,Xn=!0,r=Vm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),f===l){n=bi(t,n,r);break t}Pe(t,n,f,r)}n=n.child}return n;case 26:return yl(t,n),t===null?(r=jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=bo(fn.current).createElement(r),l[De]=n,l[_e]=t,ze(l,r,t),Jt(l),n.stateNode=l):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Us(n),t===null&&Bt&&(l=n.stateNode=Up(n.type,n.pendingProps,fn.current),Je=n,Xn=!0,Ue=Ln(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,r):n.child=ia(n,null,l,r),yl(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=M1(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Je=n,Ue=Ln(l.firstChild),Xn=!1,c=!0):c=!1),c||na(n)),Us(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,vf(c,f)?l=null:_!==null&&vf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=ah(t,n,Z0,null,null,r),Ul._currentValue=c),yl(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=L1(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Je=n,Ue=null,t=!0):t=!1),t||na(n)),null;case 13:return Og(t,n,r);case 4:return Gi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ia(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return Rg(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,hr(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=He(c),l=l(c),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return wg(t,n,n.type,n.pendingProps,r);case 15:return Cg(t,n,n.type,n.pendingProps,r);case 19:return Lg(t,n,r);case 22:return Dg(t,n,r);case 24:return ca(n),l=He(Se),t===null?(c=ih(),c===null&&(c=Xt,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Lh(n),hr(n,Se,c)):((t.lanes&r)!==0&&(Uh(t,n),Tl(n,null,null,r),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),hr(n,Se,l)):(l=f.cache,hr(n,Se,l),l!==c.cache&&Mh(n,[Se],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Ih=zt(null),oa=null,Ri=null;function hr(t,n,r){Ft(Ih,n._currentValue),n._currentValue=r}function wi(t){t._currentValue=Ih.current,ie(Ih)}function Oh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Mh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Oh(f.return,r,t),l||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Oh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function vl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(c===Hi.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&Mh(n,t,r,l),n.flags|=262144}function lo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){oa=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Pg(oa,t)}function uo(t,n){return oa===null&&ca(t),Pg(t,n)}function Pg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return r}var fr=!1;function Lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qu(t),vm(t,null,r),n}return ku(t,l,n,r),qu(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,$i(t,r)}}function Ph(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var zh=!1;function El(){if(zh){var t=Ja;if(t!==null)throw t}}function Tl(t,n,r,l){zh=!1;var c=t.updateQueue;fr=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,M=b.next;b.next=null,_===null?f=M:_.next=M,_=b;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=M:E.next=M,Y.lastBaseUpdate=b))}if(f!==null){var J=c.baseState;_=0,Y=M=b=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Lt&q)===q:(l&q)===q){q!==0&&q===Za&&(zh=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,Tt=E;q=n;var le=r;switch(Tt.tag){case 1:if(ot=Tt.payload,typeof ot=="function"){J=ot.call(le,J,q);break t}J=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Tt.payload,q=typeof ot=="function"?ot.call(le,J,q):ot,q==null)break t;J=D({},J,q);break t;case 2:fr=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(M=Y=F,b=J):Y=Y.next=F,_|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);Y===null&&(b=J),c.baseState=b,c.firstBaseUpdate=M,c.lastBaseUpdate=Y,f===null&&(c.shared.lanes=0),_r|=_,t.lanes=_,t.memoizedState=J}}function zg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function jg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)zg(r[t],n)}function Al(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function gr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var b=r;try{E()}catch(M){Kt(c,b,M)}}}l=l.next}while(l!==f)}}catch(M){Kt(n,n.return,M)}}function Bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{jg(n,r)}catch(l){Kt(t,t.return,l)}}}function kg(t,n,r){r.props=ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ha(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Kt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Hg(t,n,r){try{var l=t.stateNode;V1(l,t.type,r,n),l[_e]=n}catch(c){Kt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=So));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Bh(t,n,r),t=t.sibling;t!==null;)Bh(t,n,r),t=t.sibling}function oo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(oo(t,n,r),t=t.sibling;t!==null;)oo(t,n,r),t=t.sibling}var Ci=!1,ae=!1,kh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,Qg=!1;function a1(t,n){if(t=t.containerInfo,pf=No,t=om(t),Hc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,b=-1,M=0,Y=0,J=t,q=null;e:for(;;){for(var F;J!==r||c!==0&&J.nodeType!==3||(E=_+c),J!==f||l!==0&&J.nodeType!==3||(b=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break e;if(q===r&&++M===c&&(E=_),q===f&&++Y===l&&(b=_),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(yf={focusedElem:t,selectionRange:r},No=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ot=ua(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Kt(r,r.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return ot=Qg,Qg=!1,ot}function Yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Vi(t,r),l&4&&Al(5,r);break;case 1:if(Vi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Kt(r,r.return,E)}else{var c=ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(r,r.return,E)}}l&64&&Bg(r),l&512&&ha(r,r.return);break;case 3:if(Vi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{jg(l,t)}catch(E){Kt(r,r.return,E)}}break;case 26:Vi(t,r),l&512&&ha(r,r.return);break;case 27:case 5:Vi(t,r),n===null&&l&4&&qg(r),l&512&&ha(r,r.return);break;case 12:Vi(t,r);break;case 13:Vi(t,r),l&4&&$g(t,r);break;case 22:if(c=r.memoizedState!==null||Ci,!c){n=n!==null&&n.memoizedState!==null||ae;var f=Ci,_=ae;Ci=c,(ae=n)&&!_?pr(t,r,(r.subtreeFlags&8772)!==0):Vi(t,r),Ci=f,ae=_}l&512&&(r.memoizedProps.mode==="manual"?ha(r,r.return):un(r,r.return));break;default:Vi(t,r)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&kr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,on=!1;function Di(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fi,r)}catch{}switch(r.tag){case 26:ae||un(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||un(r,n);var l=ge,c=on;for(ge=r.stateNode,Di(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);kr(r),ge=l,on=c;break;case 5:ae||un(r,n);case 6:c=ge;var f=on;if(ge=null,Di(t,n,r),ge=c,on=f,ge!==null)if(on)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Kt(r,n,_)}else try{ge.removeChild(r.stateNode)}catch(_){Kt(r,n,_)}break;case 18:ge!==null&&(on?(n=ge,r=r.stateNode,n.nodeType===8?Ef(n.parentNode,r):n.nodeType===1&&Ef(n,r),Bl(n)):Ef(ge,r.stateNode));break;case 4:l=ge,c=on,ge=r.stateNode.containerInfo,on=!0,Di(t,n,r),ge=l,on=c;break;case 0:case 11:case 14:case 15:ae||gr(2,r,n),ae||gr(4,r,n),Di(t,n,r);break;case 1:ae||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&kg(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ae||un(r,n),ae=(l=ae)||r.memoizedState!==null,Di(t,n,r),ae=l;break;default:Di(t,n,r)}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Kt(n,n.return,r)}}function s1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(s(435,t.tag))}}function qh(t,n){var r=s1(t);n.forEach(function(l){var c=_1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,on=!1;break t;case 3:ge=E.stateNode.containerInfo,on=!0;break t;case 4:ge=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ge===null)throw Error(s(160));Xg(f,_,c),ge=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var Mn=null;function Zg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(gr(3,t,t.return),Al(3,t),gr(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ae||r===null||un(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(bn(n,t),Rn(t),l&512&&(ae||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ji]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[De]=t,Jt(f),l=f;break t;case"link":var _=qp("link","href",c).get(l+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(_=qp("meta","content",c).get(l+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Jt(f),l=f}t.stateNode=l}else Hp(c,t.type,t.stateNode);else t.stateNode=kp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Hp(c,t.type,t.stateNode):kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var M=b.nextSibling,Y=b.nodeName;b[Ji]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=M}for(var J=t.type,q=c.attributes;q.length;)c.removeAttributeNode(q[0]);ze(c,J,f),c[De]=t,c[_e]=f}catch(ot){Kt(t,t.return,ot)}}case 5:if(bn(n,t),Rn(t),l&512&&(ae||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(ot){Kt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ot){Kt(t,t.return,ot)}}break;case 3:if(Co=null,c=Mn,Mn=Ro(n.containerInfo),bn(n,t),Mn=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(ot){Kt(t,t.return,ot)}kh&&(kh=!1,Jg(t));break;case 4:l=Mn,Mn=Ro(t.stateNode.containerInfo),bn(n,t),Rn(t),Mn=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Zh=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 22:if(l&512&&(ae||r===null||un(r,r.return)),b=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,Y=Ci,J=ae,Ci=Y||b,ae=J||M,bn(n,t),ae=J,Ci=Y,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Ci||ae,r===null||M||n||ns(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=M.stateNode,E=M.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ot){Kt(M,M.return,ot)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(ot){Kt(M,M.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,qh(t,r))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Gg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=jh(t);oo(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(gn(_,""),l.flags&=-33);var E=jh(t);oo(t,E,_);break;case 3:case 4:var b=l.stateNode.containerInfo,M=jh(t);Bh(t,M,b);break;default:throw Error(s(161))}}}catch(Y){Kt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function ns(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:gr(4,n,n.return),ns(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&kg(n,n.return,r),ns(n);break;case 26:case 27:case 5:un(n,n.return),ns(n);break;case 22:un(n,n.return),n.memoizedState===null&&ns(n);break;default:ns(n)}t=t.sibling}}function pr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:pr(c,f,r),Al(4,f);break;case 1:if(pr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Kt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)zg(b[c],E)}catch(M){Kt(l,l.return,M)}}r&&_&64&&Bg(f),ha(f,f.return);break;case 26:case 27:case 5:pr(c,f,r),r&&l===null&&_&4&&qg(f),ha(f,f.return);break;case 12:pr(c,f,r);break;case 13:pr(c,f,r),r&&_&4&&$g(c,f);break;case 22:f.memoizedState===null&&pr(c,f,r),ha(f,f.return);break;default:pr(c,f,r)}n=n.sibling}}function Hh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fl(r))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function yr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,r,l),n=n.sibling}function Wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:yr(t,n,r,l),c&2048&&Al(9,n);break;case 3:yr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){yr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else yr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?yr(t,n,r,l):Sl(t,n):f._visibility&4?yr(t,n,r,l):(f._visibility|=4,is(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hh(n.alternate,n);break;case 24:yr(t,n,r,l),c&2048&&Gh(n.alternate,n);break;default:yr(t,n,r,l)}}function is(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,E=r,b=l,M=_.flags;switch(_.tag){case 0:case 11:case 15:is(f,_,E,b,c),Al(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?is(f,_,E,b,c):Sl(f,_):(Y._visibility|=4,is(f,_,E,b,c)),c&&M&2048&&Hh(_.alternate,_);break;case 24:is(f,_,E,b,c),c&&M&2048&&Gh(_.alternate,_);break;default:is(f,_,E,b,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Hh(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Gh(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function rs(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:rs(t),t.flags&bl&&t.memoizedState!==null&&K1(Mn,t.memoizedState,t.memoizedProps);break;case 5:rs(t);break;case 3:case 4:var n=Mn;Mn=Ro(t.stateNode.containerInfo),rs(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,rs(t),bl=n):rs(t));break;default:rs(t)}}function ep(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ip(l,t)}ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&gr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,co(t)):Rl(t);break;default:Rl(t)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,ip(l,t)}ep(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:gr(8,n,n.return),co(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,co(n));break;default:co(n)}t=t.sibling}}function ip(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:gr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Kg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function l1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new l1(t,n,r,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function rp(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ho(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Fh(t)&&(_=1);else if(typeof t=="string")_=Q1(t,r,Ke.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return fa(r.children,c,f,n);case y:_=8,c|=24;break;case A:return t=wn(12,r,n,c|2),t.elementType=A,t.lanes=f,t;case $:return t=wn(13,r,n,c),t.elementType=$,t.lanes=f,t;case G:return t=wn(19,r,n,c),t.elementType=G,t.lanes=f,t;case et:return ap(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case z:_=10;break t;case V:_=9;break t;case B:_=11;break t;case K:_=14;break t;case nt:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=wn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function fa(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function ap(t,n,r,l){t=wn(22,t,l,n),t.elementType=et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var _=sr(f,2);_!==null&&(c._pendingVisibility|=2,We(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var _=sr(f,2);_!==null&&(c._pendingVisibility&=-3,We(_,f,2))}}};return t.stateNode=c,t}function Qh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Yh(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ni(t){t.flags|=4}function sp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gp(n)){if(n=Sn.current,n!==null&&((Lt&4194176)===Lt?$n!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==$n))throw ol=Jc,Sm;t.flags|=8192}}function fo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ki():536870912,t.lanes|=n,ss|=n)}function wl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function u1(t,n,r){var l=n.pendingProps;switch($c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Se),oi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,On!==null&&(ef(On),On=null))),Wt(n),null;case 26:return r=n.memoizedState,t===null?(Ni(n),r!==null?(Wt(n),sp(n,r)):(Wt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ni(n),Wt(n),sp(n,r)):(Wt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),Wt(n),n.flags&=-16777217),null;case 27:Ra(n),r=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=Ke.current,al(n)?Tm(n):(t=Up(c,l,r),n.stateNode=t,Ni(n))}return Wt(n),null;case 5:if(Ra(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(t=Ke.current,al(n))Tm(n);else{switch(c=bo(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=fn.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Np(t.nodeValue,r)),t||na(n)}else t=bo(t).createTextNode(l),t[De]=n,n.stateNode=t}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else On!==null&&(ef(On),On=null),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),fo(n,n.updateQueue),Wt(n),null;case 4:return oi(),t===null&&df(n.stateNode.containerInfo),Wt(n),null;case 10:return wi(n.type),Wt(n),null;case 19:if(ie(Ae),c=n.memoizedState,c===null)return Wt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)wl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,wl(c,!1),t=f.updateQueue,n.updateQueue=t,fo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)rp(r,t),r=r.sibling;return Ft(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>mo&&(n.flags|=128,l=!0,wl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Xu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,fo(n,t),wl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Wt(n),null}else 2*tn()-c.renderingStartTime>mo&&r!==536870912&&(n.flags|=128,l=!0,wl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Ft(Ae,l?t&1|2:t&1),n):(Wt(n),null);case 22:case 23:return Ai(n),th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&fo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(ra),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(Se),Wt(n),null;case 25:return null}throw Error(s(156,n.tag))}function o1(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Se),oi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ra(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return oi(),null;case 10:return wi(n.type),null;case 22:case 23:return Ai(n),th(),t!==null&&ie(ra),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Se),null;case 25:return null;default:return null}}function lp(t,n){switch($c(n),n.tag){case 3:wi(Se),oi();break;case 26:case 27:case 5:Ra(n);break;case 4:oi();break;case 13:Ai(n);break;case 19:ie(Ae);break;case 10:wi(n.type);break;case 22:case 23:Ai(n),th(),t!==null&&ie(ra);break;case 24:wi(Se)}}var c1={getCacheForType:function(t){var n=He(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},h1=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Nt=null,Lt=0,$t=0,cn=null,xi=!1,as=!1,Kh=!1,Ii=0,se=0,_r=0,da=0,Xh=0,Cn=0,ss=0,Cl=null,Jn=null,$h=!1,Zh=0,mo=1/0,go=null,Er=null,po=!1,ma=null,Dl=0,Jh=0,Wh=null,Vl=0,tf=null;function hn(){if((te&2)!==0&&Lt!==0)return Lt&-Lt;if(S.T!==null){var t=Za;return t!==0?t:of()}return Tu()}function up(){Cn===0&&(Cn=(Lt&536870912)===0||Bt?ks():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Cn}function We(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(ls(t,0),Oi(t,Lt,Cn,!1)),ue(t,r),((te&2)===0||t!==Xt)&&(t===Xt&&((te&2)===0&&(da|=r),se===4&&Oi(t,Lt,Cn,!1)),Wn(t))}function op(t,n,r){if((te&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Yi(t,n),c=l?m1(t,n):af(t,n,!0),f=l;do{if(c===0){as&&!l&&Oi(t,n,0,!1);break}else if(c===6)Oi(t,n,0,!xi);else{if(r=t.current.alternate,f&&!f1(r)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=t;c=Cl;var b=E.current.memoizedState.isDehydrated;if(b&&(ls(E,_).flags|=256),_=af(E,_,!1),_!==2){if(Kh&&!b){E.errorRecoveryDisabledLanes|=f,da|=f,c=4;break t}f=Jn,Jn=c,f!==null&&ef(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){ls(t,0),Oi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Oi(l,n,Cn,!xi);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Zh+300-tn(),10<f)){if(Oi(l,n,Cn,!xi),dn(l,0)!==0)break t;l.timeoutHandle=Op(cp.bind(null,l,r,Jn,go,$h,n,Cn,da,ss,xi,2,-0,0),f);break t}cp(l,r,Jn,go,$h,n,Cn,da,ss,xi,0,-0,0)}}break}while(!0);Wn(t)}function ef(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function cp(t,n,r,l,c,f,_,E,b,M,Y,J,q){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:Y1},tp(n),n=X1(),n!==null)){t.cancelPendingCommit=n(yp.bind(null,t,r,l,c,_,E,b,1,J,q)),Oi(t,f,_,!M);return}yp(t,r,l,c,_,E,b,Y,J,q)}function f1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(t,n,r,l){n&=~Xh,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&Xi(t,r,n)}function yo(){return(te&6)===0?(Nl(0),!1):!0}function nf(){if(Nt!==null){if($t===0)var t=Nt.return;else t=Nt,Ri=oa=null,uh(t),Xa=null,cl=0,t=Nt;for(;t!==null;)lp(t.alternate,t),t=t.return;Nt=null}}function ls(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,x1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),nf(),Xt=t,Nt=r=vr(t.current,null),Lt=n,$t=0,cn=null,xi=!1,as=Yi(t,n),Kh=!1,ss=Cn=Xh=da=_r=se=0,Jn=Cl=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Bu(),r}function hp(t,n){Ct=null,S.H=Zn,n===ul?(n=wm(),$t=3):n===Sm?(n=wm(),$t=4):$t=n===bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Nt===null&&(se=1,so(t,En(n,t.current)))}function fp(){var t=S.H;return S.H=Zn,t===null?Zn:t}function dp(){var t=S.A;return S.A=c1,t}function rf(){se=4,xi||(Lt&4194176)!==Lt&&Sn.current!==null||(as=!0),(_r&134217727)===0&&(da&134217727)===0||Xt===null||Oi(Xt,Lt,Cn,!1)}function af(t,n,r){var l=te;te|=2;var c=fp(),f=dp();(Xt!==t||Lt!==n)&&(go=null,ls(t,n)),n=!1;var _=se;t:do try{if($t!==0&&Nt!==null){var E=Nt,b=cn;switch($t){case 8:nf(),_=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var M=$t;if($t=0,cn=null,us(t,E,b,M),r&&as){_=0;break t}break;default:M=$t,$t=0,cn=null,us(t,E,b,M)}}d1(),_=se;break}catch(Y){hp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ri=oa=null,te=l,S.H=c,S.A=f,Nt===null&&(Xt=null,Lt=0,Bu()),_}function d1(){for(;Nt!==null;)mp(Nt)}function m1(t,n){var r=te;te|=2;var l=fp(),c=dp();Xt!==t||Lt!==n?(go=null,mo=tn()+500,ls(t,n)):as=Yi(t,n);t:do try{if($t!==0&&Nt!==null){n=Nt;var f=cn;e:switch($t){case 1:$t=0,cn=null,us(t,n,f,1);break;case 2:if(bm(f)){$t=0,cn=null,gp(n);break}n=function(){$t===2&&Xt===t&&($t=7),Wn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:bm(f)?($t=0,cn=null,gp(n)):($t=0,cn=null,us(t,n,f,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var E=Nt;if(!_||Gp(_)){$t=0,cn=null;var b=E.sibling;if(b!==null)Nt=b;else{var M=E.return;M!==null?(Nt=M,vo(M)):Nt=null}break e}}$t=0,cn=null,us(t,n,f,5);break;case 6:$t=0,cn=null,us(t,n,f,6);break;case 8:nf(),se=6;break t;default:throw Error(s(462))}}g1();break}catch(Y){hp(t,Y)}while(!0);return Ri=oa=null,S.H=l,S.A=c,te=r,Nt!==null?0:(Xt=null,Lt=0,Bu(),se)}function g1(){for(;Nt!==null&&!Ic();)mp(Nt)}function mp(t){var n=Ug(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?vo(t):Nt=n}function gp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ng(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Ng(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:uh(n);default:lp(r,n),n=Nt=rp(n,Ii),n=Ug(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?vo(t):Nt=n}function us(t,n,r,l){Ri=oa=null,uh(n),Xa=null,cl=0;var c=n.return;try{if(i1(t,c,n,r,Lt)){se=1,so(t,En(r,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;se=1,so(t,En(r,t.current)),Nt=null;return}n.flags&32768?(Bt||l===1?t=!0:as||(Lt&536870912)!==0?t=!1:(xi=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pp(n,t)):vo(n)}function vo(t){var n=t;do{if((n.flags&32768)!==0){pp(n,xi);return}t=n.return;var r=u1(n.alternate,n,Ii);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);se===0&&(se=5)}function pp(t,n){do{var r=o1(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);se=6,Nt=null}function yp(t,n,r,l,c,f,_,E,b,M){var Y=S.T,J=st.p;try{st.p=2,S.T=null,p1(t,n,r,l,J,c,f,_,E,b,M)}finally{S.T=Y,st.p=J}}function p1(t,n,r,l,c,f,_,E){do os();while(ma!==null);if((te&6)!==0)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=Yc,_u(t,l,M,f,_,E),t===Xt&&(Nt=Xt=null,Lt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||po||(po=!0,Jh=M,Wh=r,E1(ci,function(){return os(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,f=st.p,st.p=2,_=te,te|=4,a1(t,b),Zg(b,t),B0(yf,t.containerInfo),No=!!pf,yf=pf=null,t.current=b,Yg(t,b.alternate,b),Ps(),te=_,st.p=f,S.T=r):t.current=b,po?(po=!1,ma=t,Dl=l):vp(t,M),M=t.pendingLanes,M===0&&(Er=null),js(b.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)M=n[b],c(M.value,{componentStack:M.stack});return(Dl&3)!==0&&os(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===tf?Vl++:(Vl=0,tf=t):Vl=0,Nl(0),null}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function os(){if(ma!==null){var t=ma,n=Jh;Jh=0;var r=Eu(Dl),l=S.T,c=st.p;try{if(st.p=32>r?32:r,S.T=null,ma===null)var f=!1;else{r=Wh,Wh=null;var _=ma,E=Dl;if(ma=null,Dl=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,np(_.current),Wg(_,_.current,E,r),te=b,Nl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fi,_)}catch{}f=!0}return f}finally{st.p=c,S.T=l,vp(t,n)}}return!1}function _p(t,n,r){n=En(r,n),n=Ah(t.stateNode,n,2),t=mr(t,n,2),t!==null&&(ue(t,2),Wn(t))}function Kt(t,n,r){if(t.tag===3)_p(t,t,r);else for(;n!==null;){if(n.tag===3){_p(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){t=En(r,t),r=Ag(2),l=mr(n,r,2),l!==null&&(Sg(r,l,n,t),ue(l,2),Wn(l));break}}n=n.return}}function sf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new h1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Kh=!0,c.add(r),t=y1.bind(null,t,n,r),n.then(t,t))}function y1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Lt&r)===r&&(se===4||se===3&&(Lt&62914560)===Lt&&300>tn()-Zh?(te&2)===0&&ls(t,0):Xh|=r,ss===Lt&&(ss=0)),Wn(t)}function Ep(t,n){n===0&&(n=Ki()),t=sr(t,n),t!==null&&(ue(t,n),Wn(t))}function v1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ep(t,r)}function _1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ep(t,r)}function E1(t,n){return zr(t,n)}var _o=null,cs=null,lf=!1,Eo=!1,uf=!1,ga=0;function Wn(t){t!==cs&&t.next===null&&(cs===null?_o=cs=t:cs=cs.next=t),Eo=!0,lf||(lf=!0,A1(T1))}function Nl(t,n){if(!uf&&Eo){uf=!0;do for(var r=!1,l=_o;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(_&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Sp(l,f))}else f=Lt,f=dn(l,l===Xt?f:0),(f&3)===0||Yi(l,f)||(r=!0,Sp(l,f));l=l.next}while(r);uf=!1}}function T1(){Eo=lf=!1;var t=0;ga!==0&&(N1()&&(t=ga),ga=0);for(var n=tn(),r=null,l=_o;l!==null;){var c=l.next,f=Tp(l,n);f===0?(l.next=null,r===null?_o=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||(f&3)!==0)&&(Eo=!0)),l=c}Nl(t)}function Tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Xe(f),E=1<<_,b=c[_];b===-1?((E&r)===0||(E&l)!==0)&&(c[_]=Da(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Lt,r=dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ca(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Yi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ca(l),Eu(r)){case 2:case 8:r=Ce;break;case 32:r=ci;break;case 268435456:r=zs;break;default:r=ci}return l=Ap.bind(null,t),r=zr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ca(l),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,n){var r=t.callbackNode;if(os()&&t.callbackNode!==r)return null;var l=Lt;return l=dn(t,t===Xt?l:0),l===0?null:(op(t,l,n),Tp(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Ap.bind(null,t):null)}function Sp(t,n){if(os())return null;op(t,n,!0)}function A1(t){I1(function(){(te&6)!==0?zr(ve,t):t()})}function of(){return ga===0&&(ga=ks()),ga}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function Rp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function S1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=bp((c[_e]||null).action),_=l.submitter;_&&(n=(n=_[_e]||null)?bp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new La("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var b=_?Rp(c,_):new FormData(c);yh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Rp(c,_):new FormData(c),yh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var cf=0;cf<ym.length;cf++){var hf=ym[cf],b1=hf.toLowerCase(),R1=hf[0].toUpperCase()+hf.slice(1);In(b1,"on"+R1)}In(fm,"onAnimationEnd"),In(dm,"onAnimationIteration"),In(mm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(q0,"onTransitionRun"),In(H0,"onTransitionStart"),In(G0,"onTransitionCancel"),In(gm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function wp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],b=E.instance,M=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(Y){ao(Y)}c.currentTarget=null,f=b}else for(_=0;_<l.length;_++){if(E=l[_],b=E.instance,M=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(Y){ao(Y)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Br];r===void 0&&(r=n[Br]=new Set);var l=t+"__bubble";r.has(l)||(Cp(n,t,2,!1),r.add(l))}function ff(t,n,r){var l=0;n&&(l|=4),Cp(r,t,l,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[To]){t[To]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(w1.has(r)||ff(r,!1,t),ff(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[To]||(n[To]=!0,ff("selectionchange",!1,n))}}function Cp(t,n,r,l){switch($p(n)){case 2:var c=J1;break;case 8:c=W1;break;default:c=wf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function mf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var b=_.tag;if((b===3||b===4)&&(b=_.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;_=_.return}for(;E!==null;){if(_=xn(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){l=f=_;continue t}E=E.parentNode}}l=l.return}Ru(function(){var M=f,Y=Ma(r),J=[];t:{var q=pm.get(t);if(q!==void 0){var F=La,ot=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":F=ka;break;case"focusin":ot="focus",F=za;break;case"focusout":ot="blur",F=za;break;case"beforeblur":case"afterblur":F=za;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ou;break;case fm:case dm:case mm:F=ja;break;case gm:F=Lu;break;case"scroll":case"scrollend":F=wu;break;case"wheel":F=qa;break;case"copy":case"cut":case"paste":F=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=el;break;case"toggle":case"beforetoggle":F=Pu}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var x=M,k;x!==null;){var X=x;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||L===null||(X=Fr(x,L),X!=null&&Tt.push(Il(x,X,k))),le)break;x=x.return}0<Tt.length&&(q=new F(q,ot,null,r,Y),J.push({event:q,listeners:Tt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&r!==pn&&(ot=r.relatedTarget||r.fromElement)&&(xn(ot)||ot[hi]))break t;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ot=r.relatedTarget||r.toElement,F=M,ot=ot?xn(ot):null,ot!==null&&(le=dt(ot),Tt=ot.tag,ot!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ot=null)):(F=null,ot=M),F!==ot)){if(Tt=vn,X="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=el,X="onPointerLeave",L="onPointerEnter",x="pointer"),le=F==null?q:Wi(F),k=ot==null?q:Wi(ot),q=new Tt(X,x+"leave",F,r,Y),q.target=le,q.relatedTarget=k,X=null,xn(Y)===M&&(Tt=new Tt(L,x+"enter",ot,r,Y),Tt.target=k,Tt.relatedTarget=le,X=Tt),le=X,F&&ot)e:{for(Tt=F,L=ot,x=0,k=Tt;k;k=hs(k))x++;for(k=0,X=L;X;X=hs(X))k++;for(;0<x-k;)Tt=hs(Tt),x--;for(;0<k-x;)L=hs(L),k--;for(;x--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=hs(Tt),L=hs(L)}Tt=null}else Tt=null;F!==null&&Dp(J,q,F,Tt,!1),ot!==null&&le!==null&&Dp(J,le,ot,Tt,!0)}}t:{if(q=M?Wi(M):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ut=em;else if(Te(q))if(nm)ut=z0;else{ut=U0;var Vt=L0}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?M&&Ks(M.elementType)&&(ut=em):ut=P0;if(ut&&(ut=ut(t,M))){_i(J,ut,r,Y);break t}Vt&&Vt(t,q,M),t==="focusout"&&M&&q.type==="number"&&M.memoizedProps.value!=null&&Oa(q,"number",q.value)}switch(Vt=M?Wi(M):window,t){case"focusin":(Te(Vt)||Vt.contentEditable==="true")&&(Ha=Vt,Gc=M,rl=null);break;case"focusout":rl=Gc=Ha=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,cm(J,r,Y);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":cm(J,r,Y)}var ft;if(Yn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?H(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(v&&r.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(ft=$s()):(Hn=Y,ar="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Vt=Ao(M,pt),0<Vt.length&&(pt=new Ws(pt,t,null,r,Y),J.push({event:pt,listeners:Vt}),ft?pt.data=ft:(ft=it(r),ft!==null&&(pt.data=ft)))),(ft=m?Ee(t,r):Mt(t,r))&&(pt=Ao(M,"onBeforeInput"),0<pt.length&&(Vt=new Ws("onBeforeInput","beforeinput",null,r,Y),J.push({event:Vt,listeners:pt}),Vt.data=ft)),S1(J,t,M,r,Y)}wp(J,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ao(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=Fr(t,n),c!=null&&l.push(Il(t,c,f))),t=t.return}return l}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var E=r,b=E.alternate,M=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||M===null||(b=M,c?(M=Fr(r,f),M!=null&&_.unshift(Il(r,M,b))):c||(M=Fr(r,f),M!=null&&_.push(Il(r,M,b)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var C1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(D1,"")}function Np(t,n){return n=Vp(n),Vp(t)===n}function So(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":nr(t,"class",l);break;case"tabIndex":nr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(t,r,l);break;case"style":bu(t,l,f);break;case"data":if(n!=="object"){nr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=So);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),er(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Pc.get(r)||r,er(t,r,l))}}function gf(t,n,r,l,c,f){switch(r){case"style":bu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=So);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):er(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,_,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=_=c=null,b=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":_=Y;break;case"checked":b=Y;break;case"defaultChecked":M=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Y,r,null)}}Hr(t,f,E,b,M,_,c,!1),qr(t);return;case"select":It("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=_,t.multiple=!!l,n!=null?jt(t,!!l,n,!1):r!=null&&jt(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,_,E,r,null)}rr(t,l,c,f),qr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)It(xl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,M,l,r,null)}return;default:if(Ks(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&gf(t,n,Y,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function V1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,b=null,M=null,Y=null;for(F in r){var J=r[F];if(r.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":b=J;default:l.hasOwnProperty(F)||Yt(t,n,F,null,l,J)}}for(var q in l){var F=l[q];if(J=r[q],l.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":c=F;break;case"checked":M=F;break;case"defaultChecked":Y=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==J&&Yt(t,n,q,F,l,J)}}ir(t,_,E,b,M,Y,f,c);return;case"select":F=_=E=q=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":F=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=_,l=F,q!=null?jt(t,!!r,q,!1):!!l!=!!r&&(n!=null?jt(t,!!r,n,!0):jt(t,!!r,r?[]:"",!1));return;case"textarea":F=q=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":q=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,_,c,l,f)}Gr(t,q,F);return;case"option":for(var ot in r)if(q=r[ot],r.hasOwnProperty(ot)&&q!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Yt(t,n,ot,null,l,q)}for(b in l)if(q=l[b],F=r[b],l.hasOwnProperty(b)&&q!==F&&(q!=null||F!=null))switch(b){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(t,n,b,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in r)q=r[Tt],r.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Yt(t,n,Tt,null,l,q);for(M in l)if(q=l[M],F=r[M],l.hasOwnProperty(M)&&q!==F&&(q!=null||F!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Yt(t,n,M,q,l,F)}return;default:if(Ks(n)){for(var le in r)q=r[le],r.hasOwnProperty(le)&&q!==void 0&&!l.hasOwnProperty(le)&&gf(t,n,le,void 0,l,q);for(Y in l)q=l[Y],F=r[Y],!l.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||gf(t,n,Y,q,l,F);return}}for(var L in r)q=r[L],r.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Yt(t,n,L,null,l,q);for(J in l)q=l[J],F=r[J],!l.hasOwnProperty(J)||q===F||q==null&&F==null||Yt(t,n,J,q,l,F)}var pf=null,yf=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function N1(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(O1)}:Op;function O1(t){setTimeout(function(){throw t})}function Ef(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Bl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Bl(n)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Tf(r),kr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function M1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function L1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Up(t,n,r){switch(n=bo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,Pp=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Mi=st.d;st.d={f:U1,r:P1,D:z1,C:j1,L:B1,m:k1,X:H1,S:q1,M:G1};function U1(){var t=Mi.f(),n=yo();return t||n}function P1(t){var n=fi(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Mi.r(t)}var fs=typeof document>"u"?null:document;function zp(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=re(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Pp.has(c)||(Pp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function z1(t){Mi.D(t),zp("dns-prefetch",t,null)}function j1(t,n){Mi.C(t,n),zp("preconnect",t,n)}function B1(t,n,r){Mi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+re(r.imageSizes)+'"]')):c+='[href="'+re(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Dn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function k1(t,n){Mi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Dn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(f)))return}l=r.createElement("link"),ze(l,"link",t),Jt(l),r.head.appendChild(l)}}}function q1(t,n,r){Mi.S(t,n,r);var l=fs;if(l&&t){var c=tr(l).hoistableStyles,f=ds(t);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Ol(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&Af(t,r);var b=_=l.createElement("link");Jt(b),ze(b,"link",t),b._p=new Promise(function(M,Y){b.onload=M,b.onerror=Y}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wo(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function H1(t,n){Mi.X(t,n);var r=fs;if(r&&t){var l=tr(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=D({src:t,async:!0},n),(n=Dn.get(c))&&Sf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function G1(t,n){Mi.M(t,n);var r=fs;if(r&&t){var l=tr(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Sf(t,n),f=r.createElement("script"),Jt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jp(t,n,r,l){var c=(c=fn.current)?Ro(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=tr(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=tr(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Ol(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||F1(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=tr(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+re(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Bp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Jt(n),t.head.appendChild(n))}function ms(t){return'[src="'+re(t)+'"]'}function Ml(t){return"script[async]"+t}function kp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Jt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ze(l,"style",c),wo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=Bp(r),(c=Dn.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),Jt(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ze(f,"link",l),n.state.loading|=4,wo(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Ml(f)))?(n.instance=c,Jt(c),c):(l=r,(c=Dn.get(f))&&(l=D({},r),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Jt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wo(l,r.precedence,t));return n.instance}function wo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Co=null;function qp(t,n,r){if(Co===null){var l=new Map,c=Co=new Map;c.set(r,l)}else c=Co,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ji]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Hp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Q1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function Y1(){}function K1(t,n,r){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(r.href),f=t.querySelector(Ol(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Do.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,r=Bp(r),(c=Dn.get(c))&&Af(r,c),f=f.createElement("link"),Jt(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Do.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function X1(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&bf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Do(){if(this.count--,this.count===0){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vo=null;function bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vo=new Map,n.forEach($1,t),Vo=null,Do.call(t))}function $1(t,n){if(!(n.state.loading&4)){var r=Vo.get(t);if(r)var l=r.get(null);else{r=new Map,Vo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=Do.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:z,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function Z1(t,n,r,l,c,f,_,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fp(t,n,r,l,c,f,_,E,b,M,Y,J){return t=new Z1(t,n,r,_,E,b,M,J),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Lh(f),t}function Qp(t){return t?(t=Qa,t):Qa}function Yp(t,n,r,l,c,f){c=Qp(c),l.context===null?l.context=c:l.pendingContext=c,l=dr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=mr(t,l,n),r!==null&&(We(r,t,n),_l(r,t,n))}function Kp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rf(t,n){Kp(t,n),(t=t.alternate)&&Kp(t,n)}function Xp(t){if(t.tag===13){var n=sr(t,67108864);n!==null&&We(n,t,67108864),Rf(t,67108864)}}var No=!0;function J1(t,n,r,l){var c=S.T;S.T=null;var f=st.p;try{st.p=2,wf(t,n,r,l)}finally{st.p=f,S.T=c}}function W1(t,n,r,l){var c=S.T;S.T=null;var f=st.p;try{st.p=8,wf(t,n,r,l)}finally{st.p=f,S.T=c}}function wf(t,n,r,l){if(No){var c=Cf(l);if(c===null)mf(t,n,l,xo,r),Zp(t,l);else if(eE(c,t,n,r,l))l.stopPropagation();else if(Zp(t,l),n&4&&-1<tE.indexOf(t)){for(;c!==null;){var f=fi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-Xe(_);E.entanglements[1]|=b,_&=~b}Wn(f),(te&6)===0&&(mo=tn()+500,Nl(0))}}break;case 13:E=sr(f,2),E!==null&&We(E,f,2),yo(),Rf(f,2)}if(f=Cf(l),f===null&&mf(t,n,l,xo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else mf(t,n,l,null,r)}}function Cf(t){return t=Ma(t),Df(t)}var xo=null;function Df(t){if(xo=null,t=xn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=qt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xo=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gu()){case ve:return 2;case Ce:return 8;case ci:case pu:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Vf=!1,Tr=null,Ar=null,Sr=null,Pl=new Map,zl=new Map,br=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,n){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=fi(n),n!==null&&Xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function eE(t,n,r,l,c){switch(n){case"focusin":return Tr=jl(Tr,t,n,r,l,c),!0;case"dragenter":return Ar=jl(Ar,t,n,r,l,c),!0;case"mouseover":return Sr=jl(Sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,jl(Pl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,jl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function Jp(t){var n=xn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=qt(r),n!==null){t.blockedOn=n,Zi(t.priority,function(){if(r.tag===13){var l=hn(),c=sr(r,l);c!==null&&We(c,r,l),Rf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pn=l,r.target.dispatchEvent(l),pn=null}else return n=fi(r),n!==null&&Xp(n),t.blockedOn=r,!1;n.shift()}return!0}function Wp(t,n,r){Io(t)&&r.delete(n)}function nE(){Vf=!1,Tr!==null&&Io(Tr)&&(Tr=null),Ar!==null&&Io(Ar)&&(Ar=null),Sr!==null&&Io(Sr)&&(Sr=null),Pl.forEach(Wp),zl.forEach(Wp)}function Oo(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nE)))}var Mo=null;function ty(t){Mo!==t&&(Mo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mo===t&&(Mo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||r)===null)continue;break}var f=fi(r);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(b){return Oo(b,t)}Tr!==null&&Oo(Tr,t),Ar!==null&&Oo(Ar,t),Sr!==null&&Oo(Sr,t),Pl.forEach(n),zl.forEach(n);for(var r=0;r<br.length;r++){var l=br[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<br.length&&(r=br[0],r.blockedOn===null);)Jp(r),r.blockedOn===null&&br.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[_e]||null;if(typeof f=="function")_||ty(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[_e]||null)E=_.formAction;else if(Df(c)!==null)continue}else E=_.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ty(r)}}}function Nf(t){this._internalRoot=t}Lo.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Yp(r,l,t,n,null,null)},Lo.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&os(),Yp(t.current,2,null,t,null,null),yo(),n[hi]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<br.length&&n!==0&&n<br[r].priority;r++);br.splice(r,0,t),r===0&&Jp(t)}};var ey=e.version;if(ey!=="19.0.0")throw Error(s(527,ey,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=tt(n),t=t!==null?ct(t):null,t=t===null?null:t.stateNode,t};var iE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Fi=Uo.inject(iE),qe=Uo}catch{}}return ql.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=vg,f=_g,_=Eg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Fp(t,1,!1,null,null,r,l,c,f,_,E,null),t[hi]=n.current,df(t.nodeType===8?t.parentNode:t),new Nf(n)},ql.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=vg,_=_g,E=Eg,b=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=Fp(t,1,!0,n,r??null,l,c,f,_,E,b,M),n.context=Qp(null),r=n.current,l=hn(),c=dr(l),c.callback=null,mr(r,c,l),n.current.lanes=l,ue(n,l),Wn(n),t[hi]=n.current,df(t),new Lo(n)},ql.version="19.0.0",ql}var hy;function dE(){if(hy)return If.exports;hy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),If.exports=fE(),If.exports}var mE=dE(),Q=yd(),Hl={},fy;function gE(){if(fy)return Hl;fy=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=d,Hl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,h=(()=>{const V=function(){};return V.prototype=Object.create(null),V})();function d(V,z){const B=new h,$=V.length;if($<2)return B;const G=(z==null?void 0:z.decode)||A;let K=0;do{const nt=V.indexOf("=",K);if(nt===-1)break;const et=V.indexOf(";",K),yt=et===-1?$:et;if(nt>yt){K=V.lastIndexOf(";",nt-1)+1;continue}const ht=g(V,K,nt),wt=p(V,nt,ht),O=V.slice(ht,wt);if(B[O]===void 0){let R=g(V,nt+1,yt),S=p(V,yt,R);const D=G(V.slice(R,S));B[O]=D}K=yt+1}while(K<$);return B}function g(V,z,B){do{const $=V.charCodeAt(z);if($!==32&&$!==9)return z}while(++z<B);return B}function p(V,z,B){for(;z>B;){const $=V.charCodeAt(--z);if($!==32&&$!==9)return z+1}return B}function y(V,z,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!a.test(V))throw new TypeError(`argument name is invalid: ${V}`);const G=$(z);if(!e.test(G))throw new TypeError(`argument val is invalid: ${z}`);let K=V+"="+G;if(!B)return K;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);K+="; Max-Age="+B.maxAge}if(B.domain){if(!i.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);K+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);K+="; Path="+B.path}if(B.expires){if(!w(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);K+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(K+="; HttpOnly"),B.secure&&(K+="; Secure"),B.partitioned&&(K+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return K}function A(V){if(V.indexOf("%")===-1)return V;try{return decodeURIComponent(V)}catch{return V}}function w(V){return u.call(V)==="[object Date]"}return Hl}gE();var dy="popstate";function pE(a={}){function e(s,u){let{pathname:h,search:d,hash:g}=s.location;return Kf("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:Jl(u)}return vE(e,i,null,a)}function ee(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ii(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yE(){return Math.random().toString(36).substring(2,10)}function my(a,e){return{usr:a.state,key:a.key,idx:e}}function Kf(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:i,key:e&&e.key||s||yE()}}function Jl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ds(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function vE(a,e,i,s={}){let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g="POP",p=null,y=A();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function A(){return(d.state||{idx:null}).idx}function w(){g="POP";let G=A(),K=G==null?null:G-y;y=G,p&&p({action:g,location:$.location,delta:K})}function V(G,K){g="PUSH";let nt=Kf($.location,G,K);y=A()+1;let et=my(nt,y),yt=$.createHref(nt);try{d.pushState(et,"",yt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;u.location.assign(yt)}h&&p&&p({action:g,location:$.location,delta:1})}function z(G,K){g="REPLACE";let nt=Kf($.location,G,K);y=A();let et=my(nt,y),yt=$.createHref(nt);d.replaceState(et,"",yt),h&&p&&p({action:g,location:$.location,delta:0})}function B(G){let K=u.location.origin!=="null"?u.location.origin:u.location.href,nt=typeof G=="string"?G:Jl(G);return nt=nt.replace(/ $/,"%20"),ee(K,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,K)}let $={get action(){return g},get location(){return a(u,d)},listen(G){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(dy,w),p=G,()=>{u.removeEventListener(dy,w),p=null}},createHref(G){return e(u,G)},createURL:B,encodeLocation(G){let K=B(G);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:V,replace:z,go(G){return d.go(G)}};return $}function wv(a,e,i="/"){return _E(a,e,i,!1)}function _E(a,e,i,s){let u=typeof e=="string"?Ds(e):e,h=zi(u.pathname||"/",i);if(h==null)return null;let d=Cv(a);EE(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=xE(h);g=VE(d[p],y,s)}return g}function Cv(a,e=[],i=[],s=""){let u=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ui([s,p.relativePath]),A=i.concat(p);h.children&&h.children.length>0&&(ee(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Cv(h.children,e,A,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:CE(y,h.index),routesMeta:A})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))u(h,d);else for(let p of Dv(h.path))u(h,d,p)}),e}function Dv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=Dv(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),u&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function EE(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:DE(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var TE=/^:[\w-]+$/,AE=3,SE=2,bE=1,RE=10,wE=-2,gy=a=>a==="*";function CE(a,e){let i=a.split("/"),s=i.length;return i.some(gy)&&(s+=wE),e&&(s+=SE),i.filter(u=>!gy(u)).reduce((u,h)=>u+(TE.test(h)?AE:h===""?bE:RE),s)}function DE(a,e){return a.length===e.length&&a.slice(0,-1).every((s,u)=>s===e[u])?a[a.length-1]-e[e.length-1]:0}function VE(a,e,i=!1){let{routesMeta:s}=a,u={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,A=h==="/"?e:e.slice(h.length)||"/",w=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},A),V=p.route;if(!w&&y&&i&&!s[s.length-1].route.index&&(w=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},A)),!w)return null;Object.assign(u,w.params),d.push({params:u,pathname:Ui([h,w.pathname]),pathnameBase:LE(Ui([h,w.pathnameBase])),route:V}),w.pathnameBase!=="/"&&(h=Ui([h,w.pathnameBase]))}return d}function Jo(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=NE(a.path,a.caseSensitive,a.end),u=e.match(i);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((y,{paramName:A,isOptional:w},V)=>{if(A==="*"){let B=g[V]||"";d=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const z=g[V];return w&&!z?y[A]=void 0:y[A]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function NE(a,e=!1,i=!0){ii(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function xE(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function zi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function IE(a,e="/"){let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?Ds(a):a;return{pathname:i?i.startsWith("/")?i:OE(i,e):e,search:UE(s),hash:PE(u)}}function OE(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Pf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ME(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Vv(a){let e=ME(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Nv(a,e,i,s=!1){let u;typeof a=="string"?u=Ds(a):(u={...a},ee(!u.pathname||!u.pathname.includes("?"),Pf("?","pathname","search",u)),ee(!u.pathname||!u.pathname.includes("#"),Pf("#","pathname","hash",u)),ee(!u.search||!u.search.includes("#"),Pf("#","search","hash",u)));let h=a===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=i;else{let w=e.length-1;if(!s&&d.startsWith("..")){let V=d.split("/");for(;V[0]==="..";)V.shift(),w-=1;u.pathname=V.join("/")}g=w>=0?e[w]:"/"}let p=IE(u,g),y=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||A)&&(p.pathname+="/"),p}var Ui=a=>a.join("/").replace(/\/\/+/g,"/"),LE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),UE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,PE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function zE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var xv=["POST","PUT","PATCH","DELETE"];new Set(xv);var jE=["GET",...xv];new Set(jE);var Vs=Q.createContext(null);Vs.displayName="DataRouter";var pc=Q.createContext(null);pc.displayName="DataRouterState";var Iv=Q.createContext({isTransitioning:!1});Iv.displayName="ViewTransition";var BE=Q.createContext(new Map);BE.displayName="Fetchers";var kE=Q.createContext(null);kE.displayName="Await";var si=Q.createContext(null);si.displayName="Navigation";var uu=Q.createContext(null);uu.displayName="Location";var li=Q.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var vd=Q.createContext(null);vd.displayName="RouteError";function qE(a,{relative:e}={}){ee(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(si),{hash:u,pathname:h,search:d}=cu(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Ui([i,h])),s.createHref({pathname:g,search:d,hash:u})}function ou(){return Q.useContext(uu)!=null}function Ea(){return ee(ou(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(uu).location}var Ov="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mv(a){Q.useContext(si).static||Q.useLayoutEffect(a)}function Lv(){let{isDataRoute:a}=Q.useContext(li);return a?eT():HE()}function HE(){ee(ou(),"useNavigate() may be used only in the context of a <Router> component.");let a=Q.useContext(Vs),{basename:e,navigator:i}=Q.useContext(si),{matches:s}=Q.useContext(li),{pathname:u}=Ea(),h=JSON.stringify(Vv(s)),d=Q.useRef(!1);return Mv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(ii(d.current,Ov),!d.current)return;if(typeof p=="number"){i.go(p);return}let A=Nv(p,JSON.parse(h),u,y.relative==="path");a==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Ui([e,A.pathname])),(y.replace?i.replace:i.push)(A,y.state,y)},[e,i,h,u,a])}Q.createContext(null);function Uv(){let{matches:a}=Q.useContext(li),e=a[a.length-1];return e?e.params:{}}function cu(a,{relative:e}={}){let{matches:i}=Q.useContext(li),{pathname:s}=Ea(),u=JSON.stringify(Vv(i));return Q.useMemo(()=>Nv(a,JSON.parse(u),s,e==="path"),[a,u,s,e])}function GE(a,e){return Pv(a,e)}function Pv(a,e,i,s){var nt;ee(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:h}=Q.useContext(si),{matches:d}=Q.useContext(li),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",A=g?g.pathnameBase:"/",w=g&&g.route;{let et=w&&w.path||"";zv(y,!w||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let V=Ea(),z;if(e){let et=typeof e=="string"?Ds(e):e;ee(A==="/"||((nt=et.pathname)==null?void 0:nt.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${et.pathname}" was given in the \`location\` prop.`),z=et}else z=V;let B=z.pathname||"/",$=B;if(A!=="/"){let et=A.replace(/^\//,"").split("/");$="/"+B.replace(/^\//,"").split("/").slice(et.length).join("/")}let G=!h&&i&&i.matches&&i.matches.length>0?i.matches:wv(a,{pathname:$});ii(w||G!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),ii(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=XE(G&&G.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Ui([A,u.encodeLocation?u.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?A:Ui([A,u.encodeLocation?u.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&K?Q.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},K):K}function FE(){let a=tT(),e=zE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:h},"ErrorBoundary")," or"," ",Q.createElement("code",{style:h},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:u},i):null,d)}var QE=Q.createElement(FE,null),YE=class extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Q.createElement(li.Provider,{value:this.props.routeContext},Q.createElement(vd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KE({routeContext:a,match:e,children:i}){let s=Q.useContext(Vs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(li.Provider,{value:a},i)}function XE(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,h=i==null?void 0:i.errors;if(h!=null){let p=u.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<u.length;p++){let y=u[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:A,errors:w}=i,V=y.route.loader&&!A.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||V){d=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,y,A)=>{let w,V=!1,z=null,B=null;i&&(w=h&&y.route.id?h[y.route.id]:void 0,z=y.route.errorElement||QE,d&&(g<0&&A===0?(zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,B=null):g===A&&(V=!0,B=y.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,A+1)),G=()=>{let K;return w?K=z:V?K=B:y.route.Component?K=Q.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,Q.createElement(KE,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:i!=null},children:K})};return i&&(y.route.ErrorBoundary||y.route.errorElement||A===0)?Q.createElement(YE,{location:i.location,revalidation:i.revalidation,component:z,error:w,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):G()},null)}function _d(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(a){let e=Q.useContext(Vs);return ee(e,_d(a)),e}function ZE(a){let e=Q.useContext(pc);return ee(e,_d(a)),e}function JE(a){let e=Q.useContext(li);return ee(e,_d(a)),e}function Ed(a){let e=JE(a),i=e.matches[e.matches.length-1];return ee(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function WE(){return Ed("useRouteId")}function tT(){var s;let a=Q.useContext(vd),e=ZE("useRouteError"),i=Ed("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function eT(){let{router:a}=$E("useNavigate"),e=Ed("useNavigate"),i=Q.useRef(!1);return Mv(()=>{i.current=!0}),Q.useCallback(async(u,h={})=>{ii(i.current,Ov),i.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:e,...h}))},[a,e])}var py={};function zv(a,e,i){!e&&!py[a]&&(py[a]=!0,ii(!1,i))}Q.memo(nT);function nT({routes:a,future:e,state:i}){return Pv(a,void 0,i,e)}function Li(a){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iT({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:u,static:h=!1}){ee(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:d,navigator:u,static:h,future:{}}),[d,u,h]);typeof i=="string"&&(i=Ds(i));let{pathname:p="/",search:y="",hash:A="",state:w=null,key:V="default"}=i,z=Q.useMemo(()=>{let B=zi(p,d);return B==null?null:{location:{pathname:B,search:y,hash:A,state:w,key:V},navigationType:s}},[d,p,y,A,w,V,s]);return ii(z!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${A}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:Q.createElement(si.Provider,{value:g},Q.createElement(uu.Provider,{children:e,value:z}))}function rT({children:a,location:e}){return GE(Xf(a),e)}function Xf(a,e=[]){let i=[];return Q.Children.forEach(a,(s,u)=>{if(!Q.isValidElement(s))return;let h=[...e,u];if(s.type===Q.Fragment){i.push.apply(i,Xf(s.props.children,h));return}ee(s.type===Li,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Xf(s.props.children,h)),i.push(d)}),i}var Go="get",Fo="application/x-www-form-urlencoded";function yc(a){return a!=null&&typeof a.tagName=="string"}function aT(a){return yc(a)&&a.tagName.toLowerCase()==="button"}function sT(a){return yc(a)&&a.tagName.toLowerCase()==="form"}function lT(a){return yc(a)&&a.tagName.toLowerCase()==="input"}function uT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function oT(a,e){return a.button===0&&(!e||e==="_self")&&!uT(a)}var Po=null;function cT(){if(Po===null)try{new FormData(document.createElement("form"),0),Po=!1}catch{Po=!0}return Po}var hT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(a){return a!=null&&!hT.has(a)?(ii(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fo}"`),null):a}function fT(a,e){let i,s,u,h,d;if(sT(a)){let g=a.getAttribute("action");s=g?zi(g,e):null,i=a.getAttribute("method")||Go,u=zf(a.getAttribute("enctype"))||Fo,h=new FormData(a)}else if(aT(a)||lT(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?zi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Go,u=zf(a.getAttribute("formenctype"))||zf(g.getAttribute("enctype"))||Fo,h=new FormData(g,a),!cT()){let{name:y,type:A,value:w}=a;if(A==="image"){let V=y?`${y}.`:"";h.append(`${V}x`,"0"),h.append(`${V}y`,"0")}else y&&h.append(y,w)}}else{if(yc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Go,s=null,u=Fo,d=a}return h&&u==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:h,body:d}}function Td(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function dT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function gT(a,e,i){let s=await Promise.all(a.map(async u=>{let h=e.routes[u.route.id];if(h){let d=await dT(h,i);return d.links?d.links():[]}return[]}));return _T(s.flat(1).filter(mT).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function yy(a,e,i,s,u,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var A;return i[y].pathname!==p.pathname||((A=i[y].route.path)==null?void 0:A.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var w;let A=s.routes[p.route.id];if(!A||!A.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let V=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof V=="boolean")return V}return!0}):[]}function pT(a,e,{includeHydrateFallback:i}={}){return yT(a.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function yT(a){return[...new Set(a)]}function vT(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function _T(a,e){let i=new Set;return new Set(e),a.reduce((s,u)=>{let h=JSON.stringify(vT(u));return i.has(h)||(i.add(h),s.push({key:h,link:u})),s},[])}var ET=new Set([100,101,204,205]);function TT(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&zi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function jv(){let a=Q.useContext(Vs);return Td(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function AT(){let a=Q.useContext(pc);return Td(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ad=Q.createContext(void 0);Ad.displayName="FrameworkContext";function Bv(){let a=Q.useContext(Ad);return Td(a,"You must render this element inside a <HydratedRouter> element"),a}function ST(a,e){let i=Q.useContext(Ad),[s,u]=Q.useState(!1),[h,d]=Q.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:A,onTouchStart:w}=e,V=Q.useRef(null);Q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let $=K=>{K.forEach(nt=>{d(nt.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return V.current&&G.observe(V.current),()=>{G.disconnect()}}},[a]),Q.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let z=()=>{u(!0)},B=()=>{u(!1),d(!1)};return i?a!=="intent"?[h,V,{}]:[h,V,{onFocus:Gl(g,z),onBlur:Gl(p,B),onMouseEnter:Gl(y,z),onMouseLeave:Gl(A,B),onTouchStart:Gl(w,z)}]:[!1,V,{}]}function Gl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function bT({page:a,...e}){let{router:i}=jv(),s=Q.useMemo(()=>wv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Q.createElement(wT,{page:a,matches:s,...e}):null}function RT(a){let{manifest:e,routeModules:i}=Bv(),[s,u]=Q.useState([]);return Q.useEffect(()=>{let h=!1;return gT(a,e,i).then(d=>{h||u(d)}),()=>{h=!0}},[a,e,i]),s}function wT({page:a,matches:e,...i}){let s=Ea(),{manifest:u,routeModules:h}=Bv(),{basename:d}=jv(),{loaderData:g,matches:p}=AT(),y=Q.useMemo(()=>yy(a,e,p,u,s,"data"),[a,e,p,u,s]),A=Q.useMemo(()=>yy(a,e,p,u,s,"assets"),[a,e,p,u,s]),w=Q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let B=new Set,$=!1;if(e.forEach(K=>{var et;let nt=u.routes[K.route.id];!nt||!nt.hasLoader||(!y.some(yt=>yt.route.id===K.route.id)&&K.route.id in g&&((et=h[K.route.id])!=null&&et.shouldRevalidate)||nt.hasClientLoader?$=!0:B.add(K.route.id))}),B.size===0)return[];let G=TT(a,d);return $&&B.size>0&&G.searchParams.set("_routes",e.filter(K=>B.has(K.route.id)).map(K=>K.route.id).join(",")),[G.pathname+G.search]},[d,g,s,u,y,e,a,h]),V=Q.useMemo(()=>pT(A,u),[A,u]),z=RT(A);return Q.createElement(Q.Fragment,null,w.map(B=>Q.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),V.map(B=>Q.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),z.map(({key:B,link:$})=>Q.createElement("link",{key:B,...$})))}function CT(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kv&&(window.__reactRouterVersion="7.5.3")}catch{}function DT({basename:a,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=pE({window:i,v5Compat:!0}));let u=s.current,[h,d]=Q.useState({action:u.action,location:u.location}),g=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>u.listen(g),[u,g]),Q.createElement(iT,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:u})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:u,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:A,viewTransition:w,...V},z){let{basename:B}=Q.useContext(si),$=typeof y=="string"&&qv.test(y),G,K=!1;if(typeof y=="string"&&$&&(G=y,kv))try{let S=new URL(window.location.href),D=y.startsWith("//")?new URL(S.protocol+y):new URL(y),I=zi(D.pathname,B);D.origin===S.origin&&I!=null?y=I+D.search+D.hash:K=!0}catch{ii(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=qE(y,{relative:u}),[et,yt,ht]=ST(s,V),wt=IT(y,{replace:d,state:g,target:p,preventScrollReset:A,relative:u,viewTransition:w});function O(S){e&&e(S),S.defaultPrevented||wt(S)}let R=Q.createElement("a",{...V,...ht,href:G||nt,onClick:K||h?e:O,ref:CT(z,yt),target:p,"data-discover":!$&&i==="render"?"true":void 0});return et&&!$?Q.createElement(Q.Fragment,null,R,Q.createElement(bT,{page:nt})):R});ji.displayName="Link";var VT=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:u=!1,style:h,to:d,viewTransition:g,children:p,...y},A){let w=cu(d,{relative:y.relative}),V=Ea(),z=Q.useContext(pc),{navigator:B,basename:$}=Q.useContext(si),G=z!=null&&PT(w)&&g===!0,K=B.encodeLocation?B.encodeLocation(w).pathname:w.pathname,nt=V.pathname,et=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),et=et?et.toLowerCase():null,K=K.toLowerCase()),et&&$&&(et=zi(et,$)||et);const yt=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ht=nt===K||!u&&nt.startsWith(K)&&nt.charAt(yt)==="/",wt=et!=null&&(et===K||!u&&et.startsWith(K)&&et.charAt(K.length)==="/"),O={isActive:ht,isPending:wt,isTransitioning:G},R=ht?e:void 0,S;typeof s=="function"?S=s(O):S=[s,ht?"active":null,wt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let D=typeof h=="function"?h(O):h;return Q.createElement(ji,{...y,"aria-current":R,className:S,ref:A,style:D,to:d,viewTransition:g},typeof p=="function"?p(O):p)});VT.displayName="NavLink";var NT=Q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:u,state:h,method:d=Go,action:g,onSubmit:p,relative:y,preventScrollReset:A,viewTransition:w,...V},z)=>{let B=LT(),$=UT(g,{relative:y}),G=d.toLowerCase()==="get"?"get":"post",K=typeof g=="string"&&qv.test(g),nt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let yt=et.nativeEvent.submitter,ht=(yt==null?void 0:yt.getAttribute("formmethod"))||d;B(yt||et.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:u,state:h,relative:y,preventScrollReset:A,viewTransition:w})};return Q.createElement("form",{ref:z,method:G,action:$,onSubmit:s?p:nt,...V,"data-discover":!K&&a==="render"?"true":void 0})});NT.displayName="Form";function xT(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hv(a){let e=Q.useContext(Vs);return ee(e,xT(a)),e}function IT(a,{target:e,replace:i,state:s,preventScrollReset:u,relative:h,viewTransition:d}={}){let g=Lv(),p=Ea(),y=cu(a,{relative:h});return Q.useCallback(A=>{if(oT(A,e)){A.preventDefault();let w=i!==void 0?i:Jl(p)===Jl(y);g(a,{replace:w,state:s,preventScrollReset:u,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,u,h,d])}var OT=0,MT=()=>`__${String(++OT)}__`;function LT(){let{router:a}=Hv("useSubmit"),{basename:e}=Q.useContext(si),i=WE();return Q.useCallback(async(s,u={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=fT(s,e);if(u.navigate===!1){let A=u.fetcherKey||MT();await a.fetch(A,i,u.action||h,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,e,i])}function UT(a,{relative:e}={}){let{basename:i}=Q.useContext(si),s=Q.useContext(li);ee(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),h={...cu(a||".",{relative:e})},d=Ea();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(A=>A==="")){g.delete("index"),p.filter(w=>w).forEach(w=>g.append("index",w));let A=g.toString();h.search=A?`?${A}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Ui([i,h.pathname])),Jl(h)}function PT(a,e={}){let i=Q.useContext(Iv);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hv("useViewTransitionState"),u=cu(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Jo(u.pathname,d)!=null||Jo(u.pathname,h)!=null}new TextEncoder;[...ET];const zT=()=>{};var vy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},jT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],p=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,p=u+2<a.length,y=p?a[u+2]:0,A=h>>2,w=(h&3)<<4|g>>4;let V=(g&15)<<2|y>>6,z=y&63;p||(z=64,d||(V=64)),s.push(i[A],i[w],i[V],i[z])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Gv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):jT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const y=u<a.length?i[a.charAt(u)]:64;++u;const w=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||y==null||w==null)throw new BT;const V=h<<2|g>>4;if(s.push(V),y!==64){const z=g<<4&240|y>>2;if(s.push(z),w!==64){const B=y<<6&192|w;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kT=function(a){const e=Gv(a);return Fv.encodeByteArray(e,!0)},Wo=function(a){return kT(a).replace(/\./g,"")},qT=function(a){try{return Fv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=()=>HT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof vy>"u")return;const a=vy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},QT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&qT(a[1]);return e&&JSON.parse(e)},Sd=()=>{try{return zT()||GT()||FT()||QT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},YT=a=>{var e,i;return(i=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},KT=a=>{const e=YT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Qv=()=>{var a;return(a=Sd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Wo(JSON.stringify(i)),Wo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){var a;const e=(a=Sd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="FirebaseError";class Ns extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=nA,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yv.prototype.create)}}class Yv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?iA(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ns(u,g,s)}}function iA(a,e){return a.replace(rA,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const rA=/\{\$([^}]+)}/g;function tc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(_y(h)&&_y(d)){if(!tc(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function _y(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(a){return a&&a._delegate?a._delegate:a}class tu{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new XT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sA(a){return a===pa?void 0:a}function lA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const oA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},cA=Pt.INFO,hA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},fA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=hA[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=cA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const dA=(a,e)=>e.some(i=>a instanceof i);let Ey,Ty;function mA(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,$f=new WeakMap,$v=new WeakMap,jf=new WeakMap,bd=new WeakMap;function pA(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Cr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Xv.set(i,a)}).catch(()=>{}),bd.set(e,a),e}function yA(a){if($f.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});$f.set(a,e)}let Zf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return $f.get(a);if(e==="objectStoreNames")return a.objectStoreNames||$v.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function vA(a){Zf=a(Zf)}function _A(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Bf(this),e,...i);return $v.set(s,e.sort?e.sort():[e]),Cr(s)}:gA().includes(a)?function(...e){return a.apply(Bf(this),e),Cr(Xv.get(this))}:function(...e){return Cr(a.apply(Bf(this),e))}}function EA(a){return typeof a=="function"?_A(a):(a instanceof IDBTransaction&&yA(a),dA(a,mA())?new Proxy(a,Zf):a)}function Cr(a){if(a instanceof IDBRequest)return pA(a);if(jf.has(a))return jf.get(a);const e=EA(a);return e!==a&&(jf.set(a,e),bd.set(e,a)),e}const Bf=a=>bd.get(a);function TA(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=Cr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Cr(d.result),p.oldVersion,p.newVersion,Cr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),u&&p.addEventListener("versionchange",y=>u(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const AA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],kf=new Map;function Ay(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=SA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||AA.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,u?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),u&&p.done]))[0]};return kf.set(e,h),h}vA(a=>({...a,get:(e,i,s)=>Ay(e,i)||a.get(e,i,s),has:(e,i)=>!!Ay(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function RA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",Sy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Kv("@firebase/app"),wA="@firebase/app-compat",CA="@firebase/analytics-compat",DA="@firebase/analytics",VA="@firebase/app-check-compat",NA="@firebase/app-check",xA="@firebase/auth",IA="@firebase/auth-compat",OA="@firebase/database",MA="@firebase/data-connect",LA="@firebase/database-compat",UA="@firebase/functions",PA="@firebase/functions-compat",zA="@firebase/installations",jA="@firebase/installations-compat",BA="@firebase/messaging",kA="@firebase/messaging-compat",qA="@firebase/performance",HA="@firebase/performance-compat",GA="@firebase/remote-config",FA="@firebase/remote-config-compat",QA="@firebase/storage",YA="@firebase/storage-compat",KA="@firebase/firestore",XA="@firebase/vertexai",$A="@firebase/firestore-compat",ZA="firebase",JA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",WA={[Jf]:"fire-core",[wA]:"fire-core-compat",[DA]:"fire-analytics",[CA]:"fire-analytics-compat",[NA]:"fire-app-check",[VA]:"fire-app-check-compat",[xA]:"fire-auth",[IA]:"fire-auth-compat",[OA]:"fire-rtdb",[MA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[UA]:"fire-fn",[PA]:"fire-fn-compat",[zA]:"fire-iid",[jA]:"fire-iid-compat",[BA]:"fire-fcm",[kA]:"fire-fcm-compat",[qA]:"fire-perf",[HA]:"fire-perf-compat",[GA]:"fire-rc",[FA]:"fire-rc-compat",[QA]:"fire-gcs",[YA]:"fire-gcs-compat",[KA]:"fire-fst",[$A]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,tS=new Map,td=new Map;function by(a,e){try{a.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(td.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,a);for(const i of ec.values())by(i,a);for(const i of tS.values())by(i,a);return!0}function eS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function nS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Yv("app","Firebase",iS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=JA;function Zv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw Dr.create("bad-app-name",{appName:String(u)});if(i||(i=Qv()),!i)throw Dr.create("no-options");const h=ec.get(u);if(h){if(tc(i,h.options)&&tc(s,h.config))return h;throw Dr.create("duplicate-app",{appName:u})}const d=new uA(u);for(const p of td.values())d.addComponent(p);const g=new rS(i,s,d);return ec.set(u,g),g}function sS(a=Wf){const e=ec.get(a);if(!e&&a===Wf&&Qv())return Zv();if(!e)throw Dr.create("no-app",{appName:a});return e}function _s(a,e,i){var s;let u=(s=WA[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}nc(new tu(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebase-heartbeat-database",uS=1,eu="firebase-heartbeat-store";let qf=null;function Jv(){return qf||(qf=TA(lS,uS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(a=>{throw Dr.create("idb-open",{originalErrorMessage:a.message})})),qf}async function oS(a){try{const i=(await Jv()).transaction(eu),s=await i.objectStore(eu).get(Wv(a));return await i.done,s}catch(e){if(e instanceof Ns)Bi.warn(e.message);else{const i=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(i.message)}}}async function Ry(a,e){try{const s=(await Jv()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,Wv(a)),await s.done}catch(i){if(i instanceof Ns)Bi.warn(i.message);else{const s=Dr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(s.message)}}}function Wv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1024,hS=30;class fS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=wy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>hS){const d=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=wy(),{heartbeatsToSend:s,unsentEntries:u}=dS(this._heartbeatsCache.heartbeats),h=Wo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Bi.warn(i),""}}}function wy(){return new Date().toISOString().substring(0,10)}function dS(a,e=cS){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Cy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Cy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Cy(a){return Wo(JSON.stringify({version:2,heartbeats:a})).length}function gS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(a){nc(new tu("platform-logger",e=>new bA(e),"PRIVATE")),nc(new tu("heartbeat",e=>new fS(e),"PRIVATE")),_s(Jf,Sy,a),_s(Jf,Sy,"esm2017"),_s("fire-js","")}pS("");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,t_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(D,I,j){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return R.prototype[I].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)D[I]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(I=0;16>I;++I)D[I]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],I=O.g[2];var j=O.g[3],C=R+(j^S&(I^j))+D[0]+3614090360&4294967295;R=S+(C<<7&4294967295|C>>>25),C=j+(I^R&(S^I))+D[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=I+(S^j&(R^S))+D[2]+606105819&4294967295,I=j+(C<<17&4294967295|C>>>15),C=S+(R^I&(j^R))+D[3]+3250441966&4294967295,S=I+(C<<22&4294967295|C>>>10),C=R+(j^S&(I^j))+D[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=j+(I^R&(S^I))+D[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=I+(S^j&(R^S))+D[6]+2821735955&4294967295,I=j+(C<<17&4294967295|C>>>15),C=S+(R^I&(j^R))+D[7]+4249261313&4294967295,S=I+(C<<22&4294967295|C>>>10),C=R+(j^S&(I^j))+D[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=j+(I^R&(S^I))+D[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=I+(S^j&(R^S))+D[10]+4294925233&4294967295,I=j+(C<<17&4294967295|C>>>15),C=S+(R^I&(j^R))+D[11]+2304563134&4294967295,S=I+(C<<22&4294967295|C>>>10),C=R+(j^S&(I^j))+D[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=j+(I^R&(S^I))+D[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=I+(S^j&(R^S))+D[14]+2792965006&4294967295,I=j+(C<<17&4294967295|C>>>15),C=S+(R^I&(j^R))+D[15]+1236535329&4294967295,S=I+(C<<22&4294967295|C>>>10),C=R+(I^j&(S^I))+D[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=j+(S^I&(R^S))+D[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=I+(R^S&(j^R))+D[11]+643717713&4294967295,I=j+(C<<14&4294967295|C>>>18),C=S+(j^R&(I^j))+D[0]+3921069994&4294967295,S=I+(C<<20&4294967295|C>>>12),C=R+(I^j&(S^I))+D[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=j+(S^I&(R^S))+D[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=I+(R^S&(j^R))+D[15]+3634488961&4294967295,I=j+(C<<14&4294967295|C>>>18),C=S+(j^R&(I^j))+D[4]+3889429448&4294967295,S=I+(C<<20&4294967295|C>>>12),C=R+(I^j&(S^I))+D[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=j+(S^I&(R^S))+D[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=I+(R^S&(j^R))+D[3]+4107603335&4294967295,I=j+(C<<14&4294967295|C>>>18),C=S+(j^R&(I^j))+D[8]+1163531501&4294967295,S=I+(C<<20&4294967295|C>>>12),C=R+(I^j&(S^I))+D[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=j+(S^I&(R^S))+D[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=I+(R^S&(j^R))+D[7]+1735328473&4294967295,I=j+(C<<14&4294967295|C>>>18),C=S+(j^R&(I^j))+D[12]+2368359562&4294967295,S=I+(C<<20&4294967295|C>>>12),C=R+(S^I^j)+D[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=j+(R^S^I)+D[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=I+(j^R^S)+D[11]+1839030562&4294967295,I=j+(C<<16&4294967295|C>>>16),C=S+(I^j^R)+D[14]+4259657740&4294967295,S=I+(C<<23&4294967295|C>>>9),C=R+(S^I^j)+D[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=j+(R^S^I)+D[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=I+(j^R^S)+D[7]+4139469664&4294967295,I=j+(C<<16&4294967295|C>>>16),C=S+(I^j^R)+D[10]+3200236656&4294967295,S=I+(C<<23&4294967295|C>>>9),C=R+(S^I^j)+D[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=j+(R^S^I)+D[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=I+(j^R^S)+D[3]+3572445317&4294967295,I=j+(C<<16&4294967295|C>>>16),C=S+(I^j^R)+D[6]+76029189&4294967295,S=I+(C<<23&4294967295|C>>>9),C=R+(S^I^j)+D[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=j+(R^S^I)+D[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=I+(j^R^S)+D[15]+530742520&4294967295,I=j+(C<<16&4294967295|C>>>16),C=S+(I^j^R)+D[2]+3299628645&4294967295,S=I+(C<<23&4294967295|C>>>9),C=R+(I^(S|~j))+D[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=j+(S^(R|~I))+D[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=I+(R^(j|~S))+D[14]+2878612391&4294967295,I=j+(C<<15&4294967295|C>>>17),C=S+(j^(I|~R))+D[5]+4237533241&4294967295,S=I+(C<<21&4294967295|C>>>11),C=R+(I^(S|~j))+D[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=j+(S^(R|~I))+D[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=I+(R^(j|~S))+D[10]+4293915773&4294967295,I=j+(C<<15&4294967295|C>>>17),C=S+(j^(I|~R))+D[1]+2240044497&4294967295,S=I+(C<<21&4294967295|C>>>11),C=R+(I^(S|~j))+D[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=j+(S^(R|~I))+D[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=I+(R^(j|~S))+D[6]+2734768916&4294967295,I=j+(C<<15&4294967295|C>>>17),C=S+(j^(I|~R))+D[13]+1309151649&4294967295,S=I+(C<<21&4294967295|C>>>11),C=R+(I^(S|~j))+D[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=j+(S^(R|~I))+D[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=I+(R^(j|~S))+D[2]+718787259&4294967295,I=j+(C<<15&4294967295|C>>>17),C=S+(j^(I|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,D=this.B,I=this.h,j=0;j<R;){if(I==0)for(;j<=S;)u(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<R;)if(D[I++]=O.charCodeAt(j++),I==this.blockSize){u(this,D),I=0;break}}else for(;j<R;)if(D[I++]=O[j++],I==this.blockSize){u(this,D),I=0;break}}this.h=I,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)O[S++]=this.g[R]>>>D&255;return O};function h(O,R){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function d(O,R){this.h=R;for(var S=[],D=!0,I=O.length-1;0<=I;I--){var j=O[I]|0;D&&j==R||(S[I]=j,D=!1)}this.g=S}var g={};function p(O){return-128<=O&&128>O?h(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return G(y(-O));for(var R=[],S=1,D=0;O>=S;D++)R[D]=O/S|0,S*=4294967296;return new d(R,0)}function A(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return G(A(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(R,8)),D=w,I=0;I<O.length;I+=8){var j=Math.min(8,O.length-I),C=parseInt(O.substring(I,I+j),R);8>j?(j=y(Math.pow(R,j)),D=D.j(j).add(y(C))):(D=D.j(S),D=D.add(y(C)))}return D}var w=p(0),V=p(1),z=p(16777216);a=d.prototype,a.m=function(){if($(this))return-G(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B(this))return"0";if($(this))return"-"+G(this).toString(O);for(var R=y(Math.pow(O,6)),S=this,D="";;){var I=yt(S,R).g;S=K(S,I.j(R));var j=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=I,B(S))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function B(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function $(O){return O.h==-1}a.l=function(O){return O=K(this,O),$(O)?-1:B(O)?0:1};function G(O){for(var R=O.g.length,S=[],D=0;D<R;D++)S[D]=~O.g[D];return new d(S,~O.h).add(V)}a.abs=function(){return $(this)?G(this):this},a.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],D=0,I=0;I<=R;I++){var j=D+(this.i(I)&65535)+(O.i(I)&65535),C=(j>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);D=C>>>16,j&=65535,C&=65535,S[I]=C<<16|j}return new d(S,S[S.length-1]&-2147483648?-1:0)};function K(O,R){return O.add(G(R))}a.j=function(O){if(B(this)||B(O))return w;if($(this))return $(O)?G(this).j(G(O)):G(G(this).j(O));if($(O))return G(this.j(G(O)));if(0>this.l(z)&&0>O.l(z))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<O.g.length;I++){var j=this.i(D)>>>16,C=this.i(D)&65535,ye=O.i(I)>>>16,he=O.i(I)&65535;S[2*D+2*I]+=C*he,nt(S,2*D+2*I),S[2*D+2*I+1]+=j*he,nt(S,2*D+2*I+1),S[2*D+2*I+1]+=C*ye,nt(S,2*D+2*I+1),S[2*D+2*I+2]+=j*ye,nt(S,2*D+2*I+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new d(S,0)};function nt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function et(O,R){this.g=O,this.h=R}function yt(O,R){if(B(R))throw Error("division by zero");if(B(O))return new et(w,w);if($(O))return R=yt(G(O),R),new et(G(R.g),G(R.h));if($(R))return R=yt(O,G(R)),new et(G(R.g),R.h);if(30<O.g.length){if($(O)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=V,D=R;0>=D.l(O);)S=ht(S),D=ht(D);var I=wt(S,1),j=wt(D,1);for(D=wt(D,2),S=wt(S,2);!B(D);){var C=j.add(D);0>=C.l(O)&&(I=I.add(S),j=C),D=wt(D,1),S=wt(S,1)}return R=K(O,I.j(R)),new et(I,R)}for(I=w;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=y(S),C=j.j(R);$(C)||0<C.l(O);)S-=D,j=y(S),C=j.j(R);B(j)&&(j=V),I=I.add(j),O=K(O,C)}return new et(I,O)}a.A=function(O){return yt(this,O).h},a.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&O.i(D);return new d(S,this.h&O.h)},a.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|O.i(D);return new d(S,this.h|O.h)},a.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^O.i(D);return new d(S,this.h^O.h)};function ht(O){for(var R=O.g.length+1,S=[],D=0;D<R;D++)S[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(S,O.h)}function wt(O,R){var S=R>>5;R%=32;for(var D=O.g.length-S,I=[],j=0;j<D;j++)I[j]=0<R?O.i(j+S)>>>R|O.i(j+S+1)<<32-R:O.i(j+S);return new d(I,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Vr=d}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e_,Fl,n_,Qo,ed,i_,r_,a_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,v){return o==Array.prototype||o==Object.prototype||(o[m]=v.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof zo=="object"&&zo];for(var m=0;m<o.length;++m){var v=o[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var v=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var P=o[T];if(!(P in v))break t;v=v[P]}o=o[o.length-1],T=v[o],m=m(T),m!=T&&m!=null&&e(v,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var v=0,T=!1,P={next:function(){if(!T&&v<o.length){var H=v++;return{value:m(H,o[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,v){return o.call.apply(o.bind,arguments)}function w(o,m,v){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),o.apply(m,P)}}return function(){return o.apply(m,arguments)}}function V(o,m,v){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,V.apply(null,arguments)}function z(o,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function B(o,m){function v(){}v.prototype=m.prototype,o.aa=m.prototype,o.prototype=new v,o.prototype.constructor=o,o.Qb=function(T,P,H){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return m.prototype[P].apply(T,it)}}function $(o){const m=o.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=o[T];return v}return[]}function G(o,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const P=o.length||0,H=T.length||0;o.length=P+H;for(let it=0;it<H;it++)o[P+it]=T[it]}else o.push(T)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(o){return/^[\s\xa0]*$/.test(o)}function et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function yt(o){return yt[" "](o),o}yt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(o,m,v){for(const T in o)m.call(v,o[T],T,o)}function O(o,m){for(const v in o)m.call(void 0,o[v],v,o)}function R(o){const m={};for(const v in o)m[v]=o[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)o[v]=T[v];for(let H=0;H<S.length;H++)v=S[H],Object.prototype.hasOwnProperty.call(T,v)&&(o[v]=T[v])}}function I(o){var m=1;o=o.split(":");const v=[];for(;0<m&&o.length;)v.push(o.shift()),m--;return o.length&&v.push(o.join(":")),v}function j(o){g.setTimeout(()=>{throw o},0)}function C(){var o=qt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,v){const T=he.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var he=new K(()=>new rt,o=>o.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,qt=new ye,N=()=>{const o=g.Promise.resolve(void 0);_t=()=>{o.then(tt)}};var tt=()=>{for(var o;o=C();){try{o.h.call(o.g)}catch(v){j(v)}var m=he;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return o}();function Rt(o,m){if(at.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var v=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ht){t:{try{yt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else v=="mouseover"?m=o.fromElement:v=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:St[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}B(Rt,at);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(o,m,v,T,P){this.listener=o,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++zt,this.da=this.fa=!1}function Ft(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ke(o){this.src=o,this.g={},this.h=0}Ke.prototype.add=function(o,m,v,T,P){var H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);var it=fn(o,m,T,P);return-1<it?(m=o[it],v||(m.fa=!1)):(m=new ie(m,this.src,H,!!T,P),m.fa=v,o.push(m)),m};function ui(o,m){var v=m.type;if(v in o.g){var T=o.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=P)&&Array.prototype.splice.call(T,P,1),H&&(Ft(m),o.g[v].length==0&&(delete o.g[v],o.h--))}}function fn(o,m,v,T){for(var P=0;P<o.length;++P){var H=o[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var Hi="closure_lm_"+(1e6*Math.random()|0),Gi={};function oi(o,m,v,T,P){if(Array.isArray(m)){for(var H=0;H<m.length;H++)oi(o,m[H],v,T,P);return null}return v=gu(v),o&&o[fe]?o.K(m,v,y(T)?!!T.capture:!1,P):Us(o,m,v,!1,T,P)}function Us(o,m,v,T,P,H){if(!m)throw Error("Invalid event type");var it=y(P)?!!P.capture:!!P,Ot=Ps(o);if(Ot||(o[Hi]=Ot=new Ke(o)),v=Ot.add(m,v,T,it,H),v.proxy)return v;if(T=Ra(),v.proxy=T,T.src=o,T.listener=v,o.addEventListener)st||(P=it),P===void 0&&(P=!1),o.addEventListener(m.toString(),T,P);else if(o.attachEvent)o.attachEvent(Ca(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ra(){function o(v){return m.call(o.src,o.listener,v)}const m=Ic;return o}function wa(o,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)wa(o,m[H],v,T,P);else T=y(T)?!!T.capture:!!T,v=gu(v),o&&o[fe]?(o=o.i,m=String(m).toString(),m in o.g&&(H=o.g[m],v=fn(H,v,T,P),-1<v&&(Ft(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ps(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,v,T,P)),(v=-1<o?m[o]:null)&&zr(v))}function zr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[fe])ui(m.i,o);else{var v=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(v,T,o.capture):m.detachEvent?m.detachEvent(Ca(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ps(m))?(ui(v,o),v.h==0&&(v.src=null,m[Hi]=null)):Ft(o)}}}function Ca(o){return o in Gi?Gi[o]:Gi[o]="on"+o}function Ic(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var v=o.listener,T=o.ha||o.src;o.fa&&zr(o),o=v.call(T,m)}return o}function Ps(o){return o=o[Hi],o instanceof Ke?o:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(o){return typeof o=="function"?o:(o[tn]||(o[tn]=function(m){return o.handleEvent(m)}),o[tn])}function ve(){ct.call(this),this.i=new Ke(this),this.M=this,this.F=null}B(ve,ct),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(o,m,v,T){wa(this,o,m,v,T)};function Ce(o,m){var v,T=o.F;if(T)for(v=[];T;T=T.F)v.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new at(m,o);else if(m instanceof at)m.target=m.target||o;else{var P=m;m=new at(T,o),D(m,P)}if(P=!0,v)for(var H=v.length-1;0<=H;H--){var it=m.g=v[H];P=ci(it,T,!0,m)&&P}if(it=m.g=o,P=ci(it,T,!0,m)&&P,P=ci(it,T,!1,m)&&P,v)for(H=0;H<v.length;H++)it=m.g=v[H],P=ci(it,T,!1,m)&&P}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var v=o.g[m],T=0;T<v.length;T++)Ft(v[T]);delete o.g[m],o.h--}}this.F=null},ve.prototype.K=function(o,m,v,T){return this.i.add(String(o),m,!1,v,T)},ve.prototype.L=function(o,m,v,T){return this.i.add(String(o),m,!0,v,T)};function ci(o,m,v,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,H=0;H<m.length;++H){var it=m[H];if(it&&!it.da&&it.capture==v){var Ot=it.listener,Ee=it.ha||it.src;it.fa&&ui(o.i,it),P=Ot.call(Ee,T)!==!1&&P}}return P&&!T.defaultPrevented}function pu(o,m,v){if(typeof o=="function")v&&(o=V(o,v));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function zs(o){o.g=pu(()=>{o.g=null,o.i&&(o.i=!1,zs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Oc extends ct{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(o){ct.call(this),this.h=o,this.g={}}B(jr,ct);var Fi=[];function qe(o){wt(o.g,function(m,v){this.g.hasOwnProperty(v)&&zr(m)},o),o.g={}}jr.prototype.N=function(){jr.aa.N.call(this),qe(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=g.JSON.stringify,zn=g.JSON.parse,Xe=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Bs(){}Bs.prototype.h=null;function yu(o){return o.h||(o.h=o.i())}function vu(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){at.call(this,"d")}B(Qi,at);function Nn(){at.call(this,"c")}B(Nn,at);var dn={},Yi=null;function Da(){return Yi=Yi||new ve}dn.La="serverreachability";function ks(o){at.call(this,dn.La,o)}B(ks,at);function Ki(o){const m=Da();Ce(m,new ks(m))}dn.STAT_EVENT="statevent";function Va(o,m){at.call(this,dn.STAT_EVENT,o),this.stat=m}B(Va,at);function ue(o){const m=Da();Ce(m,new Va(m,o))}dn.Ma="timingevent";function _u(o,m){at.call(this,dn.Ma,o),this.size=m}B(_u,at);function Xi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Eu(o,m,v,T,P,H){o.info(function(){if(o.g)if(H)for(var it="",Ot=H.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Te=Ne.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ne+"="+Mt+"&"):it+(Ne+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function Tu(o,m,v,T,P,H,it){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+it})}function Zi(o,m,v,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(o,v)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function De(o,m){if(!o.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(o=0;o<v.length;o++)if(Array.isArray(v[o])){var T=v[o];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return js(v)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Na(){}B(Na,Bs),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Br=new Na;function kn(o,m,v,T){this.j=o,this.i=m,this.l=v,this.R=T||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qs}function qs(){this.i=null,this.g="",this.h=!1}var Ji={},kr={};function xn(o,m,v){o.L=1,o.v=Gr(re(m)),o.m=v,o.P=!0,fi(o,null)}function fi(o,m){o.F=Date.now(),Jt(o),o.A=re(o.v);var v=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),gi(v.i,"t",T),o.C=0,v=o.j.J,o.h=new qs,o.g=Lu(o.j,v?m:null,!o.m),0<o.O&&(o.M=new Oc(V(o.Y,o,o.g),o.O)),m=o.U,v=o.g,T=o.ca;var P="readystatechange";Array.isArray(P)||(P&&(Fi[0]=P.toString()),P=Fi);for(var H=0;H<P.length;H++){var it=oi(v,P[H],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ki(),Eu(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=_i?Ki(3):Ki(2)),xa(this);var v=this.g.Z();this.X=v;e:if(Wi(this)){var T=Cu(this.g);o="";var P=T.length,H=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),an(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(H&&m==P-1)});T.length=0,this.h.g+=o,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,Tu(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Ot)){var Mt=Ot;break e}}Mt=null}if(v=Mt)Zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,ue(12),en(this),an(this);break t}}if(this.P){v=!0;let Le;for(;!this.J&&this.C<it.length;)if(Le=tr(this,it),Le==kr){Te==4&&(this.s=4,ue(14),v=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Ji){this.s=4,ue(15),Zi(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else Zi(this.i,this.l,Le,null),sn(this,Le);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,ue(16),v=!1),this.o=this.o&&v,!v)Zi(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),an(this);else if(0<it.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Zr(Ne),Ne.M=!0,ue(11))}}else Zi(this.i,this.l,it,null),sn(this,it);Te==4&&en(this),this.o&&!this.J&&(Te==4?Iu(this.j,this):(this.o=!1,Jt(this)))}else jc(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),en(this),an(this)}}}catch{}finally{}};function Wi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function tr(o,m){var v=o.C,T=m.indexOf(`
`,v);return T==-1?kr:(v=Number(m.substring(v,T)),isNaN(v)?Ji:(T+=1,T+v>m.length?kr:(m=m.slice(T,T+v),o.C=T+v,m)))}kn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(o){o.S=Date.now()+o.I,Hs(o,o.I)}function Hs(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Xi(V(o.ba,o),m)}function xa(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(Ki(),ue(17)),en(this),this.s=2,an(this)):Hs(this,this.S-o)};function an(o){o.j.G==0||o.J||Iu(o.j,o)}function en(o){xa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var v=o.j;if(v.G!=0&&(v.g==o||er(v.h,o))){if(!o.K&&er(v.h,o)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<o.F)ka(v),ja(v);else break t;tl(v),ue(18)}}else v.za=P[1],0<v.za-v.T&&37500>P[2]&&v.F&&v.v==0&&!v.C&&(v.C=Xi(V(v.Za,v),6e3));if(1>=Au(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else vi(v,11)}else if((o.K||v.g==o)&&ka(v),!nt(m))for(P=v.Da.g.parse(m),m=0;m<P.length;m++){let Mt=P[m];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Te=Mt[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const _i=Mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Le=o.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var H=T.h;H.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(nr(H,H.h),H.h=null))}if(T.D){const nl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.ya=nl,jt(T.I,T.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-o.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var it=o;if(T.qa=Mu(T,T.J?T.ia:null,T.W),it.K){mn(T.h,it);var Ot=it,Ee=T.L;Ee&&(Ot.I=Ee),Ot.B&&(xa(Ot),Jt(Ot)),T.g=it}else Nu(T);0<v.i.length&&Ba(v)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(v,7):Js(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Ki(4)}catch{}}var Mc=class{constructor(o,m){this.g=o,this.map=m}};function Gs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Au(o){return o.h?1:o.g?o.g.size:0}function er(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function nr(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Gs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function $e(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const v of o.g.values())m=m.concat(v.D);return m}return $(o.i)}function Su(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(p(o)){for(var m=[],v=o.length,T=0;T<v;T++)m.push(o[T]);return m}m=[],v=0;for(T in o)m[v++]=o[T];return m}function Lc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(p(o)||typeof o=="string"){var m=[];o=o.length;for(var v=0;v<o;v++)m.push(v);return m}m=[],v=0;for(const T in o)m[v++]=T;return m}}}function qr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(p(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var v=Lc(o),T=Su(o),P=T.length,H=0;H<P;H++)m.call(void 0,T[H],v&&v[H],o)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(o,m){if(o){o=o.split("&");for(var v=0;v<o.length;v++){var T=o[v].indexOf("="),P=null;if(0<=T){var H=o[v].substring(0,T);P=o[v].substring(T+1)}else H=o[v];m(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function di(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof di){this.h=o.h,ir(this,o.j),this.o=o.o,this.g=o.g,Hr(this,o.s),this.l=o.l;var m=o.i,v=new qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Oa(this,v),this.m=o.m}else o&&(m=String(o).match(Qs))?(this.h=!1,ir(this,m[1]||"",!0),this.o=rr(m[2]||""),this.g=rr(m[3]||"",!0),Hr(this,m[4]),this.l=rr(m[5]||"",!0),Oa(this,m[6]||"",!0),this.m=rr(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}di.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,Ys,!0),":");var v=this.g;return(v||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,Ys,!0),"@"),o.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&o.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&o.push("/"),o.push(gn(v,v.charAt(0)=="/"?Ks:bu,!0))),(v=this.i.toString())&&o.push("?",v),(v=this.m)&&o.push("#",gn(v,zc)),o.join("")};function re(o){return new di(o)}function ir(o,m,v){o.j=v?rr(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Hr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Oa(o,m,v){m instanceof qn?(o.i=m,Xs(o.i,o.h)):(v||(m=gn(m,Pc)),o.i=new qn(m,o.h))}function jt(o,m,v){o.i.set(m,v)}function Gr(o){return jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function rr(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,v){return typeof o=="string"?(o=encodeURI(o).replace(m,Uc),v&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Uc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ys=/[#\/\?@]/g,bu=/[#\?:]/g,Ks=/[#\?]/g,Pc=/[#\?@]/g,zc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ia(o.i,function(m,v){o.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=qn.prototype,a.add=function(o,m){pn(this),this.i=null,o=pi(this,o);var v=this.g.get(o);return v||this.g.set(o,v=[]),v.push(m),this.h+=1,this};function Ma(o,m){pn(o),m=pi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function mi(o,m){return pn(o),m=pi(o,m),o.g.has(m)}a.forEach=function(o,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(P){o.call(m,P,T,this)},this)},this)},a.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const P=o[T];for(let H=0;H<P.length;H++)v.push(m[T])}return v},a.V=function(o){pn(this);let m=[];if(typeof o=="string")mi(this,o)&&(m=m.concat(this.g.get(pi(this,o))));else{o=Array.from(this.g.values());for(let v=0;v<o.length;v++)m=m.concat(o[v])}return m},a.set=function(o,m){return pn(this),this.i=null,o=pi(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function gi(o,m,v){Ma(o,m),0<v.length&&(o.i=null,o.g.set(pi(o,m),$(v)),o.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const H=encodeURIComponent(String(T)),it=this.V(T);for(T=0;T<it.length;T++){var P=H;it[T]!==""&&(P+="="+encodeURIComponent(String(it[T]))),o.push(P)}}return this.i=o.join("&")};function pi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Xs(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(v,T){var P=T.toLowerCase();T!=P&&(Ma(this,T),gi(this,P,v))},o)),o.j=m}function Ru(o,m){const v=new $i;if(g.Image){const T=new Image;T.onload=z(yn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=z(yn,v,"TestLoadImage: error",!1,m,T),T.onabort=z(yn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=z(yn,v,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Fr(o,m){const v=new $i,T=new AbortController,P=setTimeout(()=>{T.abort(),yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?yn(v,"TestPingServer: ok",!0,m):yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),yn(v,"TestPingServer: error",!1,m)})}function yn(o,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Qr(){this.g=new Xe}function Hn(o,m,v){const T=v||"";try{qr(o,function(P,H){let it=P;y(P)&&(it=js(P)),m.push(T+H+"="+encodeURIComponent(it))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function ar(o){this.l=o.Ub||null,this.j=o.eb||!1}B(ar,Bs),ar.prototype.g=function(){return new yi(this.l,this.j)},ar.prototype.i=function(o){return function(){return o}}({});function yi(o,m){ve.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(yi,ve),a=yi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Fn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Fn(this),this.readyState==3&&$s(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},a.Qa=function(o){this.g&&(this.response=o,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Fn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,o.push(v[0]+": "+v[1]),v=m.next();return o.join(`\r
`)};function Fn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Zs(o){let m="";return wt(o,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ve(o,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Zs(v),typeof o=="string"?v!=null&&encodeURIComponent(String(v)):jt(o,m,v))}function Ht(o){ve.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ht,ve);var La=/^https?$/i,Yr=["POST","PUT"];a=Ht.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?yu(this.o):yu(Br),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(H){wu(this,H);return}if(o=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Yr,m,void 0))||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(H){wu(this,H)}};function wu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ua(o),Qn(o)}function Ua(o){o.A||(o.A=!0,Ce(o,"complete"),Ce(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ce(this,"complete"),Ce(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},a.bb=function(){Pa(this)};function Pa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)pu(o.Ea,0,o);else if(Ce(o,"readystatechange"),vn(o)==4){o.h=!1;try{const it=o.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=it===0){var P=String(o.D).match(Qs)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!La.test(P?P.toLowerCase():"")}v=T}if(v)Ce(o,"complete"),Ce(o,"success");else{o.m=6;try{var H=2<vn(o)?o.g.statusText:""}catch{H=""}o.l=H+" ["+o.Z()+"]",Ua(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Kr(o);const v=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ce(o,"ready");try{v.onreadystatechange=T}catch{}}}function Kr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function Cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(nt(o[T]))continue;var v=I(o[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(o,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[o]||m}function za(o){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,o),this.cb=Xr("retryDelaySeedMs",1e4,o),this.Wa=Xr("forwardChannelMaxRetries",2,o),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(o&&o.concurrentRequestLimit),this.Da=new Qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=za.prototype,a.la=8,a.G=1,a.connect=function(o,m,v,T){ue(0),this.W=o,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Mu(this,null,this.W),Ba(this)};function Js(o){if(Du(o),o.G==3){var m=o.U++,v=re(o.I);if(jt(v,"SID",o.K),jt(v,"RID",m),jt(v,"TYPE","terminate"),$r(o,v),m=new kn(o,o.j,m),m.L=2,m.v=Gr(re(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jt(m)}Ou(o)}function ja(o){o.g&&(Zr(o),o.g.cancel(),o.g=null)}function Du(o){ja(o),o.u&&(g.clearTimeout(o.u),o.u=null),ka(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ba(o){if(!Fs(o.h)&&!o.s){o.s=!0;var m=o.Ga;_t||N(),dt||(_t(),dt=!0),qt.add(m,o),o.B=0}}function Bc(o,m){return Au(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Xi(V(o.Ga,o,m),el(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const P=new kn(this,this.j,o);let H=this.o;if(this.S&&(H?(H=R(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Vu(this,P,m),v=re(this.I),jt(v,"RID",o),jt(v,"CVER",22),this.D&&jt(v,"X-HTTP-Session-Id",this.D),$r(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(Zs(H)))+"&"+m:this.m&&Ve(v,this.m,H)),nr(this.h,P),this.Ua&&jt(v,"TYPE","init"),this.P?(jt(v,"$req",m),jt(v,"SID","null"),P.T=!0,xn(P,v,null)):xn(P,v,m),this.G=2}}else this.G==3&&(o?Ws(this,o):this.i.length==0||Fs(this.h)||Ws(this))};function Ws(o,m){var v;m?v=m.l:v=o.U++;const T=re(o.I);jt(T,"SID",o.K),jt(T,"RID",v),jt(T,"AID",o.T),$r(o,T),o.m&&o.o&&Ve(T,o.m,o.o),v=new kn(o,o.j,v,o.B+1),o.m===null&&(v.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Vu(o,v,1e3),v.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),nr(o.h,v),xn(v,T,m)}function $r(o,m){o.H&&wt(o.H,function(v,T){jt(m,T,v)}),o.l&&qr({},function(v,T){jt(m,T,v)})}function Vu(o,m,v){v=Math.min(o.i.length,v);var T=o.l?V(o.l.Na,o.l,o):null;t:{var P=o.i;let H=-1;for(;;){const it=["count="+v];H==-1?0<v?(H=P[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let Ot=!0;for(let Ee=0;Ee<v;Ee++){let Mt=P[Ee].g;const Ne=P[Ee].map;if(Mt-=H,0>Mt)H=Math.max(0,P[Ee].g-100),Ot=!1;else try{Hn(Ne,it,"req"+Mt+"_")}catch{T&&T(Ne)}}if(Ot){T=it.join("&");break t}}}return o=o.i.splice(0,v),m.D=o,T}function Nu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;_t||N(),dt||(_t(),dt=!0),qt.add(m,o),o.v=0}}function tl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Xi(V(o.Fa,o),el(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Xi(V(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),ja(this),xu(this))};function Zr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function xu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=re(o.qa);jt(m,"RID","rpc"),jt(m,"SID",o.K),jt(m,"AID",o.T),jt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&jt(m,"TO",o.ja),jt(m,"TYPE","xmlhttp"),$r(o,m),o.m&&o.o&&Ve(m,o.m,o.o),o.L&&(o.g.I=o.L);var v=o.g;o=o.ia,v.L=1,v.v=Gr(re(m)),v.m=null,v.P=!0,fi(v,o)}a.Za=function(){this.C!=null&&(this.C=null,ja(this),tl(this),ue(19))};function ka(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Iu(o,m){var v=null;if(o.g==m){ka(o),Zr(o),o.g=null;var T=2}else if(er(o.h,m))v=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var P=o.B;T=Da(),Ce(T,new _u(T,v)),Ba(o)}else Nu(o);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Bc(o,m)||T==2&&tl(o)))switch(v&&0<v.length&&(m=o.h,m.i=m.i.concat(v)),P){case 1:vi(o,5);break;case 4:vi(o,10);break;case 3:vi(o,6);break;default:vi(o,2)}}}function el(o,m){let v=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(v*=2),v*m}function vi(o,m){if(o.j.info("Error code "+m),m==2){var v=V(o.fb,o),T=o.Xa;const P=!T;T=new di(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ir(T,"https"),Gr(T),P?Ru(T.toString(),v):Fr(T.toString(),v)}else ue(2);o.G=0,o.l&&o.l.sa(m),Ou(o),Du(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Ou(o){if(o.G=0,o.ka=[],o.l){const m=$e(o.h);(m.length!=0||o.i.length!=0)&&(G(o.ka,m),G(o.ka,o.i),o.h.i.length=0,$(o.i),o.i.length=0),o.l.ra()}}function Mu(o,m,v){var T=v instanceof di?re(v):new di(v);if(T.g!="")m&&(T.g=m+"."+T.g),Hr(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var H=new di(null);T&&ir(H,T),m&&(H.g=m),P&&Hr(H,P),v&&(H.l=v),T=H}return v=o.D,m=o.ya,v&&m&&jt(T,v,m),jt(T,"VER",o.la),$r(o,T),T}function Lu(o,m,v){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new ar({eb:v})):new Ht(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}a=Uu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function qa(){}qa.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ve.call(this),this.g=new za(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!nt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!nt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yn(this)}B(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Js(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var v={};v.__data__=o,o=v}else this.u&&(v={},v.__data__=js(o),o=v);m.i.push(new Mc(m.Ya++,o)),m.G==3&&Ba(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Ze.aa.N.call(this)};function Pu(o){Qi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const v in m){o=v;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}B(Pu,Qi);function zu(){Nn.call(this),this.status=1}B(zu,Nn);function Yn(o){this.g=o}B(Yn,Uu),Yn.prototype.ua=function(){Ce(this.g,"a")},Yn.prototype.ta=function(o){Ce(this.g,new Pu(o))},Yn.prototype.sa=function(o){Ce(this.g,new zu)},Yn.prototype.ra=function(){Ce(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,a_=function(){return new qa},r_=function(){return Da()},i_=dn,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Qo=_e,hi.COMPLETE="complete",n_=hi,vu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Fl=vu,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,e_=Ht}).apply(typeof zo<"u"?zo:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",Ny="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Kv("@firebase/firestore");function gs(){return va.logLevel}function lt(a,...e){if(va.logLevel<=Pt.DEBUG){const i=e.map(Rd);va.debug(`Firestore (${xs}): ${a}`,...i)}}function ki(a,...e){if(va.logLevel<=Pt.ERROR){const i=e.map(Rd);va.error(`Firestore (${xs}): ${a}`,...i)}}function Ts(a,...e){if(va.logLevel<=Pt.WARN){const i=e.map(Rd);va.warn(`Firestore (${xs}): ${a}`,...i)}}function Rd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,s_(a,s,i)}function s_(a,e,i){let s=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function Gt(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||s_(e,u,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class vS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _S{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const u=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Nr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await u(this.currentUser)})},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Nr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new l_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class ES{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new ES(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=SS(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function nd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Dt(s,u);{const h=u_(),d=bS(h.encode(Iy(a,i)),h.encode(Iy(e,i)));return d!==0?d:Dt(s,u)}}i+=s>65535?2:1}return Dt(a.length,e.length)}function Iy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function bS(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Dt(a[i],e[i]);return Dt(a.length,e.length)}function As(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,My=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*My);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Oy)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),u=ti.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Zt extends ti{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const RS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return RS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new Be([Ly])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function wS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Ir(u,gt.empty(),e)}function CS(a){return new Ir(a.readTime,a.key,nu)}class Ir{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ir(Et.min(),gt.empty(),nu)}static max(){return new Ir(Et.max(),gt.empty(),nu)}}function DS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==VS)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},p=>s(p))}),d=!0,h===u&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(u=>u?Z.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(A=>{d[y]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new Z((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function xS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function _c(a){return a==null}function ic(a){return a===0&&1/a==-1/0}function IS(a){return typeof a=="number"&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="";function OS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Uy(e)),e=MS(a.get(i),e);return Uy(e)}function MS(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case c_:i+="";break;default:i+=h}}return i}function Uy(a){return a+c_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ta(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function h_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jo(this.root,e,this.comparator,!0)}}class jo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??je.RED,this.left=u??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new je(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return je.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Un([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new f_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const LS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(a){if(Gt(!!a,39018),typeof a=="string"){let e=0;const i=LS.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Mr(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="server_timestamp",m_="__type__",g_="__previous_value__",p_="__local_write_time__";function Cd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[m_])===null||i===void 0?void 0:i.stringValue)===d_}function Ec(a){const e=a.mapValue.fields[g_];return Cd(e)?Ec(e):e}function iu(a){const e=Or(a.mapValue.fields[p_].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i,s,u,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const rc="(default)";class ru{constructor(e,i){this.projectId=e,this.database=i||rc}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__type__",PS="__max__",Bo={mapValue:{}},v_="__vector__",ac="value";function Lr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cd(a)?4:jS(a)?9007199254740991:zS(a)?10:11:vt(28295,{value:a})}function ri(a,e){if(a===e)return!0;const i=Lr(a);if(i!==Lr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return iu(a).isEqual(iu(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Or(u.timestampValue),g=Or(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return Mr(u.bytesValue).isEqual(Mr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return As(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Py(d)!==Py(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ri(d[p],g[p])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function au(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function Ss(a,e){if(a===e)return 0;const i=Lr(a),s=Lr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),p=ce(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return jy(a.timestampValue,e.timestampValue);case 4:return jy(iu(a),iu(e));case 5:return nd(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Mr(h),p=Mr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const A=Dt(g[y],p[y]);if(A!==0)return A}return Dt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Dt(ce(h.latitude),ce(d.latitude));return g!==0?g:Dt(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return By(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,A;const w=h.fields||{},V=d.fields||{},z=(g=w[ac])===null||g===void 0?void 0:g.arrayValue,B=(p=V[ac])===null||p===void 0?void 0:p.arrayValue,$=Dt(((y=z==null?void 0:z.values)===null||y===void 0?void 0:y.length)||0,((A=B==null?void 0:B.values)===null||A===void 0?void 0:A.length)||0);return $!==0?$:By(z,B)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Bo.mapValue&&d===Bo.mapValue)return 0;if(h===Bo.mapValue)return 1;if(d===Bo.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},A=Object.keys(y);p.sort(),A.sort();for(let w=0;w<p.length&&w<A.length;++w){const V=nd(p[w],A[w]);if(V!==0)return V;const z=Ss(g[p[w]],y[A[w]]);if(z!==0)return z}return Dt(p.length,A.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{Pe:i})}}function jy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Or(a),s=Or(e),u=Dt(i.seconds,s.seconds);return u!==0?u:Dt(i.nanos,s.nanos)}function By(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Ss(i[u],s[u]);if(h)return h}return Dt(i.length,s.length)}function bs(a){return id(a)}function id(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Or(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Mr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=id(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${id(i.fields[d])}`;return u+"}"}(a.mapValue):vt(61005,{value:a})}function Yo(a){switch(Lr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(a);return e?16+Yo(e):16;case 5:return 2*a.stringValue.length;case 6:return Mr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Yo(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Ta(s.fields,(h,d)=>{u+=h.length+Yo(d)}),u}(a.mapValue);default:throw vt(13486,{value:a})}}function rd(a){return!!a&&"integerValue"in a}function Dd(a){return!!a&&"arrayValue"in a}function ky(a){return!!a&&"nullValue"in a}function qy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ko(a){return!!a&&"mapValue"in a}function zS(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[y_])===null||i===void 0?void 0:i.stringValue)===v_}function Kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ta(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Kl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function jS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===PS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ko(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=Be.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ta(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Vn(Kl(this.value))}}function __(a){const e=[];return Ta(a.fields,(i,s)=>{const u=new Be([i]);if(Ko(s)){const h=__(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Et.min(),Et.min(),Et.min(),Vn.empty(),0)}static newFoundDocument(e,i,s,u){return new Ye(e,1,i,Et.min(),s,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,Et.min(),Et.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Et.min(),Et.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function Hy(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function BS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{}class be extends E_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new qS(e,i,s):i==="array-contains"?new FS(e,s):i==="in"?new QS(e,s):i==="not-in"?new YS(e,s):i==="array-contains-any"?new KS(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new HS(e,s):new GS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends E_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ai(e,i)}matches(e){return T_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function T_(a){return a.op==="and"}function A_(a){return kS(a)&&T_(a)}function kS(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function ad(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+bs(a.value);if(A_(a))return a.filters.map(e=>ad(e)).join(",");{const e=a.filters.map(i=>ad(i)).join(",");return`${a.op}(${e})`}}function S_(a,e){return a instanceof be?function(s,u){return u instanceof be&&s.op===u.op&&s.field.isEqual(u.field)&&ri(s.value,u.value)}(a,e):a instanceof ai?function(s,u){return u instanceof ai&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&S_(d,u.filters[g]),!0):!1}(a,e):void vt(19439)}function b_(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(a):a instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(b_).join(" ,")+"}"}(a):"Filter"}class qS extends be{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class HS extends be{constructor(e,i){super(e,"in",i),this.keys=R_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class GS extends be{constructor(e,i){super(e,"not-in",i),this.keys=R_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function R_(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class FS extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&au(i.arrayValue,this.value)}}class QS extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class YS extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class KS extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Fy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new XS(a,e,i,s,u,h,d)}function Vd(a){const e=At(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>ad(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),_c(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.Ie=i}return e.Ie}function Nd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!BS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!S_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Gy(a.startAt,e.startAt)&&Gy(a.endAt,e.endAt)}function sd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $S(a,e,i,s,u,h,d,g){return new Tc(a,e,i,s,u,h,d,g)}function w_(a){return new Tc(a)}function Qy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ZS(a){return a.collectionGroup!==null}function Xl(a){const e=At(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new lc(h,s))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new lc(Be.keyField(),s))}return e.Ee}function ei(a){const e=At(a);return e.de||(e.de=JS(e,Xl(a))),e.de}function JS(a,e){if(a.limitType==="F")return Fy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new lc(u.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return Fy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ld(a,e,i){return new Tc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Ac(a,e){return Nd(ei(a),ei(e))&&a.limitType===e.limitType}function C_(a){return`${Vd(ei(a))}|lt:${a.limitType}`}function ps(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>b_(u)).join(", ")}]`),_c(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>bs(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>bs(u)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Sc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Xl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,p){const y=Hy(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Xl(s),u)||s.endAt&&!function(d,g,p){const y=Hy(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Xl(s),u))}(a,e)}function WS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function D_(a){return(e,i)=>{let s=!1;for(const u of Xl(a)){const h=t2(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function t2(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Ss(p,y):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new ne(gt.comparator);function qi(){return e2}const V_=new ne(gt.comparator);function Ql(...a){let e=V_;for(const i of a)e=e.insert(i.key,i);return e}function N_(a){let e=V_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ya(){return $l()}function x_(){return $l()}function $l(){return new Aa(a=>a.toString(),(a,e)=>a.isEqual(e))}const n2=new ne(gt.comparator),i2=new we(gt.comparator);function xt(...a){let e=i2;for(const i of a)e=e.add(i);return e}const r2=new we(Dt);function a2(){return r2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function I_(a){return{integerValue:""+a}}function s2(a,e){return IS(e)?I_(e):xd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function l2(a,e,i){return a instanceof uc?function(u,h){const d={fields:{[m_]:{stringValue:d_},[p_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Cd(h)&&(h=Ec(h)),h&&(d.fields[g_]=h),{mapValue:d}}(i,e):a instanceof su?M_(a,e):a instanceof lu?L_(a,e):function(u,h){const d=O_(u,h),g=Yy(d)+Yy(u.Re);return rd(d)&&rd(u.Re)?I_(g):xd(u.serializer,g)}(a,e)}function u2(a,e,i){return a instanceof su?M_(a,e):a instanceof lu?L_(a,e):i}function O_(a,e){return a instanceof oc?function(s){return rd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class uc extends bc{}class su extends bc{constructor(e){super(),this.elements=e}}function M_(a,e){const i=U_(e);for(const s of a.elements)i.some(u=>ri(u,s))||i.push(s);return{arrayValue:{values:i}}}class lu extends bc{constructor(e){super(),this.elements=e}}function L_(a,e){let i=U_(e);for(const s of a.elements)i=i.filter(u=>!ri(u,s));return{arrayValue:{values:i}}}class oc extends bc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Yy(a){return ce(a.integerValue||a.doubleValue)}function U_(a){return Dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function o2(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof su&&u instanceof su||s instanceof lu&&u instanceof lu?As(s.elements,u.elements,ri):s instanceof oc&&u instanceof oc?ri(s.Re,u.Re):s instanceof uc&&u instanceof uc}(a.transform,e.transform)}class c2{constructor(e,i){this.version=e,this.transformResults=i}}class Pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Rc{}function P_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new j_(a.key,Pi.none()):new hu(a.key,a.data,Pi.none());{const i=a.data,s=Vn.empty();let u=new we(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Sa(a.key,s,new Un(u.toArray()),Pi.none())}}function h2(a,e,i){a instanceof hu?function(u,h,d){const g=u.value.clone(),p=Xy(u.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Sa?function(u,h,d){if(!Xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Xy(u.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(z_(u)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof hu?function(h,d,g,p){if(!Xo(h.precondition,d))return g;const y=h.value.clone(),A=$y(h.fieldTransforms,p,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof Sa?function(h,d,g,p){if(!Xo(h.precondition,d))return g;const y=$y(h.fieldTransforms,p,d),A=d.data;return A.setAll(z_(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(w=>w.field))}(a,e,i,s):function(h,d,g){return Xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function f2(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=O_(s.transform,u||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,h))}return i||null}function Ky(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&As(s,u,(h,d)=>o2(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class hu extends Rc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sa extends Rc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function z_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Xy(a,e,i){const s=new Map;Gt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,u2(d,g,i[u]))}return s}function $y(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,l2(h,d,e))}return s}class j_ extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&h2(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=x_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const p=P_(d,g);p!==null&&s.set(u.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>Ky(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>Ky(i,s))}}class Id{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return n2}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Id(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function y2(a){switch(a){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function B_(a){if(a===void 0)return ki("GRPC error has no .code"),W.UNKNOWN;switch(a){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:a})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Vr([4294967295,4294967295],0);function Zy(a){const e=u_().encode(a),i=new t_;return i.update(e),new Uint8Array(i.digest())}function Jy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Vr([i,s],0),new Vr([u,h],0)]}class Od{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=Vr.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(Vr.fromNumber(s)));return u.compare(v2)===1&&(u=new Vr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Zy(e),[s,u]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Od(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Zy(e),[s,u]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new wc(Et.min(),u,new ne(Dt),qi(),xt())}}class fu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fu(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class k_{constructor(e,i){this.targetId=e,this.Ce=i}}class q_{constructor(e,i,s=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Wy{constructor(){this.Fe=0,this.Me=tv(),this.xe=ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xt(),i=xt(),s=xt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:vt(38017,{changeType:h})}}),new fu(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=tv()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _2{constructor(e){this.ze=e,this.je=new Map,this.He=qi(),this.Je=ko(),this.Ye=ko(),this.Ze=new ne(Dt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(sd(h))if(s===0){const d=new gt(h.path);this.tt(i,d,Ye.newNoDocument(d,Et.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),p=g?this.lt(g,e,d):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Mr(s).toUint8Array()}catch(p){if(p instanceof f_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Od(d,u,h)}catch(p){return Ts(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&sd(g.target)){const p=new gt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ye.newNoDocument(p,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=xt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new wc(e,i,this.Ze,this.He,s);return this.He=qi(),this.Je=ko(),this.Ye=ko(),this.Ze=new ne(Dt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Wy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new we(Dt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new we(Dt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function ko(){return new ne(gt.comparator)}function tv(){return new ne(gt.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class S2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ud(a,e){return a.useProto3Json||_c(e)?e:{value:e}}function cc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function b2(a,e){return cc(a,e.toTimestamp())}function ni(a){return Gt(!!a,49232),Et.fromTimestamp(function(i){const s=Or(i);return new Re(s.seconds,s.nanos)}(a))}function Md(a,e){return od(a,e).canonicalString()}function od(a,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function G_(a){const e=Zt.fromString(a);return Gt(X_(e),10190,{key:e.toString()}),e}function cd(a,e){return Md(a.databaseId,e.path)}function Hf(a,e){const i=G_(e);if(i.get(1)!==a.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Q_(i))}function F_(a,e){return Md(a.databaseId,e)}function R2(a){const e=G_(a);return e.length===4?Zt.emptyPath():Q_(e)}function hd(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Q_(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function ev(a,e,i){return{name:cd(a,e),fields:i.value.mapValue.fields}}function w2(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(y,A){return y.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const A=y.code===void 0?W.UNKNOWN:B_(y.code);return new mt(A,y.message||"")}(d);i=new q_(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Hf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):Et.min(),g=new Vn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(u,h,d,g),y=s.targetIds||[],A=s.removedTargetIds||[];i=new $o(y,A,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Hf(a,s.document),h=s.readTime?ni(s.readTime):Et.min(),d=Ye.newNoDocument(u,h),g=s.removedTargetIds||[];i=new $o([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Hf(a,s.document),h=s.removedTargetIds||[];i=new $o([],h,u,null)}else{if(!("filter"in e))return vt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new p2(u,h),g=s.targetId;i=new k_(g,d)}}return i}function C2(a,e){let i;if(e instanceof hu)i={update:ev(a,e.key,e.value)};else if(e instanceof j_)i={delete:cd(a,e.key)};else if(e instanceof Sa)i={update:ev(a,e.key,e.data),updateMask:U2(e.fieldMask)};else{if(!(e instanceof d2))return vt(16599,{ft:e.type});i={verify:cd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:b2(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)}(a,e.precondition)),i}function D2(a,e){return a&&a.length>0?(Gt(e!==void 0,14353),a.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new c2(d,u.transformResults||[])}(i,e))):[]}function V2(a,e){return{documents:[F_(a,e.path)]}}function N2(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=F_(a,u);const h=function(y){if(y.length!==0)return K_(ai.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(A=>function(V){return{field:ys(V.field),direction:O2(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ud(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:i,parent:u}}function x2(a){let e=R2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Gt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(w){const V=Y_(w);return V instanceof ai&&A_(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(w){return w.map(V=>function(B){return new lc(vs(B.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(w){let V;return V=typeof w=="object"?w.value:w,_c(V)?null:V}(i.limit));let p=null;i.startAt&&(p=function(w){const V=!!w.before,z=w.values||[];return new sc(z,V)}(i.startAt));let y=null;return i.endAt&&(y=function(w){const V=!w.before,z=w.values||[];return new sc(z,V)}(i.endAt)),$S(e,u,d,h,g,"F",p,y)}function I2(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Y_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=vs(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vs(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return be.create(vs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>Y_(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function O2(a){return E2[a]}function M2(a){return T2[a]}function L2(a){return A2[a]}function ys(a){return{fieldPath:a.canonicalString()}}function vs(a){return Be.fromServerFormat(a.fieldPath)}function K_(a){return a instanceof be?function(i){if(i.op==="=="){if(qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(qy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(ky(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:M2(i.op),value:i.value}}}(a):a instanceof ai?function(i){const s=i.getFilters().map(u=>K_(u));return s.length===1?s[0]:{compositeFilter:{op:L2(i.op),filters:s}}}(a):vt(54877,{filter:a})}function U2(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function X_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i,s,u,h=Et.min(),d=Et.min(),g=ke.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.wt=e}}function z2(a){const e=x2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.yn=new B2}addToCollectionParentIndex(e,i){return this.yn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ir.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class B2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new we(Zt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn($_,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Rs(0)}static ir(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",k2=1048576;function rv([a,e],[i,s]){const u=Dt(a,i);return u===0?Dt(e,s):u}class q2{constructor(e){this.cr=e,this.buffer=new we(rv),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();rv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){lt(iv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?lt(iv,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.Ir(3e5)})}}class G2{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(vc.le);const s=new q2(i);return this.Er.forEachTarget(e,u=>s.Pr(u.sequenceNumber)).next(()=>this.Er.Ar(e,u=>s.Pr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,u,h,d,g,p,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),u=this.params.maximumSequenceNumbersToCollect):u=w,d=Date.now(),this.nthSequenceNumber(e,u))).next(w=>(s=w,g=Date.now(),this.removeTargets(e,s,i))).next(w=>(h=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),gs()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:w})))}}function F2(a,e){return new G2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.changes=new Aa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Zl(s.mutation,u,Un.empty(),Re.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const u=ya();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Ql();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=qi();const d=$l(),g=function(){return $l()}();return i.forEach((p,y)=>{const A=s.get(y.key);u.has(y.key)&&(A===void 0||A.mutation instanceof Sa)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Zl(A.mutation,y,A.mutation.getFieldMask(),Re.now())):d.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,A)=>d.set(y,A)),i.forEach((y,A)=>{var w;return g.set(y,new Y2(A,(w=d.get(y))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let u=new ne((d,g)=>d-g),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let A=s.get(p)||Un.empty();A=g.applyToLocalView(y,A),s.set(p,A);const w=(u.get(g.batchId)||xt()).add(p);u=u.insert(g.batchId,w)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,A=p.value,w=x_();A.forEach(V=>{if(!h.has(V)){const z=P_(i.get(V),s.get(V));z!==null&&w.set(V,z),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ZS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(ya());let g=nu,p=h;return d.next(y=>Z.forEach(y,(A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{p=p.insert(A,V)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,xt())).next(A=>({batchId:g,changes:N_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let u=Ql();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,p=>{const y=function(w,V){return new Tc(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,u).next(A=>{A.forEach((w,V)=>{d=d.insert(w,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((p,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Ql();return d.forEach((p,y)=>{const A=h.get(p);A!==void 0&&Zl(A.mutation,y,Un.empty(),Re.now()),Sc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(u){return{name:u.name,query:z2(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new ne(gt.comparator),this.Or=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return Z.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.St(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Or.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=ya(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&u.set(p.getKey(),p)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ne((y,A)=>y-A);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=h.get(y.largestBatchId);A===null&&(A=ya(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=ya(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,A)=>g.set(y,A)),!(g.size()>=u)););return Z.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Or.get(u.largestBatchId).delete(s.key);this.Or.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new g2(i,s));let h=this.Or.get(i);h===void 0&&(h=xt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.Nr=new we(Me.Br),this.Lr=new we(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Me(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new gt(new Zt([])),s=new Me(i,e),u=new Me(i,e+1),h=[];return this.Lr.forEachInRange([s,u],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new gt(new Zt([])),s=new Me(i,e),u=new Me(i,e+1);let h=xt();return this.Lr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return gt.comparator(e.key,i.key)||Dt(e.Gr,i.Gr)}static kr(e,i){return Dt(e.Gr,i.Gr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new we(Me.Br)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new m2(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.zr=this.zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Hr(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?wd:this.Jn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,u],d=>{const g=this.jr(d.Gr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new gt(h),0);let g=new we(Dt);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===u&&(g=g.add(p.Gr)),!0)},d),Z.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const u=this.jr(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Gt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Me(i,0),u=this.zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Zr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=qi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=qi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:A}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DS(CS(A),s)<=0||(u.has(A.key)||Sc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){vt(9500)}Xr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new tb(this)}getSize(e){return Z.resolve(this.size)}}class tb extends Q2{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.vr.addEntry(e,u)):this.vr.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.persistence=e,this.ei=new Aa(i=>Vd(i),Nd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ld,this.targetCount=0,this.ri=Rs.rr()}forEachTarget(e,i){return this.ei.forEach((s,u)=>i(u)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Z.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.ar(i),Z.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Z.waitFor(h).next(()=>u)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,i){this.ii={},this.overlays={},this.si=new vc(0),this.oi=!1,this.oi=!0,this._i=new Z2,this.referenceDelegate=e(this),this.ai=new eb(this),this.indexManager=new j2,this.remoteDocumentCache=function(u){return new W2(u)}(s=>this.referenceDelegate.ui(s)),this.serializer=new P2(i),this.ci=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new J2(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const u=new nb(this.si.next());return this.referenceDelegate.li(),s(u).next(h=>this.referenceDelegate.hi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Pi(e,i){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class nb extends NS{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Ti=new Ld,this.Ii=null}static Ei(e){return new Ud(e)}get di(){if(this.Ii)return this.Ii;throw vt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(u=>this.di.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const u=gt.fromPath(s);return this.Ai(e,u).next(h=>{h||i.removeEntry(u,Et.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Z.or([()=>Z.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.Ri=new Aa(s=>OS(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=F2(this,i)}static Ei(e,i){return new hc(e,i)}li(){}hi(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Z.forEach(this.Ri,(s,u)=>this.gr(e,s,u).next(h=>h?Z.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yo(e.data.value)),i}gr(e,i,s){return Z.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.Ri.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=u}static Ps(e,i){let s=xt(),u=xt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Pd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return WT()?8:xS(ZT())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ib;return this.fs(e,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>h.result)}gs(e,i,s,u){return s.documentReadCount<this.Es?(gs()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(gs()<=Pt.DEBUG&&lt("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ds*u?(gs()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}Rs(e,i){if(Qy(i))return Z.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=ld(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=xt(...h);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(i,g);return this.ys(i,y,d,p.readTime)?this.Rs(e,ld(i,null,"F")):this.ws(e,y,i,p)}))})))}Vs(e,i,s,u){return Qy(i)||u.isEqual(Et.min())?Z.resolve(null):this.As.getDocuments(e,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,u)?Z.resolve(null):(gs()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(i)),this.ws(e,d,i,wS(u,nu)).next(g=>g))})}ps(e,i){let s=new we(D_(e));return i.forEach((u,h)=>{Sc(e,h)&&(s=s.add(h))}),s}ys(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}fs(e,i,s){return gs()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.As.getDocumentsMatchingQuery(e,i,Ir.min(),s)}ws(e,i,s,u){return this.As.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="LocalStore",ab=3e8;class sb{constructor(e,i,s,u){this.persistence=e,this.bs=i,this.serializer=u,this.Ss=new ne(Dt),this.Ds=new Aa(h=>Vd(h),Nd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function lb(a,e,i,s){return new sb(a,e,i,s)}async function J_(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=xt();for(const y of u){d.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}for(const y of h){g.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:d,addedBatchIds:g}))})})}function ub(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,A){const w=y.batch,V=w.keys();let z=Z.resolve();return V.forEach(B=>{z=z.next(()=>A.getEntry(p,B)).next($=>{const G=y.docVersions.get(B);Gt(G!==null,48541),$.version.compareTo(G)<0&&(w.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),A.addEntry($)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function W_(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function ob(a,e){const i=At(a),s=e.snapshotVersion;let u=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});u=i.Ss;const g=[];e.targetChanges.forEach((A,w)=>{const V=u.get(w);if(!V)return;g.push(i.ai.removeMatchingKeys(h,A.removedDocuments,w).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,w)));let z=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,s)),u=u.insert(w,z),function($,G,K){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=ab?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(V,z,A)&&g.push(i.ai.updateTargetData(h,z))});let p=qi(),y=xt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(cb(h,d,e.documentUpdates).next(A=>{p=A.xs,y=A.Os})),!s.isEqual(Et.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(w=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ss=u,h))}function cb(a,e,i){let s=xt(),u=xt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=qi();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(u=u.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):lt(zd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{xs:d,Os:u}})}function hb(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fb(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.ai.getTargetData(s,e).next(h=>h?(u=h,Z.resolve(u)):i.ai.allocateTargetId(s).next(d=>(u=new wr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ss.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function fd(a,e,i){const s=At(a),u=s.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Os(d))throw d;lt(zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(u.target)}function av(a,e,i){const s=At(a);let u=Et.min(),h=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,A){const w=At(p),V=w.Ds.get(A);return V!==void 0?Z.resolve(w.Ss.get(V)):w.ai.getTargetData(y,A)}(s,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?u:Et.min(),i?h:xt())).next(g=>(db(s,WS(e),g),{documents:g,Ns:h})))}function db(a,e,i){let s=a.vs.get(e)||Et.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.vs.set(e,s)}class sv{constructor(){this.activeTargetIds=a2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mb{constructor(){this.So=new sv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new sv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){lt(lv,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){lt(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function dd(){return qo===null?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",pb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yb{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${u}`,this.qo=this.databaseId.database===rc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Qo(e,i,s,u,h){const d=dd(),g=this.$o(e,i.toUriEncodedString());lt(Gf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,u,h),this.Ko(e,g,p,s).then(y=>(lt(Gf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(Gf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Wo(e,i,s,u,h,d){return this.Qo(e,i,s,u,h)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}$o(e,i){const s=pb[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class _b extends yb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,u){const h=dd();return new Promise((d,g)=>{const p=new e_;p.setWithCredentials(!0),p.listenOnce(n_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qo.NO_ERROR:const A=p.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Qo.TIMEOUT:lt(Fe,`RPC '${e}' ${h} timed out`),g(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const w=p.getStatus();if(lt(Fe,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V==null?void 0:V.error;if(z&&z.status&&z.message){const B=function(G){const K=G.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(K)>=0?K:W.UNKNOWN}(z.status);g(new mt(B,z.message))}else g(new mt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new mt(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{s_:e,streamId:h,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{lt(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(u);lt(Fe,`RPC '${e}' ${h} sending request:`,u),p.send(i,"POST",y,s,15)})}a_(e,i,s){const u=dd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=a_(),g=r_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=h.join("");lt(Fe,`Creating RPC '${e}' stream ${u}: ${A}`,p);const w=d.createWebChannel(A,p);let V=!1,z=!1;const B=new vb({Go:G=>{z?lt(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,G):(V||(lt(Fe,`Opening RPC '${e}' stream ${u} transport.`),w.open(),V=!0),lt(Fe,`RPC '${e}' stream ${u} sending:`,G),w.send(G))},zo:()=>w.close()}),$=(G,K,nt)=>{G.listen(K,et=>{try{nt(et)}catch(yt){setTimeout(()=>{throw yt},0)}})};return $(w,Fl.EventType.OPEN,()=>{z||(lt(Fe,`RPC '${e}' stream ${u} transport opened.`),B.t_())}),$(w,Fl.EventType.CLOSE,()=>{z||(z=!0,lt(Fe,`RPC '${e}' stream ${u} transport closed`),B.r_())}),$(w,Fl.EventType.ERROR,G=>{z||(z=!0,Ts(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,G.name,"Message:",G.message),B.r_(new mt(W.UNAVAILABLE,"The operation could not be completed")))}),$(w,Fl.EventType.MESSAGE,G=>{var K;if(!z){const nt=G.data[0];Gt(!!nt,16349);const et=nt,yt=(et==null?void 0:et.error)||((K=et[0])===null||K===void 0?void 0:K.error);if(yt){lt(Fe,`RPC '${e}' stream ${u} received error:`,yt);const ht=yt.status;let wt=function(S){const D=pe[S];if(D!==void 0)return B_(D)}(ht),O=yt.message;wt===void 0&&(wt=W.INTERNAL,O="Unknown error status: "+ht+" with message "+yt.message),z=!0,B.r_(new mt(wt,O)),w.close()}else lt(Fe,`RPC '${e}' stream ${u} received:`,nt),B.i_(nt)}}),$(g,i_.STAT_EVENT,G=>{G.stat===ed.PROXY?lt(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):G.stat===ed.NOPROXY&&lt(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{B.n_()},0),B}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(a){return new S2(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,u=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=u,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,u,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class e0{constructor(e,i,s,u,h,d,g,p){this.bi=e,this.R_=s,this.V_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new t0(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.m_===i&&this.B_(s,u)},s=>{e(()=>{const u=new mt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(u)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(u=>{s(()=>this.L_(u))}),this.stream.onMessage(u=>{s(()=>++this.p_==1?this.q_(u):this.onNext(u))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return lt(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(lt(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eb extends e0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=w2(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=hd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=sd(p)?{documents:V2(h,p)}:{query:N2(h,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=H_(h,d.resumeToken);const y=ud(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const y=ud(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=I2(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=hd(this.serializer),i.removeTarget=e,this.F_(i)}}class Tb extends e0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=D2(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=hd(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>C2(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class Sb extends Ab{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.J_=!1}Y_(){if(this.J_)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,od(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(W.UNKNOWN,h.toString())})}Wo(e,i,s,u,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,od(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class bb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ki(i),this.ea=!1):lt("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class Rb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{ba(this)&&(lt(_a,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.aa.add(4),await du(y),y.la.set("Unknown"),y.aa.delete(4),await Dc(y)}(this))})}),this.la=new bb(s,u)}}async function Dc(a){if(ba(a))for(const e of a.ua)await e(!0)}async function du(a){for(const e of a.ua)await e(!1)}function n0(a,e){const i=At(a);i._a.has(e.targetId)||(i._a.set(e.targetId,e),qd(i)?kd(i):Ms(i).b_()&&Bd(i,e))}function jd(a,e){const i=At(a),s=Ms(i);i._a.delete(e),s.b_()&&i0(i,e),i._a.size===0&&(s.b_()?s.v_():ba(i)&&i.la.set("Unknown"))}function Bd(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(a).U_(e)}function i0(a,e){a.ha.Ke(e),Ms(a).K_(e)}function kd(a){a.ha=new _2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Ms(a).start(),a.la.ta()}function qd(a){return ba(a)&&!Ms(a).w_()&&a._a.size>0}function ba(a){return At(a).aa.size===0}function r0(a){a.ha=void 0}async function wb(a){a.la.set("Online")}async function Cb(a){a._a.forEach((e,i)=>{Bd(a,e)})}async function Db(a,e){r0(a),qd(a)?(a.la.ia(e),kd(a)):a.la.set("Unknown")}async function Vb(a,e,i){if(a.la.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u._a.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u._a.delete(g),u.ha.removeTarget(g))}(a,e)}catch(s){lt(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(a,s)}else if(e instanceof $o?a.ha.Xe(e):e instanceof k_?a.ha.ot(e):a.ha.nt(e),!i.isEqual(Et.min()))try{const s=await W_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const A=h._a.get(y);A&&h._a.set(y,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const A=h._a.get(p);if(!A)return;h._a.set(p,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),i0(h,p);const w=new wr(A.target,p,y,A.sequenceNumber);Bd(h,w)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(_a,"Failed to raise snapshot:",s),await fc(a,s)}}async function fc(a,e,i){if(!Os(e))throw e;a.aa.add(1),await du(a),a.la.set("Offline"),i||(i=()=>W_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(_a,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await Dc(a)})}function a0(a,e){return e().catch(i=>fc(a,i,e))}async function Vc(a){const e=At(a),i=Ur(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:wd;for(;Nb(e);)try{const u=await hb(e.localStore,s);if(u===null){e.oa.length===0&&i.v_();break}s=u.batchId,xb(e,u)}catch(u){await fc(e,u)}s0(e)&&l0(e)}function Nb(a){return ba(a)&&a.oa.length<10}function xb(a,e){a.oa.push(e);const i=Ur(a);i.b_()&&i.W_&&i.G_(e.mutations)}function s0(a){return ba(a)&&!Ur(a).w_()&&a.oa.length>0}function l0(a){Ur(a).start()}async function Ib(a){Ur(a).H_()}async function Ob(a){const e=Ur(a);for(const i of a.oa)e.G_(i.mutations)}async function Mb(a,e,i){const s=a.oa.shift(),u=Id.from(s,e,i);await a0(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Vc(a)}async function Lb(a,e){e&&Ur(a).W_&&await async function(s,u){if(function(d){return y2(d)&&d!==W.ABORTED}(u.code)){const h=s.oa.shift();Ur(s).D_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await Vc(s)}}(a,e),s0(a)&&l0(a)}async function cv(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(_a,"RemoteStore received new credentials");const s=ba(i);i.aa.add(3),await du(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await Dc(i)}async function Ub(a,e){const i=At(a);e?(i.aa.delete(2),await Dc(i)):e||(i.aa.add(2),await du(i),i.la.set("Unknown"))}function Ms(a){return a.Pa||(a.Pa=function(i,s,u){const h=At(i);return h.Y_(),new Eb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:wb.bind(null,a),Jo:Cb.bind(null,a),Zo:Db.bind(null,a),Q_:Vb.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),qd(a)?kd(a):a.la.set("Unknown")):(await a.Pa.stop(),r0(a))})),a.Pa}function Ur(a){return a.Ta||(a.Ta=function(i,s,u){const h=At(i);return h.Y_(),new Tb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ib.bind(null,a),Zo:Lb.bind(null,a),z_:Ob.bind(null,a),j_:Mb.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await Vc(a)):(await a.Ta.stop(),a.oa.length>0&&(lt(_a,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Hd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Os(a))return new mt(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Ia=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):vt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,u,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ws(e,i,Es.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class zb{constructor(){this.queries=fv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const u=At(i),h=u.queries;u.queries=fv(),h.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function fv(){return new Aa(a=>C_(a),Ac)}async function jb(a,e){const i=At(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.Va()&&e.ma()&&(s=2):(h=new Pb,s=e.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(u,!0);break;case 1:h.Aa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Gd(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&Fd(i)}async function Bb(a,e){const i=At(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?u=e.ma()?0:1:!h.Va()&&e.ma()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function kb(a,e){const i=At(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(u)&&(s=!0);d.Aa=u}}s&&Fd(i)}function qb(a,e,i){const s=At(a),u=s.queries.get(e);if(u)for(const h of u.Ra)h.onError(i);s.queries.delete(e)}function Fd(a){a.fa.forEach(e=>{e.next()})}var md,dv;(dv=md||(md={})).ya="default",dv.Cache="cache";class Hb{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.key=e}}class o0{constructor(e){this.key=e}}class Gb{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xt(),this.mutatedKeys=xt(),this.Ua=D_(e),this.Ka=new Es(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new hv,u=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const p=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,y=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,w)=>{const V=u.get(A),z=Sc(this.query,w)?w:null,B=!!V&&this.mutatedKeys.has(V.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let G=!1;V&&z?V.data.isEqual(z.data)?B!==$&&(s.track({type:3,doc:z}),G=!0):this.ja(V,z)||(s.track({type:2,doc:z}),G=!0,(p&&this.Ua(z,p)>0||y&&this.Ua(z,y)<0)&&(g=!0)):!V&&z?(s.track({type:0,doc:z}),G=!0):V&&!z&&(s.track({type:1,doc:V}),G=!0,(p||y)&&(g=!0)),G&&(z?(d=d.add(z),h=$?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((A,w)=>function(z,B){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:G})}};return $(z)-$(B)}(A.type,w.type)||this.Ua(A.doc,w.doc)),this.Ha(s),u=u!=null&&u;const g=i&&!u?this.Ja():[],p=this.$a.size===0&&this.current&&!u?1:0,y=p!==this.Qa;return this.Qa=p,d.length!==0||y?{snapshot:new ws(this.query,e.Ka,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new hv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=xt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new o0(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new u0(s))}),i}Xa(e){this.qa=e.Ns,this.$a=xt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return ws.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Qd="SyncEngine";class Fb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Qb{constructor(e){this.key=e,this.tu=!1}}class Yb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Aa(g=>C_(g),Ac),this.iu=new Map,this.su=new Set,this.ou=new ne(gt.comparator),this._u=new Map,this.au=new Ld,this.uu={},this.cu=new Map,this.lu=Rs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Kb(a,e,i=!0){const s=g0(a);let u;const h=s.ru.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.eu()):u=await c0(s,e,i,!0),u}async function Xb(a,e){const i=g0(a);await c0(i,e,!0,!1)}async function c0(a,e,i,s){const u=await fb(a.localStore,ei(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await $b(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&n0(a.remoteStore,u),g}async function $b(a,e,i,s,u){a.Pu=(w,V,z)=>async function($,G,K,nt){let et=G.view.Ga(K);et.ys&&(et=await av($.localStore,G.query,!1).then(({documents:O})=>G.view.Ga(O,et)));const yt=nt&&nt.targetChanges.get(G.targetId),ht=nt&&nt.targetMismatches.get(G.targetId)!=null,wt=G.view.applyChanges(et,$.isPrimaryClient,yt,ht);return gv($,G.targetId,wt.Ya),wt.snapshot}(a,w,V,z);const h=await av(a.localStore,e,!0),d=new Gb(e,h.Ns),g=d.Ga(h.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),y=d.applyChanges(g,a.isPrimaryClient,p);gv(a,i,y.Ya);const A=new Fb(e,i,d);return a.ru.set(e,A),a.iu.has(i)?a.iu.get(i).push(e):a.iu.set(i,[e]),y.snapshot}async function Zb(a,e,i){const s=At(a),u=s.ru.get(e),h=s.iu.get(u.targetId);if(h.length>1)return s.iu.set(u.targetId,h.filter(d=>!Ac(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await fd(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&jd(s.remoteStore,u.targetId),gd(s,u.targetId)}).catch(Is)):(gd(s,u.targetId),await fd(s.localStore,u.targetId,!0))}async function Jb(a,e){const i=At(a),s=i.ru.get(e),u=i.iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jd(i.remoteStore,s.targetId))}async function Wb(a,e,i){const s=sR(a);try{const u=await function(d,g){const p=At(d),y=Re.now(),A=g.reduce((z,B)=>z.add(B.key),xt());let w,V;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let B=qi(),$=xt();return p.Cs.getEntries(z,A).next(G=>{B=G,B.forEach((K,nt)=>{nt.isValidDocument()||($=$.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,B)).next(G=>{w=G;const K=[];for(const nt of g){const et=f2(nt,w.get(nt.key).overlayedDocument);et!=null&&K.push(new Sa(nt.key,et,__(et.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,K,g)}).next(G=>{V=G;const K=G.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(z,G.batchId,K)})}).then(()=>({batchId:V.batchId,changes:N_(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,p){let y=d.uu[d.currentUser.toKey()];y||(y=new ne(Dt)),y=y.insert(g,p),d.uu[d.currentUser.toKey()]=y}(s,u.batchId,i),await mu(s,u.changes),await Vc(s.remoteStore)}catch(u){const h=Gd(u,"Failed to persist write");i.reject(h)}}async function h0(a,e){const i=At(a);try{const s=await ob(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i._u.get(h);d&&(Gt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.tu=!0:u.modifiedDocuments.size>0?Gt(d.tu,14607):u.removedDocuments.size>0&&(Gt(d.tu,42227),d.tu=!1))}),await mu(i,s,e)}catch(s){await Is(s)}}function mv(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ru.forEach((h,d)=>{const g=d.view.ga(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let y=!1;p.queries.forEach((A,w)=>{for(const V of w.Ra)V.ga(g)&&(y=!0)}),y&&Fd(p)}(s.eventManager,e),u.length&&s.nu.Q_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tR(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s._u.get(e),h=u&&u.key;if(h){let d=new ne(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,Et.min()));const g=xt().add(h),p=new wc(Et.min(),new Map,new ne(Dt),d,g);await h0(s,p),s.ou=s.ou.remove(h),s._u.delete(e),Yd(s)}else await fd(s.localStore,e,!1).then(()=>gd(s,e,i)).catch(Is)}async function eR(a,e){const i=At(a),s=e.batch.batchId;try{const u=await ub(i.localStore,e);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mu(i,u)}catch(u){await Is(u)}}async function nR(a,e,i){const s=At(a);try{const u=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return p.mutationQueue.lookupMutationBatch(y,g).next(w=>(Gt(w!==null,37113),A=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>p.localDocuments.getDocuments(y,A))})}(s.localStore,e);d0(s,e,i),f0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mu(s,u)}catch(u){await Is(u)}}function f0(a,e){(a.cu.get(e)||[]).forEach(i=>{i.resolve()}),a.cu.delete(e)}function d0(a,e,i){const s=At(a);let u=s.uu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.uu[s.currentUser.toKey()]=u}}function gd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.iu.get(e))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(s=>{a.au.containsKey(s)||m0(a,s)})}function m0(a,e){a.su.delete(e.path.canonicalString());const i=a.ou.get(e);i!==null&&(jd(a.remoteStore,i),a.ou=a.ou.remove(e),a._u.delete(i),Yd(a))}function gv(a,e,i){for(const s of i)s instanceof u0?(a.au.addReference(s.key,e),iR(a,s)):s instanceof o0?(lt(Qd,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,e),a.au.containsKey(s.key)||m0(a,s.key)):vt(19791,{Iu:s})}function iR(a,e){const i=e.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(lt(Qd,"New document in limbo: "+i),a.su.add(s),Yd(a))}function Yd(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const i=new gt(Zt.fromString(e)),s=a.lu.next();a._u.set(s,new Qb(i)),a.ou=a.ou.insert(i,s),n0(a.remoteStore,new wr(ei(w_(i.path)),s,"TargetPurposeLimboResolution",vc.le))}}async function mu(a,e,i){const s=At(a),u=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,e,i).then(y=>{var A;if((y||i)&&s.isPrimaryClient){const w=y?!y.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){u.push(y);const w=Pd.Ps(p.targetId,y);h.push(w)}}))}),await Promise.all(d),s.nu.Q_(u),await async function(p,y){const A=At(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,V=>Z.forEach(V.ls,z=>A.persistence.referenceDelegate.addReference(w,V.targetId,z)).next(()=>Z.forEach(V.hs,z=>A.persistence.referenceDelegate.removeReference(w,V.targetId,z)))))}catch(w){if(!Os(w))throw w;lt(zd,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const z=A.Ss.get(V),B=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(B);A.Ss=A.Ss.insert(V,$)}}}(s.localStore,h))}async function rR(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(Qd,"User change. New user:",e.toKey());const s=await J_(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(g=>{g.forEach(p=>{p.reject(new mt(W.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(i,s.Ms)}}function aR(a,e){const i=At(a),s=i._u.get(e);if(s&&s.tu)return xt().add(s.key);{let u=xt();const h=i.iu.get(e);if(!h)return u;for(const d of h){const g=i.ru.get(d);u=u.unionWith(g.view.Wa)}return u}}function g0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tR.bind(null,e),e.nu.Q_=kb.bind(null,e.eventManager),e.nu.Tu=qb.bind(null,e.eventManager),e}function sR(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nR.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return lb(this.persistence,new rb,e.initialUser,this.serializer)}Ru(e){return new Z_(Ud.Ei,this.serializer)}Au(e){return new mb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class lR extends dc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){Gt(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new H2(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Z_(s=>hc.Ei(s,i),this.serializer)}}class pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rR.bind(null,this.syncEngine),await Ub(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zb}()}createDatastore(e){const i=Cc(e.databaseInfo.databaseId),s=function(h){return new _b(h)}(e.databaseInfo);return function(h,d,g,p){return new Sb(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new Rb(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>mv(this.syncEngine,i,0),function(){return uv.C()?new uv:new gb}())}createSyncEngine(e,i){return function(u,h,d,g,p,y,A){const w=new Yb(u,h,d,g,p,y);return A&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=At(u);lt(_a,"RemoteStore shutting down."),h.aa.add(5),await du(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class oR{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Gd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qf(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Pr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await J_(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function pv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await cR(a);lt(Pr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>cv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>cv(e.remoteStore,u)),a._onlineComponents=e}async function cR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Pr,"Using user provided OfflineComponentProvider");try{await Qf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Qf(a,new dc)}}else lt(Pr,"Using default OfflineComponentProvider"),await Qf(a,new lR(void 0));return a._offlineComponents}async function p0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Pr,"Using user provided OnlineComponentProvider"),await pv(a,a._uninitializedComponentsProvider._online)):(lt(Pr,"Using default OnlineComponentProvider"),await pv(a,new pd))),a._onlineComponents}function hR(a){return p0(a).then(e=>e.syncEngine)}async function fR(a){const e=await p0(a),i=e.eventManager;return i.onListen=Kb.bind(null,e.syncEngine),i.onUnlisten=Zb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Xb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Jb.bind(null,e.syncEngine),i}function dR(a,e,i={}){const s=new Nr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const A=new uR({next:V=>{A.yu(),d.enqueueAndForget(()=>Bb(h,w)),V.fromCache&&p.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),w=new Hb(g,A,{includeMetadataChanges:!0,Fa:!0});return jb(h,w)}(await fR(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a,e,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function mR(a,e,i,s){if(e===!0&&s===!0)throw new mt(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function vv(a){if(!gt.isDocumentKey(a))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function _v(a){if(gt.isDocumentKey(a))throw new mt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Kd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function mc(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Kd(a);throw new mt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",Ev=!0;class Tv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=Ev}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Ev;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k2)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yS;switch(s.type){case"firstParty":return new TS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=yv.get(i);s&&(lt("ComponentProvider","Removing Datastore"),yv.delete(i),s.terminate())}(this),Promise.resolve()}}function gR(a,e,i,s={}){var u;const h=(a=mc(a,Nc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==_0&&h.host!==g&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!tc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Qe.MOCK_USER;else{y=$T(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(w)}a._authCredentials=new vS(new l_(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xc(this.firestore,e,this._query)}}class Pn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class xr extends xc{constructor(e,i,s){super(e,i,w_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new gt(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function E0(a,e,...i){if(a=Wl(a),v0("collection","path",e),a instanceof Nc){const s=Zt.fromString(e,...i);return _v(s),new xr(a,null,s)}{if(!(a instanceof Pn||a instanceof xr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return _v(s),new xr(a.firestore,null,s)}}function pR(a,e,...i){if(a=Wl(a),arguments.length===1&&(e=o_.newId()),v0("doc","path",e),a instanceof Nc){const s=Zt.fromString(e,...i);return vv(s),new Pn(a,null,new gt(s))}{if(!(a instanceof Pn||a instanceof xr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return vv(s),new Pn(a.firestore,a instanceof xr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new t0(this,"async_queue_retry"),this.ju=()=>{const s=Ff();s&&lt(Av,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Nr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Os(e))throw e;lt(Av,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ki("INTERNAL UNHANDLED ERROR: ",bv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const u=Hd.createAndSchedule(this,e,i,s,h=>this.Xu(h));return this.Uu.push(u),u}Ju(){this.Ku&&vt(47125,{ec:bv(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function bv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Xd extends Nc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new Sv,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function yR(a,e){const i=typeof a=="object"?a:sS(),s=typeof a=="string"?a:rc,u=eS(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=KT("firestore");h&&gR(u,...h)}return u}function T0(a){if(a._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||vR(a),a._firestoreClient}function vR(a){var e,i,s;const u=a._freezeSettings(),h=function(g,p,y,A){return new US(g,p,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,y0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new oR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(ke.fromBase64String(e))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cs(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^__.*__$/;class ER{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function S0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{oc:a})}}class Wd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u.lc(e),u}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u._c(),u}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return gc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(S0(this.oc)&&_R.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class TR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Cc(e)}dc(e,i,s,u=!1){return new Wd({oc:e,methodName:i,Ec:s,path:Be.emptyPath(),cc:!1,Ic:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AR(a){const e=a._freezeSettings(),i=Cc(a._databaseId);return new TR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function SR(a,e,i,s,u,h={}){const d=a.dc(h.merge||h.mergeFields?2:0,e,i,u);C0("Data must be an object, but it was:",d,s);const g=R0(s,d);let p,y;if(h.merge)p=new Un(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const V=bR(e,w,i);if(!d.contains(V))throw new mt(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);wR(A,V)||A.push(V)}p=new Un(A),y=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=d.fieldTransforms;return new ER(new Vn(g),p,y)}function b0(a,e){if(w0(a=Wl(a)))return C0("Unsupported field value:",e,a),R0(a,e);if(a instanceof A0)return function(s,u){if(!S0(u.oc))throw u.Tc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let p=b0(g,u.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=Wl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return s2(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Re.fromDate(s);return{timestampValue:cc(u.serializer,h)}}if(s instanceof Re){const h=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(u.serializer,h)}}if(s instanceof Zd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cs)return{bytesValue:H_(u.serializer,s._byteString)};if(s instanceof Pn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Jd)return function(d,g){return{mapValue:{fields:{[y_]:{stringValue:v_},[ac]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Tc("VectorValues must only contain numeric values.");return xd(g.serializer,y)})}}}}}}(s,u);throw u.Tc(`Unsupported field value: ${Kd(s)}`)}(a,e)}function R0(a,e){const i={};return h_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(a,(s,u)=>{const h=b0(u,e.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function w0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof Zd||a instanceof Cs||a instanceof Pn||a instanceof A0||a instanceof Jd)}function C0(a,e,i){if(!w0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Kd(i);throw s==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+s)}}function bR(a,e,i){if((e=Wl(e))instanceof $d)return e._internalPath;if(typeof e=="string")return D0(a,e);throw gc("Field path arguments must be of type string or ",a,!1,void 0,i)}const RR=new RegExp("[~\\*/\\[\\]]");function D0(a,e,i){if(e.search(RR)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new $d(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function gc(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${u}`),p+=")"),new mt(W.INVALID_ARGUMENT,g+a+p)}function wR(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(N0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CR extends V0{data(){return super.data()}}function N0(a,e){return typeof e=="string"?D0(a,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VR{convertValue(e,i="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ta(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[ac].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Jd(h)}convertGeoPoint(e){return new Zd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ec(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const i=Or(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Gt(X_(s),9688,{name:e});const u=new ru(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return u.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xR extends V0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(N0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Zo extends xR{data(e={}){return super.data(e)}}class IR{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ho(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Zo(this._firestore,this._userDataWriter,s.key,s,new Ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const p=new Zo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ho(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Zo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ho(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:OR(g.type),doc:p,oldIndex:y,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function OR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}class MR extends VR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,i)}}function LR(a){a=mc(a,xc);const e=mc(a.firestore,Xd),i=T0(e),s=new MR(e);return DR(a._query),dR(i,a._query).then(u=>new IR(e,s,a,u))}function UR(a,e){const i=mc(a.firestore,Xd),s=pR(a),u=NR(a.converter,e);return PR(i,[SR(AR(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function PR(a,e){return function(s,u){const h=new Nr;return s.asyncQueue.enqueueAndForget(async()=>Wb(await hR(s),u,h)),h.promise}(T0(a),e)}(function(e,i=!0){(function(u){xs=u})(aS),nc(new tu("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Xd(new _S(s.getProvider("auth-internal")),new AS(d,s.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(y.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),_s(Vy,Ny,e),_s(Vy,Ny,"esm2017")})();var zR="firebase",jR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(zR,jR,"app");const BR={apiKey:"AIzaSyBg7Cji1PBlagzeks7pWr2K9UH58kU8BNg",authDomain:"circolo-nero-b5ebf.firebaseapp.com",projectId:"circolo-nero-b5ebf",storageBucket:"circolo-nero-b5ebf.firebasestorage.app",messagingSenderId:"229694832056",appId:"1:229694832056:web:79bf98773a43956581234d"},kR=Zv(BR),x0=yR(kR),I0=async()=>{let a=null;const e=localStorage.getItem("firedataBase");if(a)return a;if(e)return a=JSON.parse(e),a;try{const s=(await LR(E0(x0,"productos"))).docs.map(u=>({id:u.id,...u.data()}));return localStorage.setItem("firedataBase",JSON.stringify(s)),console.log("datos consultados a firebase",JSON.stringify(s)),s}catch(i){return console.error(i),null}},O0=Q.createContext(),Ls=()=>Q.useContext(O0),qR=a=>{const[e,i]=Q.useState(null),[s,u]=Q.useState([]);Q.useEffect(()=>{I0().then(d=>{i(d)})},[]);function h(d,g){const p={...d,amount:g};if(s.some(y=>y.id===d.id)){const y=s.map(A=>A.id===d.id?{...A,amount:A.amount+g}:A);u(y),alert("Producto agregado al carrito")}else u([...s,p]),alert("Producto agregado al carrito")}return U.jsx(O0.Provider,{value:{cart:s,addToCart:h,data:e},children:a.children})};function HR(){const{cart:a}=Ls();return U.jsx("div",{className:"nav-container",children:U.jsxs("ul",{className:"nav",children:[U.jsx("li",{children:U.jsx("a",{className:"nav-element",href:"",children:"Catlogo"})}),U.jsx("li",{children:U.jsx(ji,{to:"/",children:U.jsx("p",{className:"nav-element",children:"Inicio"})})}),U.jsx("li",{children:U.jsxs(ji,{to:"/myCart",className:"nav-element",href:"",children:["Carrito: ",a.length]})})]})})}function GR(){return U.jsxs("header",{className:"header",children:[U.jsxs("div",{className:"header-container",children:[U.jsxs("div",{className:"flex-row center",children:[U.jsxs("label",{className:"burger",htmlFor:"burger",children:[U.jsx("input",{type:"checkbox",id:"burger"}),U.jsx("span",{}),U.jsx("span",{}),U.jsx("span",{})]}),U.jsxs("div",{className:"account-container",children:[U.jsx("a",{className:"icon",href:"./html/account.html",children:U.jsx("img",{alt:"cuenta"})}),U.jsxs("div",{className:"logo-container",children:[U.jsx("p",{children:"Usuario"}),U.jsx("p",{children:"Rango"})]})]})]}),U.jsxs("div",{className:"logo-container",children:[U.jsx("img",{className:"icon",src:"/src/assets/logo0.png",alt:"logo"}),U.jsx("p",{className:"heading",children:"CIRCOLO NERO"})]}),U.jsx("div",{children:U.jsx("input",{type:"text",placeholder:"Buscar",name:"text",className:"input"})})]}),U.jsx(HR,{})]})}function FR({product:a}){const{id:e,name:i,price:s,stock:u,img:h}=a,{addToCart:d}=Ls(),g=parseInt(e);return U.jsx("div",{className:"card-container",children:U.jsx("div",{className:"card",children:U.jsxs("div",{className:"card2",children:[U.jsxs(ji,{to:"detail/"+g,children:[U.jsx("img",{className:"product-icon",src:h,alt:"product"}),U.jsxs("p",{children:[" ",i," "]}),U.jsxs("p",{children:["Precio: $ ",s]})]}),U.jsx("div",{"data-tooltip":u+" unidades",className:"button",children:U.jsxs("div",{className:"button-wrapper",onClick:()=>{d(a,1)},children:[U.jsx("div",{className:"text",children:"Agregar al carrito"}),U.jsx("span",{className:"icon"})]})})]})})})}function tm(){return U.jsx("div",{children:U.jsx("div",{className:"loader",children:U.jsx("div",{children:U.jsxs("ul",{children:[U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),U.jsx("li",{children:U.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:U.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})})]})})})})}function QR({category:a}){return U.jsx("div",{className:"submenu-item",children:U.jsx(ji,{to:"/category/"+a,children:U.jsxs("p",{href:"#",className:"submenu-link",children:[" ",a," "]})})})}function YR({allCategories:a}){return U.jsx("div",{className:"menu",children:U.jsxs("div",{className:"item",children:[U.jsx("a",{className:"link",children:U.jsx("span",{children:" Filtrar "})}),U.jsx("div",{className:"submenu",children:a.map(e=>U.jsx(QR,{category:e},e))})]})})}function Rv(){const{data:a}=Ls(),e=!a,[i,s]=Q.useState([]),{category:u}=Uv();if(Q.useEffect(()=>{if(a){const d=[...new Set(a.map(g=>g.category))];s(d)}},[a]),e)return U.jsx("div",{className:"loader-container",children:U.jsx(tm,{})});const h=u?a.filter(d=>d.category===u):a;return U.jsxs("div",{className:"main-products",children:[U.jsx(YR,{allCategories:i}),U.jsx("div",{className:"product-container",children:h.map(d=>U.jsx(FR,{product:d},d.id))})]})}function KR({stock:a,counter:e,setCounter:i}){function s(u){u==="+"?e<a&&i(e+1):e>1&&i(e-1)}return U.jsxs("div",{className:"counter-container",children:[U.jsx("button",{className:"button",onClick:()=>{s("-")},children:"-"}),U.jsx("p",{children:e}),U.jsx("button",{className:"button",onClick:()=>{s("+")},children:"+"})]})}function M0(){return U.jsx("div",{className:"error-container",children:U.jsxs("div",{className:"brutalist-card",children:[U.jsx("div",{className:"brutalist-card__header",children:U.jsx("div",{className:"brutalist-card__alert",children:"Disculpe las molestias"})}),U.jsxs("div",{className:"brutalist-card__message",children:[U.jsx("p",{children:"No pregunte por lo que no quiere saber, no nos gustan los curiosos. Considere esto como la primer y ltima advertencia. Entienda que esta situacin es incmoda tanto para usted como para nosotros. Que tenga un buen da."}),U.jsx("p",{children:"Atentamente: Il Circolo Nero"})]}),U.jsx("div",{className:"brutalist-card__actions",children:U.jsx(ji,{to:"/",children:U.jsx("button",{className:"brutalist-card__button brutalist-card__button--read",children:"Entiendo"})})})]})})}function Yf(){const{id:a}=Uv(),[e,i]=Q.useState(!0),[s,u]=Q.useState(null),[h,d]=Q.useState(1),{addToCart:g}=Ls();return Q.useEffect(()=>{I0().then(p=>{const y=p.find(A=>A.id===parseInt(a));u(y),setTimeout(()=>{i(!1)})},500)},[]),e?U.jsx("div",{className:"loader-container",children:U.jsx(tm,{})}):U.jsx("div",{className:"card-detail-container",children:s?U.jsx("div",{className:"card-detail",children:U.jsxs("div",{className:"card-detail2",children:[U.jsxs("div",{className:"props-container",children:[U.jsx("img",{className:"product-icon container",src:s.img,alt:"product"}),U.jsxs("p",{children:[" ",s.name," "]}),U.jsxs("p",{children:[" ",s.description," "]}),U.jsxs("p",{children:[" ",s.type," "]}),U.jsxs("p",{children:["Precio: $ ",s.price," "]}),U.jsxs("p",{children:["Quedan ",s.stock," unidades"]})]}),U.jsxs("div",{className:"buttons-container",children:[U.jsx(KR,{stock:s.stock,counter:h,setCounter:d}),U.jsxs("div",{className:"button-function-container",children:[U.jsx("button",{onClick:()=>{g(s,h)},className:"button",role:"button",children:"Agregar al carrito"}),U.jsx(ji,{to:"/",children:U.jsx("button",{className:"button",role:"button",children:"Volver al inicio"})})]})]})]})}):U.jsx(M0,{})})}function XR(){const{cart:a}=Ls(),[e,i]=Q.useState(!0),[s,u]=Q.useState(!0),h=()=>a.reduce((d,g)=>d+g.amount*g.price,0);return Q.useEffect(()=>{const d=h();u(d===0)},[a]),Q.useEffect(()=>{const d=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(d)},[]),e?U.jsx("div",{className:"loader-container",children:U.jsx(tm,{})}):U.jsxs("div",{children:[U.jsx("p",{className:"heading",children:"Mi Carrito"}),s?U.jsx("p",{className:"heading",children:"Tu carrito est vaco, agrega productos para poder comprarlos"}):U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"cart-product-container flex-row",children:a.map(d=>U.jsx("div",{children:U.jsxs("div",{className:"product-card",product:d,children:[U.jsxs("div",{className:"img-name",children:[U.jsxs("div",{className:"img",children:[d.img,"una imagen re piola"]}),U.jsxs("div",{className:"info",children:[U.jsx("p",{children:d.name}),U.jsx("p",{children:d.description})]})]}),U.jsxs("div",{children:[U.jsxs("p",{children:["Valor por unidad: $ ",d.price]}),U.jsxs("p",{children:["Cantidad: ",d.amount," unidad/es"]}),U.jsxs("p",{children:["Total: $ ",d.price*d.amount]}),U.jsx("button",{children:"contador"})]})]})},d.id))}),U.jsx("div",{className:"final-step",children:U.jsxs("div",{children:[U.jsxs("p",{children:["Total: $ ",h()]}),U.jsx(ji,{to:"/newOrder",children:U.jsx("button",{children:"Finalizar compra"})})]})})]})]})}function $R(){const{cart:a}=Ls(),e=Lv();Q.useEffect(()=>{a==0&&(alert("Debe tener uno o ms productos en el carrito"),e("/"))},[]);function i(){let s=document.getElementById("customer").value,u=document.getElementById("customer-email").value,h=document.getElementById("customer-number").value;s==0||u==0||h==0?alert("Por favor ingrese argumentos vlidos"):(console.log("jsbdhjbsdkjfhbadskf"),(async()=>{try{console.log("creando orden");const d=await UR(E0(x0,"orders"),{name:s,email:u,number:h,date:new Date,products:a});alert("Orden creada, cdigo:",d.id)}catch(d){console.error("Error al crear order: ",d)}})())}return U.jsxs("div",{children:[U.jsx("p",{className:"heading",children:" Muchas gracias por la compra"}),U.jsxs("div",{children:[U.jsx("p",{children:"Por favor ingrese sus datos para finalizar"}),U.jsxs("form",{action:"",children:[U.jsx("input",{type:"text",name:"customer",id:"customer"}),U.jsx("label",{htmlFor:"customer",children:"Nombre: "}),U.jsx("input",{type:"email",name:"customer-email",id:"customer-email"}),U.jsx("label",{htmlFor:"customer-email",children:"Email: "}),U.jsx("input",{type:"number",name:"customer-number",id:"customer-number"}),U.jsx("label",{htmlFor:"customer-number",children:"Telfono: "}),U.jsx("button",{type:"submit",onClick:s=>{s.preventDefault(),i()},children:"Finalizar pedido"})]})]})]})}function ZR(){return U.jsx(qR,{children:U.jsxs(DT,{children:[U.jsx(GR,{}),U.jsxs(rT,{children:[U.jsx(Li,{path:"/",element:U.jsx(Rv,{})}),U.jsx(Li,{path:"/category/:category",element:U.jsx(Rv,{})}),U.jsx(Li,{path:"/category/:category/detail/:id",element:U.jsx(Yf,{})}),U.jsx(Li,{path:"detail/:id",element:U.jsx(Yf,{})}),U.jsx(Li,{path:"/myCart",element:U.jsx(XR,{})}),U.jsx(Li,{path:"/myCart/detail/:id",element:U.jsx(Yf,{})}),U.jsx(Li,{path:"*",element:U.jsx(M0,{})}),U.jsx(Li,{path:"/newOrder",element:U.jsx($R,{})})]})]})})}mE.createRoot(document.getElementById("root")).render(U.jsx(ZR,{}));
