(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ld={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function QS(){if(Nv)return Al;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var Dv;function YS(){return Dv||(Dv=1,Ld.exports=QS()),Ld.exports}var A=YS(),kd={exports:{}},bl={},Ud={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function $S(){return Ov||(Ov=1,function(r){function e(re,Ee){var me=re.length;re.push(Ee);e:for(;0<me;){var He=me-1>>>1,O=re[He];if(0<o(O,Ee))re[He]=Ee,re[me]=O,me=He;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],me=re.pop();if(me!==Ee){re[0]=me;e:for(var He=0,O=re.length,ne=O>>>1;He<ne;){var fe=2*(He+1)-1,se=re[fe],ae=fe+1,Ce=re[ae];if(0>o(se,me))ae<O&&0>o(Ce,se)?(re[He]=Ce,re[ae]=me,He=ae):(re[He]=se,re[fe]=me,He=fe);else if(ae<O&&0>o(Ce,me))re[He]=Ce,re[ae]=me,He=ae;else break e}}return Ee}function o(re,Ee){var me=re.sortIndex-Ee.sortIndex;return me!==0?me:re.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,I=3,L=!1,U=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var Ee=n(y);Ee!==null;){if(Ee.callback===null)s(y);else if(Ee.startTime<=re)s(y),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(y)}}function ce(re){if(Y=!1,J(re),!U)if(n(p)!==null)U=!0,vt();else{var Ee=n(y);Ee!==null&&ft(ce,Ee.startTime-re)}}var le=!1,be=-1,M=5,R=-1;function b(){return!(r.unstable_now()-R<M)}function N(){if(le){var re=r.unstable_now();R=re;var Ee=!0;try{e:{U=!1,Y&&(Y=!1,K(be),be=-1),L=!0;var me=I;try{t:{for(J(re),w=n(p);w!==null&&!(w.expirationTime>re&&b());){var He=w.callback;if(typeof He=="function"){w.callback=null,I=w.priorityLevel;var O=He(w.expirationTime<=re);if(re=r.unstable_now(),typeof O=="function"){w.callback=O,J(re),Ee=!0;break t}w===n(p)&&s(p),J(re)}else s(p);w=n(p)}if(w!==null)Ee=!0;else{var ne=n(y);ne!==null&&ft(ce,ne.startTime-re),Ee=!1}}break e}finally{w=null,I=me,L=!1}Ee=void 0}}finally{Ee?V():le=!1}}}var V;if(typeof Q=="function")V=function(){Q(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=N,V=function(){D.postMessage(null)}}else V=function(){H(N,0)};function vt(){le||(le=!0,V())}function ft(re,Ee){be=H(function(){re(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){U||L||(U=!0,vt())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var Ee=3;break;default:Ee=I}var me=I;I=Ee;try{return re()}finally{I=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=I;I=re;try{return Ee()}finally{I=me}},r.unstable_scheduleCallback=function(re,Ee,me){var He=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,re){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,re={id:E++,callback:Ee,priorityLevel:re,startTime:me,expirationTime:O,sortIndex:-1},me>He?(re.sortIndex=me,e(y,re),n(p)===null&&re===n(y)&&(Y?(K(be),be=-1):Y=!0,ft(ce,me-He))):(re.sortIndex=O,e(p,re),U||L||(U=!0,vt())),re},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(re){var Ee=I;return function(){var me=I;I=Ee;try{return re.apply(this,arguments)}finally{I=me}}}}(jd)),jd}var xv;function XS(){return xv||(xv=1,Ud.exports=$S()),Ud.exports}var zd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function WS(){if(Mv)return Re;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Y={};function H(O,ne,fe){this.props=O,this.context=ne,this.refs=Y,this.updater=fe||L}H.prototype.isReactComponent={},H.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=H.prototype;function Q(O,ne,fe){this.props=O,this.context=ne,this.refs=Y,this.updater=fe||L}var J=Q.prototype=new K;J.constructor=Q,U(J,H.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,le={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function M(O,ne,fe,se,ae,Ce){return fe=Ce.ref,{$$typeof:r,type:O,key:ne,ref:fe!==void 0?fe:null,props:Ce}}function R(O,ne){return M(O.type,ne,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return ne[fe]})}var V=/\/+/g;function z(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):ne.toString(36)}function D(){}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,ne,fe,se,ae){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case E:return we=O._init,ft(we(O._payload),ne,fe,se,ae)}}if(we)return ae=ae(O),we=se===""?"."+z(O,0):se,ce(ae)?(fe="",we!=null&&(fe=we.replace(V,"$&/")+"/"),ft(ae,ne,fe,"",function(rt){return rt})):ae!=null&&(b(ae)&&(ae=R(ae,fe+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+we)),ne.push(ae)),1;we=0;var dt=se===""?".":se+":";if(ce(O))for(var je=0;je<O.length;je++)se=O[je],Ce=dt+z(se,je),we+=ft(se,ne,fe,Ce,ae);else if(je=I(O),typeof je=="function")for(O=je.call(O),je=0;!(se=O.next()).done;)se=se.value,Ce=dt+z(se,je++),we+=ft(se,ne,fe,Ce,ae);else if(Ce==="object"){if(typeof O.then=="function")return ft(vt(O),ne,fe,se,ae);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(O,ne,fe){if(O==null)return O;var se=[],ae=0;return ft(O,se,"","",function(Ce){return ne.call(fe,Ce,ae++)}),se}function Ee(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function He(){}return Re.Children={map:re,forEach:function(O,ne,fe){re(O,function(){ne.apply(this,arguments)},fe)},count:function(O){var ne=0;return re(O,function(){ne++}),ne},toArray:function(O){return re(O,function(ne){return ne})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=H,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ne,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=U({},O.props),ae=O.key,Ce=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(ae=""+ne.key),ne)!be.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=fe;else if(1<we){for(var dt=Array(we),je=0;je<we;je++)dt[je]=arguments[je+2];se.children=dt}return M(O.type,ae,void 0,void 0,Ce,se)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ne,fe){var se,ae={},Ce=null;if(ne!=null)for(se in ne.key!==void 0&&(Ce=""+ne.key),ne)be.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=ne[se]);var we=arguments.length-2;if(we===1)ae.children=fe;else if(1<we){for(var dt=Array(we),je=0;je<we;je++)dt[je]=arguments[je+2];ae.children=dt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ae[se]===void 0&&(ae[se]=we[se]);return M(O,Ce,void 0,void 0,null,ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=b,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Ee}},Re.memo=function(O,ne){return{$$typeof:y,type:O,compare:ne===void 0?null:ne}},Re.startTransition=function(O){var ne=le.T,fe={};le.T=fe;try{var se=O(),ae=le.S;ae!==null&&ae(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(He,me)}catch(Ce){me(Ce)}finally{le.T=ne}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(O){return le.H.use(O)},Re.useActionState=function(O,ne,fe){return le.H.useActionState(O,ne,fe)},Re.useCallback=function(O,ne){return le.H.useCallback(O,ne)},Re.useContext=function(O){return le.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ne){return le.H.useDeferredValue(O,ne)},Re.useEffect=function(O,ne){return le.H.useEffect(O,ne)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(O,ne,fe){return le.H.useImperativeHandle(O,ne,fe)},Re.useInsertionEffect=function(O,ne){return le.H.useInsertionEffect(O,ne)},Re.useLayoutEffect=function(O,ne){return le.H.useLayoutEffect(O,ne)},Re.useMemo=function(O,ne){return le.H.useMemo(O,ne)},Re.useOptimistic=function(O,ne){return le.H.useOptimistic(O,ne)},Re.useReducer=function(O,ne,fe){return le.H.useReducer(O,ne,fe)},Re.useRef=function(O){return le.H.useRef(O)},Re.useState=function(O){return le.H.useState(O)},Re.useSyncExternalStore=function(O,ne,fe){return le.H.useSyncExternalStore(O,ne,fe)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.0.0",Re}var Vv;function Om(){return Vv||(Vv=1,zd.exports=WS()),zd.exports}var Bd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function ZS(){if(Pv)return Kt;Pv=1;var r=Om();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Kt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var Lv;function JS(){if(Lv)return Bd.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=ZS(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eA(){if(kv)return bl;kv=1;var r=XS(),e=Om(),n=JS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,z;function D(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var vt=!1;function ft(t,i){if(!t||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var q=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){q=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){q=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function Ee(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function He(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(me(t)!==t)throw Error(s(188))}function ne(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},we=[],dt=-1;function je(t){return{current:t}}function rt(t){0>dt||(t.current=we[dt],we[dt]=null,dt--)}function Ke(t,i){dt++,we[dt]=t.current,t.current=i}var Wt=je(null),Ti=je(null),vn=je(null),ar=je(null);function or(t,i){switch(Ke(vn,i),Ke(Ti,t),Ke(Wt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?rv(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=rv(t),i=sv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Wt),Ke(Wt,i)}function Si(){rt(Wt),rt(Ti),rt(vn)}function vo(t){t.memoizedState!==null&&Ke(ar,t);var i=Wt.current,a=sv(i,t.type);i!==a&&(Ke(Ti,t),Ke(Wt,a))}function ea(t){Ti.current===t&&(rt(Wt),rt(Ti)),ar.current===t&&(rt(ar),vl._currentValue=Ce)}var ta=Object.prototype.hasOwnProperty,ls=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,kh=r.unstable_shouldYield,_o=r.unstable_requestPaint,sn=r.unstable_now,ou=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,lu=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,Uh=r.log,us=r.unstable_setDisableYieldValue,lr=null,Ft=null;function To(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(lr,t,void 0,(t.current.flags&128)===128)}catch{}}function Yn(t){if(typeof Uh=="function"&&us(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(lr,t)}catch{}}var Zt=Math.clz32?Math.clz32:cu,So=Math.log,uu=Math.LN2;function cu(t){return t>>>=0,t===0?32:31-(So(t)/uu|0)|0}var $n=128,ur=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Un(a):(d&=T,d!==0?l=Un(d):t||(_=T&~_,_!==0&&(l=Un(_))))):(T=a&~h,T!==0?l=Un(T):d!==0?l=Un(d):t||(_=a&~_,_!==0&&(l=Un(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function cr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ia(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var t=$n;return $n<<=1,($n&4194176)===0&&($n=128),t}function hr(){var t=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),t}function ra(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ut(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hu(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Zt(a),ee=1<<X;T[X]=0,C[X]=-1;var q=P[X];if(q!==null)for(P[X]=null,X=0;X<q.length;X++){var $=q[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&fr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function fr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function dr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function fu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function mr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Xn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Xn,Et="__reactProps$"+Xn,bi="__reactContainer$"+Xn,cs="__reactEvents$"+Xn,sa="__reactListeners$"+Xn,Wn="__reactHandles$"+Xn,bo="__reactResources$"+Xn,pr="__reactMarker$"+Xn;function hs(t){delete t[Nt],delete t[Et],delete t[cs],delete t[sa],delete t[Wn]}function jn(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bi]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=lv(t);t!==null;){if(a=t[Nt])return a;t=lv(t)}return i}t=a,a=t.parentNode}return null}function wi(t){if(t=t[Nt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yr(t){var i=t[bo];return i||(i=t[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Je(t){t[pr]=!0}var wo=new Set,aa={};function cn(t,i){an(t,i),an(t+"Capture",i)}function an(t,i){for(aa[t]=i,t=0;t<i.length;t++)wo.add(i[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Co={};function mu(t){return ta.call(Co,t)?!0:ta.call(Ro,t)?!1:jh.test(t)?Co[t]=!0:(Ro[t]=!0,!1)}function vr(t,i,a){if(mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _r(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function En(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zh(t){var i=pu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fs(t){t._valueTracker||(t._valueTracker=zh(t))}function Io(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=pu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ri=/[\n"\\]/g;function st(t){return t.replace(Ri,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Er(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?la(t,_,Jt(i)):a!=null?la(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function ds(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function la(t,i,a){i==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ms(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function gu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&No(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&No(t,d,i[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(t){return Hh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sn=null;function ua(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Ii=null;function Ni(t){var i=wi(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(Er(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));Er(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Io(l)}break e;case"textarea":ms(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var Oo=!1;function yu(t,i,a){if(Oo)return t(i,a);Oo=!0;try{var l=t(i);return l}finally{if(Oo=!1,(Ci!==null||Ii!==null)&&(lc(),Ci&&(i=Ci,t=Ii,Ii=Ci=null,Ni(i),t)))for(i=0;i<t.length;i++)Ni(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(hn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){An=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{An=!1}var Jn=null,Sr=null,Di=null;function xo(){if(Di)return Di;var t,i=Sr,a=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Di=h.slice(t,1<l?1-l:void 0)}function ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function Mo(){return!1}function Dt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:Mo,this.isPropagationStopped=Mo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Dt(Fe),ys=N({},Fe,{view:0,detail:0}),vu=Dt(ys),ha,fa,ni,vs=N({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(ha=t.screenX-ni.screenX,fa=t.screenY-ni.screenY):fa=ha=0,ni=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),bn=Dt(vs),_u=N({},vs,{dataTransfer:0}),Fh=Dt(_u),_s=N({},ys,{relatedTarget:0}),da=Dt(_s),Vo=N({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Dt(Vo),Eu=N({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pa=Dt(Eu),Gh=N({},Fe,{data:0}),Po=Dt(Gh),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Su[t])?!!i[t]:!1}function Ts(){return Lo}var Au=N({},ys,{key:function(t){if(t.key){var i=Es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ga=Dt(Au),bu=N({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Dt(bu),Oi=N({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),wu=Dt(Oi),Ru=N({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Dt(Ru),Iu=N({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Dt(Iu),en=N({},Fe,{newState:0,oldState:0}),Nu=Dt(en),Du=[9,13,27,32],ii=hn&&"CompositionEvent"in window,c=null;hn&&"documentMode"in document&&(c=document.documentMode);var g=hn&&"TextEvent"in window&&!c,v=hn&&(!ii||c&&8<c&&11>=c),S=" ",j=!1;function G(t,i){switch(t){case"keyup":return Du.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Tt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function Le(t,i){if(Pe)return t==="compositionend"||!ii&&G(t,i)?(t=xo(),Di=Sr=Jn=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function xi(t,i,a,l){Ci?Ii?Ii.push(l):Ii=[l]:Ci=l,i=dc(i,"onChange"),0<i.length&&(a=new ca("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Lt=null,ri=null;function Uo(t){Jy(t,0)}function Ou(t){var i=gr(t);if(Io(i))return t}function Ip(t,i){if(t==="change")return i}var Np=!1;if(hn){var Kh;if(hn){var Qh="oninput"in document;if(!Qh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Qh=typeof Dp.oninput=="function"}Kh=Qh}else Kh=!1;Np=Kh&&(!document.documentMode||9<document.documentMode)}function Op(){Lt&&(Lt.detachEvent("onpropertychange",xp),ri=Lt=null)}function xp(t){if(t.propertyName==="value"&&Ou(ri)){var i=[];xi(i,ri,t,ua(t)),yu(Uo,i)}}function A1(t,i,a){t==="focusin"?(Op(),Lt=i,ri=a,Lt.attachEvent("onpropertychange",xp)):t==="focusout"&&Op()}function b1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(ri)}function w1(t,i){if(t==="click")return Ou(i)}function R1(t,i){if(t==="input"||t==="change")return Ou(i)}function C1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:C1;function jo(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ta.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vp(t,i){var a=Mp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mp(a)}}function Pp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=oa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=oa(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function I1(t,i){var a=Lp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Pp(i.ownerDocument.documentElement,i)){if(l!==null&&Yh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Vp(i,d);var _=Vp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var N1=hn&&"documentMode"in document&&11>=document.documentMode,va=null,$h=null,zo=null,Xh=!1;function kp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||va==null||va!==oa(l)||(l=va,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&jo(zo,l)||(zo=l,l=dc($h,"onSelect"),0<l.length&&(i=new ca("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Wh={},Up={};hn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function As(t){if(Wh[t])return Wh[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Up)return Wh[t]=i[a];return t}var jp=As("animationend"),zp=As("animationiteration"),Bp=As("animationstart"),D1=As("transitionrun"),O1=As("transitionstart"),x1=As("transitioncancel"),qp=As("transitionend"),Hp=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(t,i){Hp.set(t,i),cn(i,[t])}var wn=[],Ea=0,Zh=0;function xu(){for(var t=Ea,i=Zh=Ea=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Gp(a,h,d)}}function Mu(t,i,a,l){wn[Ea++]=t,wn[Ea++]=i,wn[Ea++]=a,wn[Ea++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,i,a,l){return Mu(t,i,a,l),Vu(t)}function Ar(t,i){return Mu(t,null,null,i),Vu(t)}function Gp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Zt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Vu(t){if(50<hl)throw hl=0,ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={},Kp=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ee(i)},Kp.set(t,i),i)}return{value:t,source:i,stack:Ee(i)}}var Sa=[],Aa=0,Pu=null,Lu=0,Cn=[],In=0,bs=null,Mi=1,Vi="";function ws(t,i){Sa[Aa++]=Lu,Sa[Aa++]=Pu,Pu=t,Lu=i}function Qp(t,i,a){Cn[In++]=Mi,Cn[In++]=Vi,Cn[In++]=bs,bs=t;var l=Mi;t=Vi;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Mi=1<<32-Zt(i)+h|a<<h|l,Vi=d+t}else Mi=1<<d|a<<h|l,Vi=t}function ef(t){t.return!==null&&(ws(t,1),Qp(t,1,0))}function tf(t){for(;t===Pu;)Pu=Sa[--Aa],Sa[Aa]=null,Lu=Sa[--Aa],Sa[Aa]=null;for(;t===bs;)bs=Cn[--In],Cn[In]=null,Vi=Cn[--In],Cn[In]=null,Mi=Cn[--In],Cn[In]=null}var tn=null,kt=null,Be=!1,Bn=null,si=!1,nf=Error(s(519));function Rs(t){var i=Error(s(418,""));throw Ho(Rn(i,t)),nf}function Yp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Et]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Ve(dl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fs(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Tr(i,l.value,l.defaultValue,l.children),fs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||iv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Rs(t)}function $p(t){for(tn=t.return;tn;)switch(tn.tag){case 3:case 27:si=!0;return;case 5:case 13:si=!1;return;default:tn=tn.return}}function Bo(t){if(t!==tn)return!1;if(!Be)return $p(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&kt&&Rs(t),$p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){kt=Hn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}kt=null}}else kt=tn?Hn(t.stateNode.nextSibling):null;return!0}function qo(){kt=tn=null,Be=!1}function Ho(t){Bn===null?Bn=[t]:Bn.push(t)}var Fo=Error(s(460)),Xp=Error(s(474)),rf={then:function(){}};function Wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function Zp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ku,ku),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Fo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ku,ku);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Fo?Error(s(483)):t}throw Go=i,Fo}}var Go=null;function Jp(){if(Go===null)throw Error(s(459));var t=Go;return Go=null,t}var ba=null,Ko=0;function Uu(t){var i=Ko;return Ko+=1,ba===null&&(ba=[]),Zp(ba,t,i)}function Qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ju(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function eg(t){var i=t._init;return i(t._payload)}function tg(t){function i(k,x){if(t){var B=k.deletions;B===null?(k.deletions=[x],k.flags|=16):B.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Pr(k,x),k.index=0,k.sibling=null,k}function d(k,x,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<x?(k.flags|=33554434,x):B):(k.flags|=33554434,x)):(k.flags|=1048576,x)}function _(k){return t&&k.alternate===null&&(k.flags|=33554434),k}function T(k,x,B,W){return x===null||x.tag!==6?(x=Zf(B,k.mode,W),x.return=k,x):(x=h(x,B),x.return=k,x)}function C(k,x,B,W){var ue=B.type;return ue===p?X(k,x,B.props.children,W,B.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Q&&eg(ue)===x.type)?(x=h(x,B.props),Qo(x,B),x.return=k,x):(x=ic(B.type,B.key,B.props,null,k.mode,W),Qo(x,B),x.return=k,x)}function P(k,x,B,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Jf(B,k.mode,W),x.return=k,x):(x=h(x,B.children||[]),x.return=k,x)}function X(k,x,B,W,ue){return x===null||x.tag!==7?(x=Ls(B,k.mode,W,ue),x.return=k,x):(x=h(x,B),x.return=k,x)}function ee(k,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Zf(""+x,k.mode,B),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return B=ic(x.type,x.key,x.props,null,k.mode,B),Qo(B,x),B.return=k,B;case m:return x=Jf(x,k.mode,B),x.return=k,x;case Q:var W=x._init;return x=W(x._payload),ee(k,x,B)}if(se(x)||be(x))return x=Ls(x,k.mode,B,null),x.return=k,x;if(typeof x.then=="function")return ee(k,Uu(x),B);if(x.$$typeof===L)return ee(k,ec(k,x),B);ju(k,x)}return null}function q(k,x,B,W){var ue=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:T(k,x,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ue?C(k,x,B,W):null;case m:return B.key===ue?P(k,x,B,W):null;case Q:return ue=B._init,B=ue(B._payload),q(k,x,B,W)}if(se(B)||be(B))return ue!==null?null:X(k,x,B,W,null);if(typeof B.then=="function")return q(k,x,Uu(B),W);if(B.$$typeof===L)return q(k,x,ec(k,B),W);ju(k,B)}return null}function $(k,x,B,W,ue){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,T(x,k,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return k=k.get(W.key===null?B:W.key)||null,C(x,k,W,ue);case m:return k=k.get(W.key===null?B:W.key)||null,P(x,k,W,ue);case Q:var De=W._init;return W=De(W._payload),$(k,x,B,W,ue)}if(se(W)||be(W))return k=k.get(B)||null,X(x,k,W,ue,null);if(typeof W.then=="function")return $(k,x,B,Uu(W),ue);if(W.$$typeof===L)return $(k,x,B,ec(x,W),ue);ju(x,W)}return null}function he(k,x,B,W){for(var ue=null,De=null,de=x,ye=x=0,Vt=null;de!==null&&ye<B.length;ye++){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var qe=q(k,de,B[ye],W);if(qe===null){de===null&&(de=Vt);break}t&&de&&qe.alternate===null&&i(k,de),x=d(qe,x,ye),De===null?ue=qe:De.sibling=qe,De=qe,de=Vt}if(ye===B.length)return a(k,de),Be&&ws(k,ye),ue;if(de===null){for(;ye<B.length;ye++)de=ee(k,B[ye],W),de!==null&&(x=d(de,x,ye),De===null?ue=de:De.sibling=de,De=de);return Be&&ws(k,ye),ue}for(de=l(de);ye<B.length;ye++)Vt=$(de,k,ye,B[ye],W),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?ye:Vt.key),x=d(Vt,x,ye),De===null?ue=Vt:De.sibling=Vt,De=Vt);return t&&de.forEach(function(qr){return i(k,qr)}),Be&&ws(k,ye),ue}function Se(k,x,B,W){if(B==null)throw Error(s(151));for(var ue=null,De=null,de=x,ye=x=0,Vt=null,qe=B.next();de!==null&&!qe.done;ye++,qe=B.next()){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var qr=q(k,de,qe.value,W);if(qr===null){de===null&&(de=Vt);break}t&&de&&qr.alternate===null&&i(k,de),x=d(qr,x,ye),De===null?ue=qr:De.sibling=qr,De=qr,de=Vt}if(qe.done)return a(k,de),Be&&ws(k,ye),ue;if(de===null){for(;!qe.done;ye++,qe=B.next())qe=ee(k,qe.value,W),qe!==null&&(x=d(qe,x,ye),De===null?ue=qe:De.sibling=qe,De=qe);return Be&&ws(k,ye),ue}for(de=l(de);!qe.done;ye++,qe=B.next())qe=$(de,k,ye,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?ye:qe.key),x=d(qe,x,ye),De===null?ue=qe:De.sibling=qe,De=qe);return t&&de.forEach(function(KS){return i(k,KS)}),Be&&ws(k,ye),ue}function lt(k,x,B,W){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var ue=B.key;x!==null;){if(x.key===ue){if(ue=B.type,ue===p){if(x.tag===7){a(k,x.sibling),W=h(x,B.props.children),W.return=k,k=W;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Q&&eg(ue)===x.type){a(k,x.sibling),W=h(x,B.props),Qo(W,B),W.return=k,k=W;break e}a(k,x);break}else i(k,x);x=x.sibling}B.type===p?(W=Ls(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=ic(B.type,B.key,B.props,null,k.mode,W),Qo(W,B),W.return=k,k=W)}return _(k);case m:e:{for(ue=B.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){a(k,x.sibling),W=h(x,B.children||[]),W.return=k,k=W;break e}else{a(k,x);break}else i(k,x);x=x.sibling}W=Jf(B,k.mode,W),W.return=k,k=W}return _(k);case Q:return ue=B._init,B=ue(B._payload),lt(k,x,B,W)}if(se(B))return he(k,x,B,W);if(be(B)){if(ue=be(B),typeof ue!="function")throw Error(s(150));return B=ue.call(B),Se(k,x,B,W)}if(typeof B.then=="function")return lt(k,x,Uu(B),W);if(B.$$typeof===L)return lt(k,x,ec(k,B),W);ju(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(a(k,x.sibling),W=h(x,B),W.return=k,k=W):(a(k,x),W=Zf(B,k.mode,W),W.return=k,k=W),_(k)):a(k,x)}return function(k,x,B,W){try{Ko=0;var ue=lt(k,x,B,W);return ba=null,ue}catch(de){if(de===Fo)throw de;var De=xn(29,de,null,k.mode);return De.lanes=W,De.return=k,De}finally{}}}var Cs=tg(!0),ng=tg(!1),wa=je(null),zu=je(0);function ig(t,i){t=Gi,Ke(zu,t),Ke(wa,i),Gi=t|i.baseLanes}function sf(){Ke(zu,Gi),Ke(wa,wa.current)}function af(){Gi=zu.current,rt(wa),rt(zu)}var Nn=je(null),ai=null;function br(t){var i=t.alternate;Ke(At,At.current&1),Ke(Nn,t),ai===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(ai=t)}function rg(t){if(t.tag===22){if(Ke(At,At.current),Ke(Nn,t),ai===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ai=t)}}else wr()}function wr(){Ke(At,At.current),Ke(Nn,Nn.current)}function Pi(t){rt(Nn),ai===t&&(ai=null),rt(At)}var At=je(0);function Bu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var M1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},V1=r.unstable_scheduleCallback,P1=r.unstable_NormalPriority,bt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new M1,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&V1(P1,function(){t.controller.abort()})}var $o=null,lf=0,Ra=0,Ca=null;function L1(t,i){if($o===null){var a=$o=[];lf=0,Ra=md(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,i.then(sg,sg),i}function sg(){if(--lf===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var t=$o;$o=null,Ra=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function k1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ag=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&L1(t,i),ag!==null&&ag(t,i)};var Is=je(null);function uf(){var t=Is.current;return t!==null?t:Xe.pooledCache}function qu(t,i){i===null?Ke(Is,Is.current):Ke(Is,i.pool)}function og(){var t=uf();return t===null?null:{parent:bt._currentValue,pool:t}}var Rr=0,Ie=null,Qe=null,mt=null,Hu=!1,Ia=!1,Ns=!1,Fu=0,Xo=0,Na=null,U1=0;function ct(){throw Error(s(321))}function cf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function hf(t,i,a,l,h,d){return Rr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Ds:Cr,Ns=!1,d=a(l,h),Ns=!1,Ia&&(d=ug(i,a,l,h)),lg(t),d}function lg(t){b.H=oi;var i=Qe!==null&&Qe.next!==null;if(Rr=0,mt=Qe=Ie=null,Hu=!1,Xo=0,Na=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&Ju(t)&&(xt=!0))}function ug(t,i,a,l){Ie=t;var h=0;do{if(Ia&&(Na=null),Xo=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,mt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Os,d=i(a,l)}while(Ia);return d}function j1(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function ff(){var t=Fu!==0;return Fu=0,t}function df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function mf(t){if(Hu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hu=!1}Rr=0,mt=Qe=Ie=null,Ia=!1,Xo=Fu=0,Na=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=mt===null?Ie.memoizedState:mt.next;if(i!==null)mt=i,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ie.memoizedState=mt=t:mt=mt.next=t}return mt}var Gu;Gu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wo(t){var i=Xo;return Xo+=1,Na===null&&(Na=[]),t=Zp(Na,t,i),i=Ie,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Ds:Cr),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===L)return Gt(t)}throw Error(s(438,String(t)))}function pf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ce;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function Qu(t){var i=pt();return gf(i,Qe,t)}function gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,P=i,X=!1;do{var ee=P.lane&-536870913;if(ee!==P.lane?(ke&ee)===ee:(Rr&ee)===ee){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ee===Ra&&(X=!0);else if((Rr&q)===q){P=P.next,q===Ra&&(X=!0);continue}else ee={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=ee,_=d):C=C.next=ee,Ie.lanes|=q,Lr|=q;ee=P.action,Ns&&a(d,ee),d=P.hasEagerState?P.eagerState:a(d,ee)}else q={lane:ee,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=q,_=d):C=C.next=q,Ie.lanes|=ee,Lr|=ee;P=P.next}while(P!==null&&P!==i);if(C===null?_=d:C.next=T,!fn(d,t.memoizedState)&&(xt=!0,X&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);fn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cg(t,i,a){var l=Ie,h=pt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!fn((Qe||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,Ef(dg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Da(9,fg.bind(null,l,h,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Rr&60)!==0||hg(l,i,a)}return a}function hg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Gu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function fg(t,i,a,l){i.value=a,i.getSnapshot=l,mg(i)&&pg(t)}function dg(t,i,a){return a(function(){mg(i)&&pg(t)})}function mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function pg(t){var i=Ar(t,2);i!==null&&nn(i,t,2)}function vf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ns){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function gg(t,i,a,l){return t.baseState=a,gf(t,Qe,typeof l=="function"?l:Li)}function z1(t,i,a,l,h){if(Xu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=b.T,_={};b.T=_;try{var T=a(h,l),C=b.S;C!==null&&C(_,T),vg(t,i,T)}catch(P){_f(t,i,P)}finally{b.T=d}}else try{d=a(h,l),vg(t,i,d)}catch(P){_f(t,i,P)}}function vg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_g(t,i,l)},function(l){return _f(t,i,l)}):_g(t,i,a)}function _g(t,i,a){i.status="fulfilled",i.value=a,Eg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yg(t,a)))}function _f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Eg(i),i=i.next;while(i!==l)}t.action=null}function Eg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Tg(t,i){return i}function Sg(t,i){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(Be){if(kt){t:{for(var h=kt,d=si;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){kt=Hn(h.nextSibling),l=h.data==="F!";break e}}Rs(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:i},a.queue=l,a=zg.bind(null,Ie,l),l.dispatch=a,l=vf(!1),d=wf.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=z1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ag(t){var i=pt();return bg(i,Qe,t)}function bg(t,i,a){i=gf(t,i,Tg)[0],t=Qu(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Wo(i):i;var l=pt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Da(9,B1.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function B1(t,i){t.action=i}function wg(t){var i=pt(),a=Qe;if(a!==null)return bg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Da(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ie.updateQueue,i===null&&(i=Gu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Rg(){return pt().memoizedState}function Yu(t,i,a,l){var h=on();Ie.flags|=t,h.memoizedState=Da(1|i,a,{destroy:void 0},l===void 0?null:l)}function $u(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&cf(l,Qe.memoizedState.deps)?h.memoizedState=Da(i,a,d,l):(Ie.flags|=t,h.memoizedState=Da(1|i,a,d,l))}function Cg(t,i){Yu(8390656,8,t,i)}function Ef(t,i){$u(2048,8,t,i)}function Ig(t,i){return $u(4,2,t,i)}function Ng(t,i){return $u(4,4,t,i)}function Dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Og(t,i,a){a=a!=null?a.concat([t]):null,$u(4,4,Dg.bind(null,i,t),a)}function Tf(){}function xg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Mg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cf(i,l[1]))return l[0];if(l=t(),Ns){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function Sf(t,i,a){return a===void 0||(Rr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Py(),Ie.lanes|=t,Lr|=t,a)}function Vg(t,i,a,l){return fn(a,i)?a:wa.current!==null?(t=Sf(t,a,l),fn(t,i)||(xt=!0),t):(Rr&42)===0?(xt=!0,t.memoizedState=a):(t=Py(),Ie.lanes|=t,Lr|=t,i)}function Pg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,wf(t,!1,i,a);try{var C=h(),P=b.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=k1(C,l);Zo(t,i,X,gn(t))}else Zo(t,i,l,gn(t))}catch(ee){Zo(t,i,{then:function(){},status:"rejected",reason:ee},gn())}finally{ae.p=d,b.T=_}}function q1(){}function Af(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Lg(t).queue;Pg(t,h,i,Ce,a===null?q1:function(){return kg(t),a(l)})}function Lg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function kg(t){var i=Lg(t).next.queue;Zo(t,i,{},gn())}function bf(){return Gt(vl)}function Ug(){return pt().memoizedState}function jg(){return pt().memoizedState}function H1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=Dr(a);var l=Or(i,t,a);l!==null&&(nn(l,i,a),tl(l,i,a)),i={cache:of()},t.payload=i;return}i=i.return}}function F1(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Bg(i,a):(a=Jh(t,i,a,l),a!==null&&(nn(a,t,l),qg(a,i,l)))}function zg(t,i,a){var l=gn();Zo(t,i,a,l)}function Zo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Bg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,_))return Mu(t,i,h,0),Xe===null&&xu(),!1}catch{}finally{}if(a=Jh(t,i,h,l),a!==null)return nn(a,t,l),qg(a,i,l),!0}return!1}function wf(t,i,a,l){if(l={lane:2,revertLane:md(),action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(i)throw Error(s(479))}else i=Jh(t,a,l,2),i!==null&&nn(i,t,2)}function Xu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Bg(t,i){Ia=Hu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function qg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dr(t,a)}}var oi={readContext:Gt,use:Ku,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};oi.useCacheRefresh=ct,oi.useMemoCache=ct,oi.useHostTransitionStatus=ct,oi.useFormState=ct,oi.useActionState=ct,oi.useOptimistic=ct;var Ds={readContext:Gt,use:Ku,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Cg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Yu(4194308,4,t,i)},useInsertionEffect:function(t,i){Yu(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ns){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Ns){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=F1.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=vf(t);var i=t.queue,a=zg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(t,i){var a=on();return Sf(a,t,i)},useTransition:function(){var t=vf(!1);return t=Pg.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));(ke&60)!==0||hg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Cg(dg.bind(null,l,d,t),[t]),l.flags|=2048,Da(9,fg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=on(),i=Xe.identifierPrefix;if(Be){var a=Vi,l=Mi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Fu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=U1++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return on().memoizedState=H1.bind(null,Ie)}};Ds.useMemoCache=pf,Ds.useHostTransitionStatus=bf,Ds.useFormState=Sg,Ds.useActionState=Sg,Ds.useOptimistic=function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]};var Cr={readContext:Gt,use:Ku,useCallback:xg,useContext:Gt,useEffect:Ef,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Mg,useReducer:Qu,useRef:Rg,useState:function(){return Qu(Li)},useDebugValue:Tf,useDeferredValue:function(t,i){var a=pt();return Vg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Qu(Li)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:cg,useId:Ug};Cr.useCacheRefresh=jg,Cr.useMemoCache=pf,Cr.useHostTransitionStatus=bf,Cr.useFormState=Ag,Cr.useActionState=Ag,Cr.useOptimistic=function(t,i){var a=pt();return gg(a,Qe,t,i)};var Os={readContext:Gt,use:Ku,useCallback:xg,useContext:Gt,useEffect:Ef,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Mg,useReducer:yf,useRef:Rg,useState:function(){return yf(Li)},useDebugValue:Tf,useDeferredValue:function(t,i){var a=pt();return Qe===null?Sf(a,t,i):Vg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=yf(Li)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:cg,useId:Ug};Os.useCacheRefresh=jg,Os.useMemoCache=pf,Os.useHostTransitionStatus=bf,Os.useFormState=wg,Os.useActionState=wg,Os.useOptimistic=function(t,i){var a=pt();return Qe!==null?gg(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Rf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(nn(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(nn(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(nn(i,t,a),tl(i,t,a))}};function Hg(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function Fg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Cf.enqueueReplaceState(i,i.state,null)}function xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gg(t){Wu(t)}function Kg(t){console.error(t)}function Qg(t){Wu(t)}function Zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(t,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(t,i)},a}function $g(t){return t=Dr(t),t.tag=3,t}function Xg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Yg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yg(i,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function G1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&el(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ai===null?ud():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(s(435,a.tag))}return hd(t,l,h),ud(),!1}if(Be)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==nf&&(t=Error(s(422),{cause:l}),Ho(Rn(t,a)))):(l!==nf&&(i=Error(s(423),{cause:l}),Ho(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=If(t.stateNode,l,h),Hf(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ul===null?ul=[d]:ul.push(d),ot!==4&&(ot=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=If(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$g(h),Xg(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var Wg=Error(s(461)),xt=!1;function Ut(t,i,a,l){i.child=t===null?ng(i,null,a,l):Cs(i,t.child,a,l)}function Zg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Vs(i),l=hf(t,i,a,_,d,h),T=ff(),t!==null&&!xt?(df(t,i,h),ki(t,i,h)):(Be&&T&&ef(i),i.flags|=1,Ut(t,i,l,h),i.child)}function Jg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ey(t,i,d,l,h)):(t=ic(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(_,l)&&t.ref===i.ref)return ki(t,i,h)}return i.flags|=1,t=Pr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ey(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(jo(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,kf(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,ki(t,i,h)}return Nf(t,i,a,l,h)}function ty(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(Jo(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ny(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,_!==null?_.cachePool:null),_!==null?ig(i,_):sf(),rg(i);else return i.lanes=i.childLanes=536870912,ny(t,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(qu(i,_.cachePool),ig(i,_),wr(),i.memoizedState=null):(t!==null&&qu(i,null),sf(),wr());return Ut(t,i,h,a),i.child}function ny(t,i,a,l){var h=uf();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&qu(i,null),sf(),rg(i),t!==null&&el(t,i,l,!0),null}function Jo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Nf(t,i,a,l,h){return Vs(i),a=hf(t,i,a,l,void 0,h),l=ff(),t!==null&&!xt?(df(t,i,h),ki(t,i,h)):(Be&&l&&ef(i),i.flags|=1,Ut(t,i,a,h),i.child)}function iy(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=ug(i,l,a,h),lg(t),l=ff(),t!==null&&!xt?(df(t,i,d),ki(t,i,d)):(Be&&l&&ef(i),i.flags|=1,Ut(t,i,a,d),i.child)}function ry(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ta,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Cf.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=xs(a,T);d.props=C;var P=d.context,X=a.contextType;_=Ta,typeof X=="object"&&X!==null&&(_=Gt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Fg(i,d,l,_),Nr=!1;var q=i.memoizedState;d.state=q,il(i,l,d,h),nl(),P=i.memoizedState,T||q!==P||Nr?(typeof ee=="function"&&(Rf(i,a,ee,l),P=i.memoizedState),(C=Nr||Hg(i,a,C,l,q,P,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),_=i.memoizedProps,X=xs(a,_),d.props=X,ee=i.pendingProps,q=d.context,P=a.contextType,C=Ta,typeof P=="object"&&P!==null&&(C=Gt(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||q!==C)&&Fg(i,d,l,C),Nr=!1,q=i.memoizedState,d.state=q,il(i,l,d,h),nl();var $=i.memoizedState;_!==ee||q!==$||Nr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(Rf(i,a,T,l),$=i.memoizedState),(X=Nr||Hg(i,a,X,l,q,$,C)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Jo(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Cs(i,t.child,null,h),i.child=Cs(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ki(t,i,h),t}function sy(t,i,a,l){return qo(),i.flags|=256,Ut(t,i,a,l),i.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Of(t){return{baseLanes:t,cachePool:og()}}function xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function ay(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?br(i):wr(),Be){var T=kt,C;if(C=T){e:{for(C=T,T=si;C.nodeType!==8;){if(!T){T=null;break e}if(C=Hn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912},C=xn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,tn=i,kt=null,C=!0):C=!1}C||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(wr(),h=i.mode,T=Vf({mode:"hidden",children:T},h),l=Ls(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Of(a),h.childLanes=xf(t,_,a),i.memoizedState=Df,l):(br(i),Mf(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=Pf(t,i,a)):i.memoizedState!==null?(wr(),i.child=t.child,i.flags|=128,i=null):(wr(),h=l.fallback,T=i.mode,l=Vf({mode:"visible",children:l.children},T),h=Ls(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Cs(i,t.child,null,a),l=i.child,l.memoizedState=Of(a),l.childLanes=xf(t,_,a),i.memoizedState=Df,i=h);else if(br(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),i=Pf(t,i,a)}else if(xt||el(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=Xe,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ar(t,l),nn(_,t,l),Wg}T.data==="$?"||ud(),i=Pf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=aS.bind(null,t),T._reactRetry=i,i=null):(t=C.treeContext,kt=Hn(T.nextSibling),tn=i,Be=!0,Bn=null,si=!1,t!==null&&(Cn[In++]=Mi,Cn[In++]=Vi,Cn[In++]=bs,Mi=t.id,Vi=t.overflow,bs=i),i=Mf(i,l.children),i.flags|=4096);return i}return h?(wr(),h=l.fallback,T=i.mode,C=t.child,P=C.sibling,l=Pr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,P!==null?h=Pr(P,h):(h=Ls(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Of(a):(C=T.cachePool,C!==null?(P=bt._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=og(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=xf(t,_,a),i.memoizedState=Df,l):(br(i),a=t.child,t=a.sibling,a=Pr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Mf(t,i){return i=Vf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vf(t,i){return xy(t,i,0,null)}function Pf(t,i,a){return Cs(i,t.child,null,a),t=Mf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function oy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function Lf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ly(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,a,i);else if(t.tag===19)oy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(At,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Lf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Lf(i,!0,a,null,d);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(el(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function K1(t,i,a){switch(i.tag){case 3:or(i,i.stateNode.containerInfo),Ir(i,bt,t.memoizedState.cache),qo();break;case 27:case 5:vo(i);break;case 4:or(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ay(t,i,a):(br(i),t=ki(t,i,a),t!==null?t.sibling:null);br(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(el(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ly(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(At,At.current),l)break;return null;case 22:case 23:return i.lanes=0,ty(t,i,a);case 24:Ir(i,bt,t.memoizedState.cache)}return ki(t,i,a)}function uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!kf(t,a)&&(i.flags&128)===0)return xt=!1,K1(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Be&&(i.flags&1048576)!==0&&Qp(i,Lu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Wf(l)?(t=xs(l,t),i.tag=1,i=ry(null,i,l,t,a)):(i.tag=0,i=Nf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===U){i.tag=11,i=Zg(null,i,l,t,a);break e}else if(h===K){i.tag=14,i=Jg(null,i,l,t,a);break e}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return Nf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=xs(l,i.pendingProps),ry(t,i,l,h,a);case 3:e:{if(or(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,qf(t,i),il(i,d,null,a);var _=i.memoizedState;if(d=_.cache,Ir(i,bt,d),d!==h.cache&&zf(i,[bt],a,!0),nl(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=sy(t,i,d,a);break e}else if(d!==l){l=Rn(Error(s(424)),i),Ho(l),i=sy(t,i,d,a);break e}else for(kt=Hn(i.stateNode.containerInfo.firstChild),tn=i,Be=!0,Bn=null,si=!0,a=ng(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qo(),d===l){i=ki(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return Jo(t,i),t===null?(a=fv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=pc(vn.current).createElement(a),l[Nt]=i,l[Et]=t,jt(l,a,t),Je(l),i.stateNode=l):i.memoizedState=fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vo(i),t===null&&Be&&(l=i.stateNode=uv(i.type,i.pendingProps,vn.current),tn=i,si=!0,kt=Hn(l.firstChild)),l=i.pendingProps.children,t!==null||Be?Ut(t,i,l,a):i.child=Cs(i,null,l,a),Jo(t,i),i.child;case 5:return t===null&&Be&&((h=l=kt)&&(l=SS(l,i.type,i.pendingProps,si),l!==null?(i.stateNode=l,tn=i,kt=Hn(l.firstChild),si=!1,h=!0):h=!1),h||Rs(i)),vo(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:_!==null&&Ad(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=hf(t,i,j1,null,null,a),vl._currentValue=h),Jo(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=kt)&&(a=AS(a,i.pendingProps,si),a!==null?(i.stateNode=a,tn=i,kt=null,t=!0):t=!1),t||Rs(i)),null;case 13:return ay(t,i,a);case 4:return or(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Cs(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Zg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Gt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return Jg(t,i,i.type,i.pendingProps,a);case 15:return ey(t,i,i.type,i.pendingProps,a);case 19:return ly(t,i,a);case 22:return ty(t,i,a);case 24:return Vs(i),l=Gt(bt),t===null?(h=uf(),h===null&&(h=Xe,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Ir(i,bt,h)):((t.lanes&a)!==0&&(qf(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,bt,l)):(l=d.cache,Ir(i,bt,l),l!==h.cache&&zf(i,[bt],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Uf=je(null),Ms=null,Ui=null;function Ir(t,i,a){Ke(Uf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Uf.current,rt(Uf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function el(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;fn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ar.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return cy(Ms,t)}function ec(t,i){return Ms===null&&Vs(t),cy(t,i)}function cy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var Nr=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Vu(t),Gp(t,null,a),i}return Mu(t,l,i,a),Vu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dr(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function nl(){if(Ff){var t=Ca;if(t!==null)throw t}}function il(t,i,a,l){Ff=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,_===null?d=P:_.next=P,_=C;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=P:T.next=P,X.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;_=0,X=P=C=null,T=d;do{var q=T.lane&-536870913,$=q!==T.lane;if($?(ke&q)===q:(l&q)===q){q!==0&&q===Ra&&(Ff=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Se=T;q=i;var lt=a;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){ee=he.call(lt,ee,q);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,q=typeof he=="function"?he.call(lt,ee,q):he,q==null)break e;ee=N({},ee,q);break e;case 2:Nr=!0}}q=T.callback,q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[q]:$.push(q))}else $={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(P=X=$,C=ee):X=X.next=$,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Lr|=_,t.lanes=_,t.memoizedState=ee}}function hy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function fy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hy(a[t],i)}function rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function xr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a;try{T()}catch(P){$e(h,C,P)}}}l=l.next}while(l!==d)}}catch(P){$e(i,i.return,P)}}function dy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{fy(i,a)}catch(l){$e(t,t.return,l)}}}function my(t,i,a){a.props=xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Ps(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function dn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function py(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function gy(t,i,a){try{var l=t.stateNode;yS(l,t.type,a,i),l[Et]=i}catch(h){$e(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Kf(t,i,a),t=t.sibling;t!==null;)Kf(t,i,a),t=t.sibling}function tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(tc(t,i,a),t=t.sibling;t!==null;)tc(t,i,a),t=t.sibling}var zi=!1,at=!1,Qf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Mt=null,_y=!1;function Q1(t,i){if(t=t.containerInfo,Td=Tc,t=Lp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,P=0,X=0,ee=t,q=null;t:for(;;){for(var $;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(C=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)q=ee,ee=$;for(;;){if(ee===t)break t;if(q===a&&++P===h&&(T=_),q===d&&++X===l&&(C=_),($=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=$}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Tc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=xs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){$e(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return he=_y,_y=!1,he}function Ey(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&rl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){$e(a,a.return,T)}else{var h=xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){$e(a,a.return,T)}}l&64&&dy(a),l&512&&Ps(a,a.return);break;case 3:if(qi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{fy(l,t)}catch(T){$e(a,a.return,T)}}break;case 26:qi(t,a),l&512&&Ps(a,a.return);break;case 27:case 5:qi(t,a),i===null&&l&4&&py(a),l&512&&Ps(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&Ay(t,a);break;case 22:if(h=a.memoizedState!==null||zi,!h){i=i!==null&&i.memoizedState!==null||at;var d=zi,_=at;zi=h,(at=i)&&!_?Mr(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),zi=d,at=_}l&512&&(a.memoizedProps.mode==="manual"?Ps(a,a.return):dn(a,a.return));break;default:qi(t,a)}}function Ty(t){var i=t.alternate;i!==null&&(t.alternate=null,Ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&hs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,mn=!1;function Bi(t,i,a){for(a=a.child;a!==null;)Sy(t,i,a),a=a.sibling}function Sy(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(lr,a)}catch{}switch(a.tag){case 26:at||dn(a,i),Bi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||dn(a,i);var l=gt,h=mn;for(gt=a.stateNode,Bi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);hs(a),gt=l,mn=h;break;case 5:at||dn(a,i);case 6:h=gt;var d=mn;if(gt=null,Bi(t,i,a),gt=h,mn=d,gt!==null)if(mn)try{t=gt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){$e(a,i,_)}else try{gt.removeChild(a.stateNode)}catch(_){$e(a,i,_)}break;case 18:gt!==null&&(mn?(i=gt,a=a.stateNode,i.nodeType===8?wd(i.parentNode,a):i.nodeType===1&&wd(i,a),Sl(i)):wd(gt,a.stateNode));break;case 4:l=gt,h=mn,gt=a.stateNode.containerInfo,mn=!0,Bi(t,i,a),gt=l,mn=h;break;case 0:case 11:case 14:case 15:at||xr(2,a,i),at||xr(4,a,i),Bi(t,i,a);break;case 1:at||(dn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&my(a,i,l)),Bi(t,i,a);break;case 21:Bi(t,i,a);break;case 22:at||dn(a,i),at=(l=at)||a.memoizedState!==null,Bi(t,i,a),at=l;break;default:Bi(t,i,a)}}function Ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){$e(i,i.return,a)}}function Y1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new vy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new vy),i;default:throw Error(s(435,t.tag))}}function Yf(t,i){var a=Y1(t);i.forEach(function(l){var h=oS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:gt=T.stateNode,mn=!1;break e;case 3:gt=T.stateNode.containerInfo,mn=!0;break e;case 4:gt=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(gt===null)throw Error(s(160));Sy(d,_,h),gt=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)by(i,t),i=i.sibling}var qn=null;function by(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(i,t),On(t),l&4&&(xr(3,t,t.return),rl(3,t),xr(5,t,t.return));break;case 1:Dn(i,t),On(t),l&512&&(at||a===null||dn(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(Dn(i,t),On(t),l&512&&(at||a===null||dn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pr]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[Nt]=t,Je(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,Je(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var P=C.nextSibling,X=C.nodeName;C[pr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=P}for(var ee=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);jt(h,ee,d),h[Nt]=t,h[Et]=d}catch(he){$e(t,t.return,he)}}case 5:if(Dn(i,t),On(t),l&512&&(at||a===null||dn(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(Dn(i,t),On(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(vc=null,h=qn,qn=gc(i.containerInfo),Dn(i,t),qn=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(he){$e(t,t.return,he)}Qf&&(Qf=!1,wy(t));break;case 4:l=qn,qn=gc(t.stateNode.containerInfo),Dn(i,t),On(t),qn=l;break;case 12:Dn(i,t),On(t);break;case 13:Dn(i,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(id=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yf(t,l)));break;case 22:if(l&512&&(at||a===null||dn(a,a.return)),C=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,X=zi,ee=at,zi=X||C,at=ee||P,Dn(i,t),at=ee,zi=X,On(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=zi||at,a===null||P||i||Oa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var $=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(he){$e(P,P.return,he)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(he){$e(P,P.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(t,a))));break;case 19:Dn(i,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yf(t,l)));break;case 21:break;default:Dn(i,t),On(t)}}function On(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(yy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Gf(t);tc(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Tn(_,""),l.flags&=-33);var T=Gf(t);tc(t,T,_);break;case 3:case 4:var C=l.stateNode.containerInfo,P=Gf(t);Kf(t,P,C);break;default:throw Error(s(161))}}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(t,i.alternate,i),i=i.sibling}function Oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:xr(4,i,i.return),Oa(i);break;case 1:dn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&my(i,i.return,a),Oa(i);break;case 26:case 27:case 5:dn(i,i.return),Oa(i);break;case 22:dn(i,i.return),i.memoizedState===null&&Oa(i);break;default:Oa(i)}t=t.sibling}}function Mr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(h,d,a),rl(4,d);break;case 1:if(Mr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$e(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)hy(C[h],T)}catch(P){$e(l,l.return,P)}}a&&_&64&&dy(d),Ps(d,d.return);break;case 26:case 27:case 5:Mr(h,d,a),a&&l===null&&_&4&&py(d),Ps(d,d.return);break;case 12:Mr(h,d,a);break;case 13:Mr(h,d,a),a&&_&4&&Ay(h,d);break;case 22:d.memoizedState===null&&Mr(h,d,a),Ps(d,d.return);break;default:Mr(h,d,a)}i=i.sibling}}function $f(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function Xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function Vr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ry(t,i,a,l),i=i.sibling}function Ry(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(t,i,a,l),h&2048&&rl(9,i);break;case 3:Vr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){Vr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else Vr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Vr(t,i,a,l):sl(t,i):d._visibility&4?Vr(t,i,a,l):(d._visibility|=4,xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&$f(i.alternate,i);break;case 24:Vr(t,i,a,l),h&2048&&Xf(i.alternate,i);break;default:Vr(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,C=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:xa(d,_,T,C,h),rl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?xa(d,_,T,C,h):sl(d,_):(X._visibility|=4,xa(d,_,T,C,h)),h&&P&2048&&$f(_.alternate,_);break;case 24:xa(d,_,T,C,h),h&&P&2048&&Xf(_.alternate,_);break;default:xa(d,_,T,C,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&$f(l.alternate,l);break;case 24:sl(a,l),h&2048&&Xf(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Ma(t){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 26:Ma(t),t.flags&al&&t.memoizedState!==null&&LS(qn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var i=qn;qn=gc(t.stateNode.containerInfo),Ma(t),qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Ma(t),al=i):Ma(t));break;default:Ma(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Dy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&xr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,nc(t)):ol(t);break;default:ol(t)}}function nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Dy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:xr(8,i,i.return),nc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,nc(i));break;default:nc(i)}t=t.sibling}}function Dy(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Ty(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function $1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new $1(t,i,a,l)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Oy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Wf(t)&&(_=1);else if(typeof t=="string")_=VS(t,a,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ls(a.children,h,d,i);case y:_=8,h|=24;break;case E:return t=xn(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case Y:return t=xn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case H:return t=xn(19,a,i,h),t.elementType=H,t.lanes=d,t;case J:return xy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case L:_=10;break e;case I:_=9;break e;case U:_=11;break e;case K:_=14;break e;case Q:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function xy(t,i,a,l){t=xn(22,t,l,i),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=Ar(d,2);_!==null&&(h._pendingVisibility|=2,nn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=Ar(d,2);_!==null&&(h._pendingVisibility&=-3,nn(_,d,2))}}};return t.stateNode=h,t}function Zf(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function Jf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Hi(t){t.flags|=4}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(i)){if(i=Nn.current,i!==null&&((ke&4194176)===ke?ai!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==ai))throw Go=rf,Xp;t.flags|=8192}}function rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?hr():536870912,t.lanes|=i,Pa|=i)}function ll(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function X1(t,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(bt),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Bo(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bn!==null&&(od(Bn),Bn=null))),et(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(et(i),My(i,a)):(et(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),et(i),My(i,a)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),et(i),i.flags&=-16777217),null;case 27:ea(i),a=vn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=Wt.current,Bo(i)?Yp(i):(t=uv(h,l,a),i.stateNode=t,Hi(i))}return et(i),null;case 5:if(ea(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=Wt.current,Bo(i))Yp(i);else{switch(h=pc(vn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Nt]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=vn.current,Bo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||Rs(i)}else t=pc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else Bn!==null&&(od(Bn),Bn=null),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),rc(i,i.updateQueue),et(i),null;case 4:return Si(),t===null&&vd(i.stateNode.containerInfo),et(i),null;case 10:return ji(i.type),et(i),null;case 19:if(rt(At),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ll(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Bu(t),d!==null){for(i.flags|=128,ll(h,!1),t=d.updateQueue,i.updateQueue=t,rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Oy(a,t),a=a.sibling;return Ke(At,At.current&1|2),i.child}t=t.sibling}h.tail!==null&&sn()>sc&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304)}else{if(!l)if(t=Bu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,rc(i,t),ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return et(i),null}else 2*sn()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,t=At.current,Ke(At,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return Pi(i),af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),a=i.updateQueue,a!==null&&rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&rt(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(bt),et(i),null;case 25:return null}throw Error(s(156,i.tag))}function W1(t,i){switch(tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(bt),Si(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return rt(At),null;case 4:return Si(),null;case 10:return ji(i.type),null;case 22:case 23:return Pi(i),af(),t!==null&&rt(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function Vy(t,i){switch(tf(i),i.tag){case 3:ji(bt),Si();break;case 26:case 27:case 5:ea(i);break;case 4:Si();break;case 13:Pi(i);break;case 19:rt(At);break;case 10:ji(i.type);break;case 22:case 23:Pi(i),af(),t!==null&&rt(Is);break;case 24:ji(bt)}}var Z1={getCacheForType:function(t){var i=Gt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},J1=typeof WeakMap=="function"?WeakMap:Map,tt=0,Xe=null,Oe=null,ke=0,We=0,pn=null,Fi=!1,Va=!1,ed=!1,Gi=0,ot=0,Lr=0,ks=0,td=0,Mn=0,Pa=0,ul=null,li=null,nd=!1,id=0,sc=1/0,ac=null,kr=null,oc=!1,Us=null,cl=0,rd=0,sd=null,hl=0,ad=null;function gn(){if((tt&2)!==0&&ke!==0)return ke&-ke;if(b.T!==null){var t=Ra;return t!==0?t:md()}return du()}function Py(){Mn===0&&(Mn=(ke&536870912)===0||Be?Ao():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Mn}function nn(t,i,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(La(t,0),Ki(t,ke,Mn,!1)),ut(t,a),((tt&2)===0||t!==Xe)&&(t===Xe&&((tt&2)===0&&(ks|=a),ot===4&&Ki(t,ke,Mn,!1)),ui(t))}function Ly(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||cr(t,i),h=l?nS(t,i):cd(t,i,!0),d=l;do{if(h===0){Va&&!l&&Ki(t,i,0,!1);break}else if(h===6)Ki(t,i,0,!Fi);else{if(a=t.current.alternate,d&&!eS(a)){h=cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ul;var C=T.current.memoizedState.isDehydrated;if(C&&(La(T,_).flags|=256),_=cd(T,_,!1),_!==2){if(ed&&!C){T.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=li,li=h,d!==null&&od(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Ki(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ki(l,i,Mn,!Fi);break e}break;case 2:li=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=id+300-sn(),10<d)){if(Ki(l,i,Mn,!Fi),_n(l,0)!==0)break e;l.timeoutHandle=av(ky.bind(null,l,a,li,ac,nd,i,Mn,ks,Pa,Fi,2,-0,0),d);break e}ky(l,a,li,ac,nd,i,Mn,ks,Pa,Fi,0,-0,0)}}break}while(!0);ui(t)}function od(t){li===null?li=t:li.push.apply(li,t)}function ky(t,i,a,l,h,d,_,T,C,P,X,ee,q){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:PS},Cy(i),i=kS(),i!==null)){t.cancelPendingCommit=i(Fy.bind(null,t,a,l,h,_,T,C,1,ee,q)),Ki(t,d,_,!P);return}Fy(t,a,l,h,_,T,C,X,ee,q)}function eS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(t,i,a,l){i&=~td,i&=~ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fr(t,a,i)}function lc(){return(tt&6)===0?(fl(0),!1):!0}function ld(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Ui=Ms=null,mf(t),ba=null,Ko=0,t=Oe;for(;t!==null;)Vy(t.alternate,t),t=t.return;Oe=null}}function La(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_S(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ld(),Xe=t,Oe=a=Pr(t.current,null),ke=i,We=0,pn=null,Fi=!1,Va=cr(t,i),ed=!1,Pa=Mn=td=ks=Lr=ot=0,li=ul=null,nd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,xu(),a}function Uy(t,i){Ie=null,b.H=oi,i===Fo?(i=Jp(),We=3):i===Xp?(i=Jp(),We=4):We=i===Wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Oe===null&&(ot=1,Zu(t,Rn(i,t.current)))}function jy(){var t=b.H;return b.H=oi,t===null?oi:t}function zy(){var t=b.A;return b.A=Z1,t}function ud(){ot=4,Fi||(ke&4194176)!==ke&&Nn.current!==null||(Va=!0),(Lr&134217727)===0&&(ks&134217727)===0||Xe===null||Ki(Xe,ke,Mn,!1)}function cd(t,i,a){var l=tt;tt|=2;var h=jy(),d=zy();(Xe!==t||ke!==i)&&(ac=null,La(t,i)),i=!1;var _=ot;e:do try{if(We!==0&&Oe!==null){var T=Oe,C=pn;switch(We){case 8:ld(),_=6;break e;case 3:case 2:case 6:Nn.current===null&&(i=!0);var P=We;if(We=0,pn=null,ka(t,T,C,P),a&&Va){_=0;break e}break;default:P=We,We=0,pn=null,ka(t,T,C,P)}}tS(),_=ot;break}catch(X){Uy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ms=null,tt=l,b.H=h,b.A=d,Oe===null&&(Xe=null,ke=0,xu()),_}function tS(){for(;Oe!==null;)By(Oe)}function nS(t,i){var a=tt;tt|=2;var l=jy(),h=zy();Xe!==t||ke!==i?(ac=null,sc=sn()+500,La(t,i)):Va=cr(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=pn;t:switch(We){case 1:We=0,pn=null,ka(t,i,d,1);break;case 2:if(Wp(d)){We=0,pn=null,qy(i);break}i=function(){We===2&&Xe===t&&(We=7),ui(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Wp(d)?(We=0,pn=null,qy(i)):(We=0,pn=null,ka(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(!_||yv(_)){We=0,pn=null;var C=T.sibling;if(C!==null)Oe=C;else{var P=T.return;P!==null?(Oe=P,uc(P)):Oe=null}break t}}We=0,pn=null,ka(t,i,d,5);break;case 6:We=0,pn=null,ka(t,i,d,6);break;case 8:ld(),ot=6;break e;default:throw Error(s(462))}}iS();break}catch(X){Uy(t,X)}while(!0);return Ui=Ms=null,b.H=l,b.A=h,tt=a,Oe!==null?0:(Xe=null,ke=0,xu(),ot)}function iS(){for(;Oe!==null&&!kh();)By(Oe)}function By(t){var i=uy(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?uc(t):Oe=i}function qy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=iy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=iy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:mf(i);default:Vy(a,i),i=Oe=Oy(i,Gi),i=uy(a,i,Gi)}t.memoizedProps=t.pendingProps,i===null?uc(t):Oe=i}function ka(t,i,a,l){Ui=Ms=null,mf(i),ba=null,Ko=0;var h=i.return;try{if(G1(t,h,i,a,ke)){ot=1,Zu(t,Rn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ot=1,Zu(t,Rn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Va||(ke&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(i,t)):uc(i)}function uc(t){var i=t;do{if((i.flags&32768)!==0){Hy(i,Fi);return}t=i.return;var a=X1(i.alternate,i,Gi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ot===0&&(ot=5)}function Hy(t,i){do{var a=W1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ot=6,Oe=null}function Fy(t,i,a,l,h,d,_,T,C,P){var X=b.T,ee=ae.p;try{ae.p=2,b.T=null,rS(t,i,a,l,ee,h,d,_,T,C,P)}finally{b.T=X,ae.p=ee}}function rS(t,i,a,l,h,d,_,T){do Ua();while(Us!==null);if((tt&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=Zh,hu(t,l,P,d,_,T),t===Xe&&(Oe=Xe=null,ke=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||oc||(oc=!0,rd=P,sd=a,lS(Ai,function(){return Ua(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=ae.p,ae.p=2,_=tt,tt|=4,Q1(t,C),by(C,t),I1(Sd,t.containerInfo),Tc=!!Td,Sd=Td=null,t.current=C,Ey(t,C.alternate,C),_o(),tt=_,ae.p=d,b.T=a):t.current=C,oc?(oc=!1,Us=t,cl=l):Gy(t,P),P=t.pendingLanes,P===0&&(kr=null),To(C.stateNode),ui(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)P=i[C],h(P.value,{componentStack:P.stack});return(cl&3)!==0&&Ua(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===ad?hl++:(hl=0,ad=t):hl=0,fl(0),null}function Gy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function Ua(){if(Us!==null){var t=Us,i=rd;rd=0;var a=fu(cl),l=b.T,h=ae.p;try{if(ae.p=32>a?32:a,b.T=null,Us===null)var d=!1;else{a=sd,sd=null;var _=Us,T=cl;if(Us=null,cl=0,(tt&6)!==0)throw Error(s(331));var C=tt;if(tt|=4,Ny(_.current),Ry(_,_.current,T,a),tt=C,fl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(lr,_)}catch{}d=!0}return d}finally{ae.p=h,b.T=l,Gy(t,i)}}return!1}function Ky(t,i,a){i=Rn(a,i),i=If(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(ut(t,2),ui(t))}function $e(t,i,a){if(t.tag===3)Ky(t,t,a);else for(;i!==null;){if(i.tag===3){Ky(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=Rn(a,t),a=$g(2),l=Or(i,a,2),l!==null&&(Xg(a,l,i,t),ut(l,2),ui(l));break}}i=i.return}}function hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new J1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ed=!0,h.add(a),t=sS.bind(null,t,i,a),i.then(t,t))}function sS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(ke&a)===a&&(ot===4||ot===3&&(ke&62914560)===ke&&300>sn()-id?(tt&2)===0&&La(t,0):td|=a,Pa===ke&&(Pa=0)),ui(t)}function Qy(t,i){i===0&&(i=hr()),t=Ar(t,i),t!==null&&(ut(t,i),ui(t))}function aS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Qy(t,a)}function oS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Qy(t,a)}function lS(t,i){return ls(t,i)}var cc=null,ja=null,fd=!1,hc=!1,dd=!1,js=0;function ui(t){t!==ja&&t.next===null&&(ja===null?cc=ja=t:ja=ja.next=t),hc=!0,fd||(fd=!0,cS(uS))}function fl(t,i){if(!dd&&hc){dd=!0;do for(var a=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Xy(l,d))}else d=ke,d=_n(l,l===Xe?d:0),(d&3)===0||cr(l,d)||(a=!0,Xy(l,d));l=l.next}while(a);dd=!1}}function uS(){hc=fd=!1;var t=0;js!==0&&(vS()&&(t=js),js=0);for(var i=sn(),a=null,l=cc;l!==null;){var h=l.next,d=Yy(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(hc=!0)),l=h}fl(t)}function Yy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Zt(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ia(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=Xe,a=ke,a=_n(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&We===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&na(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||cr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&na(l),fu(a)){case 2:case 8:a=It;break;case 32:a=Ai;break;case 268435456:a=Eo;break;default:a=Ai}return l=$y.bind(null,t),a=ls(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&na(l),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,i){var a=t.callbackNode;if(Ua()&&t.callbackNode!==a)return null;var l=ke;return l=_n(t,t===Xe?l:0),l===0?null:(Ly(t,l,i),Yy(t,sn()),t.callbackNode!=null&&t.callbackNode===a?$y.bind(null,t):null)}function Xy(t,i){if(Ua())return null;Ly(t,i,!0)}function cS(t){ES(function(){(tt&6)!==0?ls(_t,t):t()})}function md(){return js===0&&(js=Ao()),js}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zn(""+t)}function Zy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function hS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Wy((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?Wy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ca("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var C=_?Zy(h,_):new FormData(h);Af(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?Zy(h,_):new FormData(h),Af(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var pd=0;pd<Fp.length;pd++){var gd=Fp[pd],fS=gd.toLowerCase(),dS=gd[0].toUpperCase()+gd.slice(1);zn(fS,"on"+dS)}zn(jp,"onAnimationEnd"),zn(zp,"onAnimationIteration"),zn(Bp,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(D1,"onTransitionRun"),zn(O1,"onTransitionStart"),zn(x1,"onTransitionCancel"),zn(qp,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Jy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(X){Wu(X)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,P=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(X){Wu(X)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[cs];a===void 0&&(a=i[cs]=new Set);var l=t+"__bubble";a.has(l)||(ev(i,t,2,!1),a.add(l))}function yd(t,i,a){var l=0;i&&(l|=4),ev(a,t,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[fc]){t[fc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(mS.has(a)||yd(a,!1,t),yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fc]||(i[fc]=!0,yd("selectionchange",!1,i))}}function ev(t,i,a,l){switch(Av(i)){case 2:var h=zS;break;case 8:h=BS;break;default:h=Od}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function _d(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=jn(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}yu(function(){var P=d,X=ua(a),ee=[];e:{var q=Hp.get(t);if(q!==void 0){var $=ca,he=t;switch(t){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":$=ga;break;case"focusin":he="focus",$=da;break;case"focusout":he="blur",$=da;break;case"beforeblur":case"afterblur":$=da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=wu;break;case jp:case zp:case Bp:$=ma;break;case qp:$=Cu;break;case"scroll":case"scrollend":$=vu;break;case"wheel":$=ya;break;case"copy":case"cut":case"paste":$=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ko;break;case"toggle":case"beforetoggle":$=Nu}var Se=(i&4)!==0,lt=!Se&&(t==="scroll"||t==="scrollend"),k=Se?q!==null?q+"Capture":null:q;Se=[];for(var x=P,B;x!==null;){var W=x;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=ps(x,k),W!=null&&Se.push(ml(x,W,B))),lt)break;x=x.return}0<Se.length&&(q=new $(q,he,null,a,X),ee.push({event:q,listeners:Se}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",q&&a!==Sn&&(he=a.relatedTarget||a.fromElement)&&(jn(he)||he[bi]))break e;if(($||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,$?(he=a.relatedTarget||a.toElement,$=P,he=he?jn(he):null,he!==null&&(lt=me(he),Se=he.tag,he!==lt||Se!==5&&Se!==27&&Se!==6)&&(he=null)):($=null,he=P),$!==he)){if(Se=bn,W="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Se=ko,W="onPointerLeave",k="onPointerEnter",x="pointer"),lt=$==null?q:gr($),B=he==null?q:gr(he),q=new Se(W,x+"leave",$,a,X),q.target=lt,q.relatedTarget=B,W=null,jn(X)===P&&(Se=new Se(k,x+"enter",he,a,X),Se.target=B,Se.relatedTarget=lt,W=Se),lt=W,$&&he)t:{for(Se=$,k=he,x=0,B=Se;B;B=za(B))x++;for(B=0,W=k;W;W=za(W))B++;for(;0<x-B;)Se=za(Se),x--;for(;0<B-x;)k=za(k),B--;for(;x--;){if(Se===k||k!==null&&Se===k.alternate)break t;Se=za(Se),k=za(k)}Se=null}else Se=null;$!==null&&tv(ee,q,$,Se,!1),he!==null&&lt!==null&&tv(ee,lt,he,Se,!0)}}e:{if(q=P?gr(P):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var ue=Ip;else if(St(q))if(Np)ue=R1;else{ue=b1;var De=A1}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Do(P.elementType)&&(ue=Ip):ue=w1;if(ue&&(ue=ue(t,P))){xi(ee,ue,a,X);break e}De&&De(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&la(q,"number",q.value)}switch(De=P?gr(P):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(va=De,$h=P,zo=null);break;case"focusout":zo=$h=va=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,kp(ee,a,X);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":kp(ee,a,X)}var de;if(ii)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pe?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(v&&a.locale!=="ko"&&(Pe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pe&&(de=xo()):(Jn=X,Sr="value"in Jn?Jn.value:Jn.textContent,Pe=!0)),De=dc(P,ye),0<De.length&&(ye=new Po(ye,t,null,a,X),ee.push({event:ye,listeners:De}),de?ye.data=de:(de=ie(a),de!==null&&(ye.data=de)))),(de=g?Tt(t,a):Le(t,a))&&(ye=dc(P,"onBeforeInput"),0<ye.length&&(De=new Po("onBeforeInput","beforeinput",null,a,X),ee.push({event:De,listeners:ye}),De.data=de)),hS(ee,t,P,a,X)}Jy(ee,i)})}function ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&l.unshift(ml(t,h,d)),h=ps(t,i),h!=null&&l.push(ml(t,h,d))),t=t.return}return l}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=ps(a,d),P!=null&&_.unshift(ml(a,P,C))):h||(P=ps(a,d),P!=null&&_.push(ml(a,P,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var pS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(pS,`
`).replace(gS,"")}function iv(t,i){return i=nv(i),nv(t)===i}function mc(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":_r(t,"class",l);break;case"tabIndex":_r(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(t,a,l);break;case"style":gu(t,l,d);break;case"data":if(i!=="object"){_r(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qh.get(a)||a,vr(t,a,l))}}function Ed(t,i,a,l,h,d){switch(a){case"style":gu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,_,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":C=X;break;case"defaultChecked":P=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ye(t,i,l,X,a,null)}}ds(t,d,T,C,P,_,h,!1),fs(t);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ye(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,i,_,T,a,null)}Tr(t,l,h,d),fs(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,C,l,a,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ve(dl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,P,l,a,null)}return;default:if(Do(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ed(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(t,i,T,l,a,null))}function yS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,P=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty($)||Ye(t,i,$,null,l,ee)}}for(var q in l){var $=l[q];if(ee=a[q],l.hasOwnProperty(q)&&($!=null||ee!=null))switch(q){case"type":d=$;break;case"name":h=$;break;case"checked":P=$;break;case"defaultChecked":X=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Ye(t,i,q,$,l,ee)}}Er(t,_,T,C,P,X,d,h);return;case"select":$=_=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Ye(t,i,h,d,l,C)}i=T,a=_,l=$,q!=null?ze(t,!!a,q,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,_,h,l,d)}ms(t,q,$);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ye(t,i,he,null,l,q)}for(C in l)if(q=l[C],$=a[C],l.hasOwnProperty(C)&&q!==$&&(q!=null||$!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,i,C,q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se)&&Ye(t,i,Se,null,l,q);for(P in l)if(q=l[P],$=a[P],l.hasOwnProperty(P)&&q!==$&&(q!=null||$!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ye(t,i,P,q,l,$)}return;default:if(Do(i)){for(var lt in a)q=a[lt],a.hasOwnProperty(lt)&&q!==void 0&&!l.hasOwnProperty(lt)&&Ed(t,i,lt,void 0,l,q);for(X in l)q=l[X],$=a[X],!l.hasOwnProperty(X)||q===$||q===void 0&&$===void 0||Ed(t,i,X,q,l,$);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Ye(t,i,k,null,l,q);for(ee in l)q=l[ee],$=a[ee],!l.hasOwnProperty(ee)||q===$||q==null&&$==null||Ye(t,i,ee,q,l,$)}var Td=null,Sd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function vS(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(TS)}:av;function TS(t){setTimeout(function(){throw t})}function wd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Sl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Sl(i)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function AS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function uv(t,i,a){switch(i=pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Vn=new Map,cv=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Qi=ae.d;ae.d={f:bS,r:wS,D:RS,C:CS,L:IS,m:NS,X:OS,S:DS,M:xS};function bS(){var t=Qi.f(),i=lc();return t||i}function wS(t){var i=wi(t);i!==null&&i.tag===5&&i.type==="form"?kg(i):Qi.r(t)}var Ba=typeof document>"u"?null:document;function hv(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=st(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),Je(i),l.head.appendChild(i)))}}function RS(t){Qi.D(t),hv("dns-prefetch",t,null)}function CS(t,i){Qi.C(t,i),hv("preconnect",t,i)}function IS(t,i,a){Qi.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}Vn.has(d)||(t=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),jt(i,"link",t),Je(i),l.head.appendChild(i)))}}function NS(t,i){Qi.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Vn.has(d)&&(t=N({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),jt(l,"link",t),Je(l),a.head.appendChild(l)}}}function DS(t,i,a){Qi.S(t,i,a);var l=Ba;if(l&&t){var h=yr(l).hoistableStyles,d=qa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(pl(d)))T.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Cd(t,a);var C=_=l.createElement("link");Je(C),jt(C,"link",t),C._p=new Promise(function(P,X){C.onload=P,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function OS(t,i){Qi.X(t,i);var a=Ba;if(a&&t){var l=yr(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=N({src:t,async:!0},i),(i=Vn.get(h))&&Id(t,i),d=a.createElement("script"),Je(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xS(t,i){Qi.M(t,i);var a=Ba;if(a&&t){var l=yr(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=N({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&Id(t,i),d=a.createElement("script"),Je(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,i,a,l){var h=(h=vn.current)?gc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=yr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=yr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(pl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||MS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=yr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+st(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function MS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),Je(i),t.head.appendChild(i))}function Ha(t){return'[src="'+st(t)+'"]'}function gl(t){return"script[async]"+t}function mv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return i.instance=l,Je(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),jt(l,"style",h),yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,Je(d),d;l=dv(a),(h=Vn.get(h))&&Cd(l,h),d=(t.ownerDocument||t).createElement("link"),Je(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),jt(d,"link",l),i.state.loading|=4,yc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,Je(h),h):(l=a,(h=Vn.get(d))&&(l=N({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Je(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,t));return i.instance}function yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Cd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vc=null;function pv(t,i,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pr]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function VS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function PS(){}function LS(t,i,a){if(yl===null)throw Error(s(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=t.querySelector(pl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_c.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Je(d);return}d=t.ownerDocument||t,a=dv(a),(h=Vn.get(h))&&Cd(a,h),d=d.createElement("link"),Je(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=_c.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function kS(){if(yl===null)throw Error(s(475));var t=yl;return t.stylesheets&&t.count===0&&Nd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Nd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Nd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,i.forEach(US,t),Ec=null,_c.call(t))}function US(t,i){if(!(i.state.loading&4)){var a=Ec.get(t);if(a)var l=a.get(null);else{a=new Map,Ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:L,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function jS(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vv(t,i,a,l,h,d,_,T,C,P,X,ee){return t=new jS(t,i,a,_,T,C,P,ee),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function _v(t){return t?(t=Ta,t):Ta}function Ev(t,i,a,l,h,d){h=_v(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(nn(a,t,i),tl(a,t,i))}function Tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Dd(t,i){Tv(t,i),(t=t.alternate)&&Tv(t,i)}function Sv(t){if(t.tag===13){var i=Ar(t,67108864);i!==null&&nn(i,t,67108864),Dd(t,67108864)}}var Tc=!0;function zS(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=2,Od(t,i,a,l)}finally{ae.p=d,b.T=h}}function BS(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=8,Od(t,i,a,l)}finally{ae.p=d,b.T=h}}function Od(t,i,a,l){if(Tc){var h=xd(l);if(h===null)_d(t,i,l,Sc,a),bv(t,l);else if(HS(h,t,i,a,l))l.stopPropagation();else if(bv(t,l),i&4&&-1<qS.indexOf(t)){for(;h!==null;){var d=wi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Un(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Zt(_);T.entanglements[1]|=C,_&=~C}ui(d),(tt&6)===0&&(sc=sn()+500,fl(0))}}break;case 13:T=Ar(d,2),T!==null&&nn(T,d,2),lc(),Dd(d,2)}if(d=xd(l),d===null&&_d(t,i,l,Sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else _d(t,i,l,null,a)}}function xd(t){return t=ua(t),Md(t)}var Sc=null;function Md(t){if(Sc=null,t=jn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=He(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Sc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ou()){case _t:return 2;case It:return 8;case Ai:case lu:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ur=null,jr=null,zr=null,_l=new Map,El=new Map,Br=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wi(i),i!==null&&Sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function HS(t,i,a,l,h){switch(i){case"focusin":return Ur=Tl(Ur,t,i,a,l,h),!0;case"dragenter":return jr=Tl(jr,t,i,a,l,h),!0;case"mouseover":return zr=Tl(zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,Tl(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,t,i,a,l,h)),!0}return!1}function wv(t){var i=jn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=He(a),i!==null){t.blockedOn=i,mr(t.priority,function(){if(a.tag===13){var l=gn(),h=Ar(a,l);h!==null&&nn(h,a,l),Dd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Sn=l,a.target.dispatchEvent(l),Sn=null}else return i=wi(a),i!==null&&Sv(i),t.blockedOn=a,!1;i.shift()}return!0}function Rv(t,i,a){Ac(t)&&a.delete(i)}function FS(){Vd=!1,Ur!==null&&Ac(Ur)&&(Ur=null),jr!==null&&Ac(jr)&&(jr=null),zr!==null&&Ac(zr)&&(zr=null),_l.forEach(Rv),El.forEach(Rv)}function bc(t,i){t.blockedOn===i&&(t.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FS)))}var wc=null;function Cv(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var d=wi(a);d!==null&&(t.splice(i,3),i-=3,Af(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(t){function i(C){return bc(C,t)}Ur!==null&&bc(Ur,t),jr!==null&&bc(jr,t),zr!==null&&bc(zr,t),_l.forEach(i),El.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)wv(a),a.blockedOn===null&&Br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||Cv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)T=_.formAction;else if(Md(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Cv(a)}}}function Pd(t){this._internalRoot=t}Rc.prototype.render=Pd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();Ev(a,l,t,i,null,null)},Rc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ua(),Ev(t.current,2,null,t,null,null),lc(),i[bi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var i=du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,t),a===0&&wv(t)}};var Iv=e.version;if(Iv!=="19.0.0")throw Error(s(527,Iv,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var GS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{lr=Cc.inject(GS),Ft=Cc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Gg,d=Kg,_=Qg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=vv(t,1,!1,null,null,a,l,h,d,_,T,null),t[bi]=i.current,vd(t.nodeType===8?t.parentNode:t),new Pd(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Gg,_=Kg,T=Qg,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=vv(t,1,!0,i,a??null,l,h,d,_,T,C,P),i.context=_v(null),a=i.current,l=gn(),h=Dr(l),h.callback=null,Or(a,h,l),i.current.lanes=l,ut(i,l),ui(i),t[bi]=i.current,vd(t),new Rc(i)},bl.version="19.0.0",bl}var Uv;function tA(){if(Uv)return kd.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=eA(),kd.exports}var nA=tA(),F=Om();const iA=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(I=64)),s.push(n[E],n[w],n[I],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):rA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new sA;const I=u<<2|m>>4;if(s.push(I),y!==64){const L=m<<4&240|y>>2;if(s.push(L),w!==64){const U=y<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const e=_0(r);return E0.encodeByteArray(e,!0)},Yc=function(r){return aA(r).replace(/\./g,"")},T0=function(r){try{return E0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof jv>"u")return;const r=jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&T0(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},hA=r=>{const e=S0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},A0=()=>{var r;return(r=ph())===null||r===void 0?void 0:r.config},b0=r=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function pA(){var r;const e=(r=ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function EA(){return!pA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function bA(r,e){return r.replace(wA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wA=/\{\$([^}]+)}/g;function RA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(zv(u)&&zv(f)){if(!Hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function CA(r,e){const n=new IA(r,e);return n.subscribe.bind(n)}class IA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(r){return r===zs?void 0:r}function xA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const VA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},PA=xe.INFO,LA={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},kA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const UA=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function jA(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zA(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,nm=new WeakMap,R0=new WeakMap,Hd=new WeakMap,Mm=new WeakMap;function BA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&w0.set(n,r)}).catch(()=>{}),Mm.set(e,r),e}function qA(r){if(nm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});nm.set(r,e)}let im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HA(r){im=r(im)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Fd(this),e,...n);return R0.set(s,e.sort?e.sort():[e]),Yr(s)}:zA().includes(r)?function(...e){return r.apply(Fd(this),e),Yr(w0.get(this))}:function(...e){return Yr(r.apply(Fd(this),e))}}function GA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&qA(r),UA(r,jA())?new Proxy(r,im):r)}function Yr(r){if(r instanceof IDBRequest)return BA(r);if(Hd.has(r))return Hd.get(r);const e=GA(r);return e!==r&&(Hd.set(r,e),Mm.set(e,r)),e}const Fd=r=>Mm.get(r);function KA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Yr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Yr(f.result),p.oldVersion,p.newVersion,Yr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const QA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],Gd=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Gd.set(e,u),u}HA(r=>({...r,get:(e,n,s)=>Hv(e,n)||r.get(e,n,s),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",Fv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new xm("@firebase/app"),WA="@firebase/app-compat",ZA="@firebase/analytics-compat",JA="@firebase/analytics",eb="@firebase/app-check-compat",tb="@firebase/app-check",nb="@firebase/auth",ib="@firebase/auth-compat",rb="@firebase/database",sb="@firebase/data-connect",ab="@firebase/database-compat",ob="@firebase/functions",lb="@firebase/functions-compat",ub="@firebase/installations",cb="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",db="@firebase/performance",mb="@firebase/performance-compat",pb="@firebase/remote-config",gb="@firebase/remote-config-compat",yb="@firebase/storage",vb="@firebase/storage-compat",_b="@firebase/firestore",Eb="@firebase/vertexai",Tb="@firebase/firestore-compat",Sb="firebase",Ab="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",bb={[rm]:"fire-core",[WA]:"fire-core-compat",[JA]:"fire-analytics",[ZA]:"fire-analytics-compat",[tb]:"fire-app-check",[eb]:"fire-app-check-compat",[nb]:"fire-auth",[ib]:"fire-auth-compat",[rb]:"fire-rtdb",[sb]:"fire-data-connect",[ab]:"fire-rtdb-compat",[ob]:"fire-fn",[lb]:"fire-fn-compat",[ub]:"fire-iid",[cb]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[db]:"fire-perf",[mb]:"fire-perf-compat",[pb]:"fire-rc",[gb]:"fire-rc-compat",[yb]:"fire-gcs",[vb]:"fire-gcs-compat",[_b]:"fire-fst",[Tb]:"fire-fst-compat",[Eb]:"fire-vertex","fire-js":"fire-js",[Sb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,wb=new Map,am=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const e=r.name;if(am.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const n of $c.values())Gv(n,r);for(const n of wb.values())Gv(n,r);return!0}function Vm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Ql("app","Firebase",Rb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=Ab;function C0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(n||(n=A0()),!n)throw $r.create("no-options");const u=$c.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw $r.create("duplicate-app",{appName:o})}const f=new MA(o);for(const p of am.values())f.addComponent(p);const m=new Cb(n,s,f);return $c.set(o,m),m}function I0(r=sm){const e=$c.get(r);if(!e&&r===sm&&A0())return C0();if(!e)throw $r.create("no-app",{appName:r});return e}function Xr(r,e,n){var s;let o=(s=bb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Ja(new Fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebase-heartbeat-database",Nb=1,kl="firebase-heartbeat-store";let Kd=null;function N0(){return Kd||(Kd=KA(Ib,Nb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function Db(r){try{const n=(await N0()).transaction(kl),s=await n.objectStore(kl).get(D0(r));return await n.done,s}catch(e){if(e instanceof rr)Ji.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function Kv(r,e){try{const s=(await N0()).transaction(kl,"readwrite");await s.objectStore(kl).put(e,D0(r)),await s.done}catch(n){if(n instanceof rr)Ji.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function D0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=1024,xb=30;class Mb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xb){const f=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:s,unsentEntries:o}=Vb(this._heartbeatsCache.heartbeats),u=Yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function Vb(r,e=Ob){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Pb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Db(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yv(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function Lb(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r){Ja(new Fs("platform-logger",e=>new $A(e),"PRIVATE")),Ja(new Fs("heartbeat",e=>new Mb(e),"PRIVATE")),Xr(rm,Fv,r),Xr(rm,Fv,"esm2017"),Xr("fire-js","")}kb("");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,O0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function b(){}b.prototype=R.prototype,M.D=R.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(N,V,z){for(var D=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)D[vt-2]=arguments[vt];return R.prototype[V].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,b){b||(b=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(V=0;16>V;++V)N[V]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=M.g[0],b=M.g[1],V=M.g[2];var z=M.g[3],D=R+(z^b&(V^z))+N[0]+3614090360&4294967295;R=b+(D<<7&4294967295|D>>>25),D=z+(V^R&(b^V))+N[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(b^z&(R^b))+N[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=b+(R^V&(z^R))+N[3]+3250441966&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(z^b&(V^z))+N[4]+4118548399&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(V^R&(b^V))+N[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(b^z&(R^b))+N[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=b+(R^V&(z^R))+N[7]+4249261313&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(z^b&(V^z))+N[8]+1770035416&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(V^R&(b^V))+N[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(b^z&(R^b))+N[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=b+(R^V&(z^R))+N[11]+2304563134&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(z^b&(V^z))+N[12]+1804603682&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(V^R&(b^V))+N[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(b^z&(R^b))+N[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=b+(R^V&(z^R))+N[15]+1236535329&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(V^z&(b^V))+N[1]+4129170786&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^V&(R^b))+N[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(z^R))+N[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(V^z))+N[0]+3921069994&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(b^V))+N[5]+3593408605&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^V&(R^b))+N[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(z^R))+N[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(V^z))+N[4]+3889429448&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(b^V))+N[9]+568446438&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^V&(R^b))+N[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(z^R))+N[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(V^z))+N[8]+1163531501&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(b^V))+N[13]+2850285829&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^V&(R^b))+N[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(z^R))+N[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(V^z))+N[12]+2368359562&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(b^V^z)+N[5]+4294588738&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^V)+N[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^b)+N[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=b+(V^z^R)+N[14]+4259657740&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^z)+N[1]+2763975236&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^V)+N[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^b)+N[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=b+(V^z^R)+N[10]+3200236656&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^z)+N[13]+681279174&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^V)+N[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^b)+N[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=b+(V^z^R)+N[6]+76029189&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^z)+N[9]+3654602809&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^V)+N[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^b)+N[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=b+(V^z^R)+N[2]+3299628645&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(V^(b|~z))+N[0]+4096336452&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~V))+N[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~b))+N[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=b+(z^(V|~R))+N[5]+4237533241&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~z))+N[12]+1700485571&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~V))+N[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~b))+N[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=b+(z^(V|~R))+N[1]+2240044497&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~z))+N[8]+1873313359&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~V))+N[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~b))+N[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=b+(z^(V|~R))+N[13]+1309151649&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~z))+N[4]+4149444226&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~V))+N[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~b))+N[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=b+(z^(V|~R))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var b=R-this.blockSize,N=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=b;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(N[V++]=M.charCodeAt(z++),V==this.blockSize){o(this,N),V=0;break}}else for(;z<R;)if(N[V++]=M[z++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var b=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=b&255,b/=256;for(this.u(M),M=Array(16),R=b=0;4>R;++R)for(var N=0;32>N;N+=8)M[b++]=this.g[R]>>>N&255;return M};function u(M,R){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=R(M)}function f(M,R){this.h=R;for(var b=[],N=!0,V=M.length-1;0<=V;V--){var z=M[V]|0;N&&z==R||(b[V]=z,N=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return H(y(-M));for(var R=[],b=1,N=0;M>=b;N++)R[N]=M/b|0,b*=4294967296;return new f(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return H(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(R,8)),N=w,V=0;V<M.length;V+=8){var z=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+z),R);8>z?(z=y(Math.pow(R,z)),N=N.j(z).add(y(D))):(N=N.j(b),N=N.add(y(D)))}return N}var w=p(0),I=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();for(var M=0,R=1,b=0;b<this.g.length;b++){var N=this.i(b);M+=(0<=N?N:4294967296+N)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(Y(this))return"-"+H(this).toString(M);for(var R=y(Math.pow(M,6)),b=this,N="";;){var V=ce(b,R).g;b=K(b,V.j(R));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=V,U(b))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=K(this,M),Y(M)?-1:U(M)?0:1};function H(M){for(var R=M.g.length,b=[],N=0;N<R;N++)b[N]=~M.g[N];return new f(b,~M.h).add(I)}r.abs=function(){return Y(this)?H(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],N=0,V=0;V<=R;V++){var z=N+(this.i(V)&65535)+(M.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=D>>>16,z&=65535,D&=65535,b[V]=D<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function K(M,R){return M.add(H(R))}r.j=function(M){if(U(this)||U(M))return w;if(Y(this))return Y(M)?H(this).j(H(M)):H(H(this).j(M));if(Y(M))return H(this.j(H(M)));if(0>this.l(L)&&0>M.l(L))return y(this.m()*M.m());for(var R=this.g.length+M.g.length,b=[],N=0;N<2*R;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var z=this.i(N)>>>16,D=this.i(N)&65535,vt=M.i(V)>>>16,ft=M.i(V)&65535;b[2*N+2*V]+=D*ft,Q(b,2*N+2*V),b[2*N+2*V+1]+=z*ft,Q(b,2*N+2*V+1),b[2*N+2*V+1]+=D*vt,Q(b,2*N+2*V+1),b[2*N+2*V+2]+=z*vt,Q(b,2*N+2*V+2)}for(N=0;N<R;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=R;N<2*R;N++)b[N]=0;return new f(b,0)};function Q(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function J(M,R){this.g=M,this.h=R}function ce(M,R){if(U(R))throw Error("division by zero");if(U(M))return new J(w,w);if(Y(M))return R=ce(H(M),R),new J(H(R.g),H(R.h));if(Y(R))return R=ce(M,H(R)),new J(H(R.g),R.h);if(30<M.g.length){if(Y(M)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var b=I,N=R;0>=N.l(M);)b=le(b),N=le(N);var V=be(b,1),z=be(N,1);for(N=be(N,2),b=be(b,2);!U(N);){var D=z.add(N);0>=D.l(M)&&(V=V.add(b),z=D),N=be(N,1),b=be(b,1)}return R=K(M,V.j(R)),new J(V,R)}for(V=w;0<=M.l(R);){for(b=Math.max(1,Math.floor(M.m()/R.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=y(b),D=z.j(R);Y(D)||0<D.l(M);)b-=N,z=y(b),D=z.j(R);U(z)&&(z=I),V=V.add(z),M=K(M,D)}return new J(V,M)}r.A=function(M){return ce(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)&M.i(N);return new f(b,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)|M.i(N);return new f(b,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)^M.i(N);return new f(b,this.h^M.h)};function le(M){for(var R=M.g.length+1,b=[],N=0;N<R;N++)b[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(b,M.h)}function be(M,R){var b=R>>5;R%=32;for(var N=M.g.length-b,V=[],z=0;z<N;z++)V[z]=0<R?M.i(z+b)>>>R|M.i(z+b+1)<<32-R:M.i(z+b);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,O0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Wr=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x0,Nl,M0,Lc,om,V0,P0,L0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function I(c,g,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,I.apply(null,arguments)}function L(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,G){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return g.prototype[j].apply(S,ie)}}function Y(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function H(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const j=c.length||0,G=S.length||0;c.length=j+G;for(let ie=0;ie<G;ie++)c[j+ie]=S[ie]}else c.push(S)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function be(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function M(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<b.length;G++)v=b[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=He;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class vt{constructor(){this.h=this.g=null}add(g,v){const S=ft.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ft=new K(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,me=!1,He=new vt,O=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){z(v)}var g=ft;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ce(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{ce(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}U(Ce,se);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(c,g,v,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,g,v,S,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=vn(c,g,S,j);return-1<ie?(g=c[ie],v||(g.fa=!1)):(g=new rt(g,this.src,G,!!S,j),g.fa=v,c.push(g)),g};function Ti(c,g){var v=g.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=j)&&Array.prototype.splice.call(S,j,1),G&&(Ke(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function vn(c,g,v,S){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return j}return-1}var ar="closure_lm_"+(1e6*Math.random()|0),or={};function Si(c,g,v,S,j){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Si(c,g[G],v,S,j);return null}return v=ou(v),c&&c[dt]?c.K(g,v,y(S)?!!S.capture:!1,j):vo(c,g,v,!1,S,j)}function vo(c,g,v,S,j,G){if(!g)throw Error("Invalid event type");var ie=y(j)?!!j.capture:!!j,Pe=_o(c);if(Pe||(c[ar]=Pe=new Wt(c)),v=Pe.add(g,v,S,ie,G),v.proxy)return v;if(S=ea(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ae||(j=ie),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(na(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function c(v){return g.call(c.src,c.listener,v)}const g=kh;return c}function ta(c,g,v,S,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)ta(c,g[G],v,S,j);else S=y(S)?!!S.capture:!!S,v=ou(v),c&&c[dt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=vn(G,v,S,j),-1<v&&(Ke(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=_o(c))&&(g=c.g[g.toString()],c=-1,g&&(c=vn(g,v,S,j)),(v=-1<c?g[c]:null)&&ls(v))}function ls(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[dt])Ti(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(na(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=_o(g))?(Ti(v,c),v.h==0&&(v.src=null,g[ar]=null)):Ke(c)}}}function na(c){return c in or?or[c]:or[c]="on"+c}function kh(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&ls(c),c=v.call(S,g)}return c}function _o(c){return c=c[ar],c instanceof Wt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(g){return c.handleEvent(g)}),c[sn])}function _t(){fe.call(this),this.i=new Wt(this),this.M=this,this.F=null}U(_t,fe),_t.prototype[dt]=!0,_t.prototype.removeEventListener=function(c,g,v,S){ta(this,c,g,v,S)};function It(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(S,c),N(g,j)}if(j=!0,v)for(var G=v.length-1;0<=G;G--){var ie=g.g=v[G];j=Ai(ie,S,!0,g)&&j}if(ie=g.g=c,j=Ai(ie,S,!0,g)&&j,j=Ai(ie,S,!1,g)&&j,v)for(G=0;G<v.length;G++)ie=g.g=v[G],j=Ai(ie,S,!1,g)&&j}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Ke(v[S]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},_t.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Ai(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==v){var Pe=ie.listener,Tt=ie.ha||ie.src;ie.fa&&Ti(c.i,ie),j=Pe.call(Tt,S)!==!1&&j}}return j&&!S.defaultPrevented}function lu(c,g,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Eo(c){c.g=lu(()=>{c.g=null,c.i&&(c.i=!1,Eo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Uh extends fe{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){fe.call(this),this.h=c,this.g={}}U(us,fe);var lr=[];function Ft(c){be(c.g,function(g,v){this.g.hasOwnProperty(v)&&ls(g)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),Ft(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=m.JSON.stringify,Yn=m.JSON.parse,Zt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function uu(c){return c.h||(c.h=c.i())}function cu(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){se.call(this,"d")}U(ur,se);function Un(){se.call(this,"c")}U(Un,se);var _n={},cr=null;function ia(){return cr=cr||new _t}_n.La="serverreachability";function Ao(c){se.call(this,_n.La,c)}U(Ao,se);function hr(c){const g=ia();It(g,new Ao(g))}_n.STAT_EVENT="statevent";function ra(c,g){se.call(this,_n.STAT_EVENT,c),this.stat=g}U(ra,se);function ut(c){const g=ia();It(g,new ra(g,c))}_n.Ma="timingevent";function hu(c,g){se.call(this,_n.Ma,c),this.size=g}U(hu,se);function fr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function fu(c,g,v,S,j,G){c.info(function(){if(c.g)if(G)for(var ie="",Pe=G.split("&"),Tt=0;Tt<Pe.length;Tt++){var Le=Pe[Tt].split("=");if(1<Le.length){var Ot=Le[0];Le=Le[1];var St=Ot.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Ot+"="+Le+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+ie})}function du(c,g,v,S,j,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+G+" "+ie})}function mr(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nt(c,v)+(S?" "+S:"")})}function Xn(c,g){c.info(function(){return"TIMEOUT: "+g})}dr.prototype.info=function(){};function Nt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return To(v)}catch{return g}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function sa(){}U(sa,So),sa.prototype.g=function(){return new XMLHttpRequest},sa.prototype.i=function(){return{}},cs=new sa;function Wn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var pr={},hs={};function jn(c,g,v){c.L=1,c.v=ms(st(g)),c.m=v,c.P=!0,wi(c,null)}function wi(c,g){c.F=Date.now(),Je(c),c.A=st(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ii(v.i,"t",S),c.C=0,v=c.j.J,c.h=new bo,c.g=Cu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Uh(I(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(lr[0]=j.toString()),j=lr);for(var G=0;G<j.length;G++){var ie=Si(v,j[G],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hr(),fu(c.i,c.u,c.A,c.l,c.R,c.m)}Wn.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const St=bn(this.g);var g=this.g.Ba();const xi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||St!=4||g==7||(g==8||0>=xi?hr(3):hr(2)),aa(this);var v=this.g.Z();this.X=v;t:if(gr(this)){var S=_u(this.g);c="";var j=S.length,G=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),cn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==j-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,du(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Tt=this.g;if((Pe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pe)){var Le=Pe;break t}}Le=null}if(v=Le)mr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hn(this,v);else{this.o=!1,this.s=3,ut(12),an(this),cn(this);break e}}if(this.P){v=!0;let Lt;for(;!this.J&&this.C<ie.length;)if(Lt=yr(this,ie),Lt==hs){St==4&&(this.s=4,ut(14),v=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==pr){this.s=4,ut(15),mr(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else mr(this.i,this.l,Lt,null),hn(this,Lt);if(gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)mr(this.i,this.l,ie,"[Invalid Chunked Response]"),an(this),cn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ts(Ot),Ot.M=!0,ut(11))}}else mr(this.i,this.l,ie,null),hn(this,ie);St==4&&an(this),this.o&&!this.J&&(St==4?bu(this.j,this):(this.o=!1,Je(this)))}else Fh(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),an(this),cn(this)}}}catch{}finally{}};function gr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?hs:(v=Number(g.substring(v,S)),isNaN(v)?pr:(S+=1,S+v>g.length?hs:(g=g.slice(S,S+v),c.C=S+v,g)))}Wn.prototype.cancel=function(){this.J=!0,an(this)};function Je(c){c.S=Date.now()+c.I,wo(c,c.I)}function wo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fr(I(c.ba,c),g)}function aa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xn(this.i,this.A),this.L!=2&&(hr(),ut(17)),an(this),this.s=2,cn(this)):wo(this,this.S-c)};function cn(c){c.j.G==0||c.J||bu(c.j,c)}function an(c){aa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ft(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||vr(v.h,c))){if(!c.K&&vr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ga(v),ma(v);else break e;Lo(v),ut(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=fr(I(v.Za,v),6e3));if(1>=mu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Oi(v,11)}else if((c.K||v.g==c)&&ga(v),!Q(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Le=j[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Ot=Le[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const St=Le[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const xi=Le[5];xi!=null&&typeof xi=="number"&&0<xi&&(S=1.5*xi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Lt=c.g;if(Lt){const ri=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var G=S.h;G.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(_r(G,G.h),G.h=null))}if(S.D){const Uo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(S.ya=Uo,ze(S.I,S.D,Uo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=Ru(S,S.J?S.ia:null,S.W),ie.K){En(S.h,ie);var Pe=ie,Tt=S.L;Tt&&(Pe.I=Tt),Pe.B&&(aa(Pe),Je(Pe)),S.g=ie}else Su(S);0<v.i.length&&pa(v)}else Le[0]!="stop"&&Le[0]!="close"||Oi(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Oi(v,7):Vo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}hr(4)}catch{}}var jh=class{constructor(c,g){this.g=c,this.map=g}};function Ro(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mu(c){return c.h?1:c.g?c.g.size:0}function vr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function _r(c,g){c.g?c.g.add(g):c.h=g}function En(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ro.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Y(c.i)}function pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function zh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function fs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=zh(c),S=pu(c),j=S.length,G=0;G<j;G++)g.call(void 0,S[G],v&&v[G],c)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var G=c[v].substring(0,S);j=c[v].substring(S+1)}else G=c[v];g(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,Er(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var g=c.i,v=new Zn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),la(this,v),this.m=c.m}else c&&(g=String(c).match(Io))?(this.h=!1,Er(this,g[1]||"",!0),this.o=Tr(g[2]||""),this.g=Tr(g[3]||"",!0),ds(this,g[4]),this.l=Tr(g[5]||"",!0),la(this,g[6]||"",!0),this.m=Tr(g[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}Ri.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Tn(g,No,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Tn(g,No,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Tn(v,v.charAt(0)=="/"?Do:gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Tn(v,Hh)),c.join("")};function st(c){return new Ri(c)}function Er(c,g,v){c.j=v?Tr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function la(c,g,v){g instanceof Zn?(c.i=g,Oo(c.i,c.h)):(v||(g=Tn(g,qh)),c.i=new Zn(g,c.h))}function ze(c,g,v){c.i.set(g,v)}function ms(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Bh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,gu=/[#\?:]/g,Do=/[#\?]/g,qh=/[#\?@]/g,Hh=/#/g;function Zn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Zn.prototype,r.add=function(c,g){Sn(this),this.i=null,c=Ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ua(c,g){Sn(c),g=Ni(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ci(c,g){return Sn(c),g=Ni(c,g),c.g.has(g)}r.forEach=function(c,g){Sn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(g,j,S,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const j=c[S];for(let G=0;G<j.length;G++)v.push(g[S])}return v},r.V=function(c){Sn(this);let g=[];if(typeof c=="string")Ci(this,c)&&(g=g.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Sn(this),this.i=null,c=Ni(this,c),Ci(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ii(c,g,v){ua(c,g),0<v.length&&(c.i=null,c.g.set(Ni(c,g),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var j=G;ie[S]!==""&&(j+="="+encodeURIComponent(String(ie[S]))),c.push(j)}}return this.i=c.join("&")};function Ni(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Oo(c,g){g&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(ua(this,S),Ii(this,j,v))},c)),c.j=g}function yu(c,g){const v=new dr;if(m.Image){const S=new Image;S.onload=L(An,v,"TestLoadImage: loaded",!0,g,S),S.onerror=L(An,v,"TestLoadImage: error",!1,g,S),S.onabort=L(An,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=L(An,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ps(c,g){const v=new dr,S=new AbortController,j=setTimeout(()=>{S.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function gs(){this.g=new Zt}function Jn(c,g,v){const S=v||"";try{fs(c,function(j,G){let ie=j;y(j)&&(ie=To(j)),g.push(S+G+"="+encodeURIComponent(ie))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Sr,So),Sr.prototype.g=function(){return new Di(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function Di(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Di,_t),r=Di.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ei(this):ti(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},r.Qa=function(c){this.g&&(this.response=c,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let g="";return be(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Dt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Mo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ze(c,g,v))}function Fe(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Fe,_t);var ca=/^https?$/i,ys=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?uu(this.o):uu(cs),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){vu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,g,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){vu(this,G)}};function vu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ha(c),ni(c)}function ha(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},r.bb=function(){fa(this)};function fa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)lu(c.Ea,0,c);else if(It(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ie===0){var j=String(c.D).match(Io)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!ca.test(j?j.toLowerCase():"")}v=S}if(v)It(c,"complete"),It(c,"success");else{c.m=6;try{var G=2<bn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ha(c)}}finally{ni(c)}}}}function ni(c,g){if(c.g){vs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{v.onreadystatechange=S}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function _u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var v=V(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[j]||[];g[j]=G,G.push(v)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function da(c){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,c),this.cb=_s("retryDelaySeedMs",1e4,c),this.Wa=_s("forwardChannelMaxRetries",2,c),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=da.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){ut(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ru(this,null,this.W),pa(this)};function Vo(c){if(Eu(c),c.G==3){var g=c.U++,v=st(c.I);if(ze(v,"SID",c.K),ze(v,"RID",g),ze(v,"TYPE","terminate"),Es(c,v),g=new Wn(c,c.j,g),g.L=2,g.v=ms(st(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}wu(c)}function ma(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Eu(c){ma(c),c.u&&(m.clearTimeout(c.u),c.u=null),ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function pa(c){if(!Co(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ee||O(),me||(Ee(),me=!0),He.add(g,c),c.B=0}}function Gh(c,g){return mu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fr(I(c.Ga,c,g),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Wn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Tu(this,j,g),v=st(this.I),ze(v,"RID",c),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Es(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Mo(G)))+"&"+g:this.m&&Dt(v,this.m,G)),_r(this.h,j),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",g),ze(v,"SID","null"),j.T=!0,jn(j,v,null)):jn(j,v,g),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||Co(this.h)||Po(this))};function Po(c,g){var v;g?v=g.l:v=c.U++;const S=st(c.I);ze(S,"SID",c.K),ze(S,"RID",v),ze(S,"AID",c.T),Es(c,S),c.m&&c.o&&Dt(S,c.m,c.o),v=new Wn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Tu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_r(c.h,v),jn(v,S,g)}function Es(c,g){c.H&&be(c.H,function(v,S){ze(g,S,v)}),c.l&&fs({},function(v,S){ze(g,S,v)})}function Tu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?I(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=j[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Pe=!0;for(let Tt=0;Tt<v;Tt++){let Le=j[Tt].g;const Ot=j[Tt].map;if(Le-=G,0>Le)G=Math.max(0,j[Tt].g-100),Pe=!1;else try{Jn(Ot,ie,"req"+Le+"_")}catch{S&&S(Ot)}}if(Pe){S=ie.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Su(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ee||O(),me||(Ee(),me=!0),He.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fr(I(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fr(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),ma(this),Au(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Au(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=st(c.qa);ze(g,"RID","rpc"),ze(g,"SID",c.K),ze(g,"AID",c.T),ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(g,"TO",c.ja),ze(g,"TYPE","xmlhttp"),Es(c,g),c.m&&c.o&&Dt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ms(st(g)),v.m=null,v.P=!0,wi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ma(this),Lo(this),ut(19))};function ga(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function bu(c,g){var v=null;if(c.g==g){ga(c),Ts(c),c.g=null;var S=2}else if(vr(c.h,g))v=g.D,En(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;S=ia(),It(S,new hu(S,v)),pa(c)}else Su(c);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&Gh(c,g)||S==2&&Lo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function ko(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var v=I(c.fb,c),S=c.Xa;const j=!S;S=new Ri(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Er(S,"https"),ms(S),j?yu(S.toString(),v):ps(S.toString(),v)}else ut(2);c.G=0,c.l&&c.l.sa(g),wu(c),Eu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const g=Jt(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Ru(c,g,v){var S=v instanceof Ri?st(v):new Ri(v);if(S.g!="")g&&(S.g=g+"."+S.g),ds(S,S.s);else{var j=m.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var G=new Ri(null);S&&Er(G,S),g&&(G.g=g),j&&ds(G,j),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&ze(S,v,g),ze(S,"VER",c.la),Es(c,S),S}function Cu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new Sr({eb:v})):new Fe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ya(){}ya.prototype.g=function(c,g){return new en(c,g)};function en(c,g){_t.call(this),this.g=new da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}U(en,_t),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=To(c),c=v);g.i.push(new jh(g.Ya++,c)),g.G==3&&pa(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.aa.N.call(this)};function Nu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(Nu,ur);function Du(){Un.call(this),this.status=1}U(Du,Un);function ii(c){this.g=c}U(ii,Iu),ii.prototype.ua=function(){It(this.g,"a")},ii.prototype.ta=function(c){It(this.g,new Nu(c))},ii.prototype.sa=function(c){It(this.g,new Du)},ii.prototype.ra=function(){It(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,L0=function(){return new ya},P0=function(){return ia()},V0=_n,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Lc=Et,bi.COMPLETE="complete",M0=bi,cu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Nl=cu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,x0=Fe}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Wv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new xm("@firebase/firestore");function Fa(){return Gs.logLevel}function oe(r,...e){if(Gs.logLevel<=xe.DEBUG){const n=e.map(Pm);Gs.debug(`Firestore (${co}): ${r}`,...n)}}function er(r,...e){if(Gs.logLevel<=xe.ERROR){const n=e.map(Pm);Gs.error(`Firestore (${co}): ${r}`,...n)}}function eo(r,...e){if(Gs.logLevel<=xe.WARN){const n=e.map(Pm);Gs.warn(`Firestore (${co}): ${r}`,...n)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,k0(r,s,n)}function k0(r,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||k0(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class jb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class Bb{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qb{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Bb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Fb(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function lm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=j0(),f=Gb(u.encode(Jv(r,n)),u.encode(Jv(e,n)));return f!==0?f:Ne(s,o)}}n+=s>65535?2:1}return Ne(r.length,e.length)}function Jv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Gb(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ne(r[n],e[n]);return Ne(r.length,e.length)}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,t_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*t_);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e_)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Rt(0,0))}static max(){return new Te(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=ci.isNumericId(e),o=ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class Ze extends ci{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const Kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ci{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return Kb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new qt([n_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ze.fromString(e))}static fromName(e){return new ge(Ze.fromString(e).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function Qb(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new es(o,ge.empty(),e)}function Yb(r){return new es(r.readTime,r.key,Ul)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(Te.min(),ge.empty(),Ul)}static max(){return new es(Te.max(),ge.empty(),Ul)}}function $b(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==Xb)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Zb(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function yh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function Jb(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="";function ew(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=i_(e)),e=tw(r.get(n),e);return i_(e)}function tw(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case B0:n+="";break;default:n+=u}}return n}function i_(r){return r+B0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function $s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function q0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Ct(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new H0("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const nw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=nw.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(r.seconds),nanos:ht(r.nanos)}}function ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="server_timestamp",G0="__type__",K0="__previous_value__",Q0="__local_write_time__";function km(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[G0])===null||n===void 0?void 0:n.stringValue)===F0}function vh(r){const e=r.mapValue.fields[K0];return km(e)?vh(e):e}function jl(r){const e=ts(r.mapValue.fields[Q0].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Wc="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__type__",rw="__max__",Dc={mapValue:{}},$0="__vector__",Zc="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?km(r)?4:aw(r)?9007199254740991:sw(r)?10:11:_e(28295,{value:r})}function pi(r,e){if(r===e)return!0;const n=is(r);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jl(r).isEqual(jl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ht(o.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ht(o.integerValue)===ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ht(o.doubleValue),m=ht(u.doubleValue);return f===m?Xc(f)===Xc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(r_(f)!==r_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function Bl(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=is(r),s=is(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ht(u.integerValue||u.doubleValue),p=ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return a_(r.timestampValue,e.timestampValue);case 4:return a_(jl(r),jl(e));case 5:return lm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ns(u),p=ns(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ne(m[y],p[y]);if(E!==0)return E}return Ne(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ne(ht(u.latitude),ht(f.latitude));return m!==0?m:Ne(ht(u.longitude),ht(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return o_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},I=f.fields||{},L=(m=w[Zc])===null||m===void 0?void 0:m.arrayValue,U=(p=I[Zc])===null||p===void 0?void 0:p.arrayValue,Y=Ne(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:o_(L,U)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const I=lm(p[w],E[w]);if(I!==0)return I;const L=no(m[p[w]],y[E[w]]);if(L!==0)return L}return Ne(p.length,E.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function a_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const n=ts(r),s=ts(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function o_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function io(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ns(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=um(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${um(n.fields[f])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function kc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return $s(s.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function l_(r){return!!r&&"nullValue"in r}function u_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function sw(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y0])===null||n===void 0?void 0:n.stringValue)===$0}function xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return $s(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function aw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){$s(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Pn(xl(this.value))}}function X0(r){const e=[];return $s(r.fields,(n,s)=>{const o=new qt([n]);if(Uc(s)){const u=X0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Te.min(),Te.min(),Te.min(),Pn.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Te.min(),Te.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Te.min(),Te.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function c_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function h_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ow(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class wt extends W0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uw(e,n,s):n==="array-contains"?new fw(e,s):n==="in"?new dw(e,s):n==="not-in"?new mw(e,s):n==="array-contains-any"?new pw(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cw(e,s):new hw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends W0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gi(e,n)}matches(e){return Z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Z0(r){return r.op==="and"}function J0(r){return lw(r)&&Z0(r)}function lw(r){for(const e of r.filters)if(e instanceof gi)return!1;return!0}function hm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(J0(r))return r.filters.map(e=>hm(e)).join(",");{const e=r.filters.map(n=>hm(n)).join(",");return`${r.op}(${e})`}}function eE(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof gi?function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&eE(f,o.filters[m]),!0):!1}(r,e):void _e(19439)}function tE(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(tE).join(" ,")+"}"}(r):"Filter"}class uw extends wt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class cw extends wt{constructor(e,n){super(e,"in",n),this.keys=nE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hw extends wt{constructor(e,n){super(e,"not-in",n),this.keys=nE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class fw extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Bl(n.arrayValue,this.value)}}class dw extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class mw extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class pw extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function f_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new gw(r,e,n,s,o,u,f)}function jm(r){const e=Ae(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>hm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Ie=n}return e.Ie}function zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ow(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h_(r.startAt,e.startAt)&&h_(r.endAt,e.endAt)}function fm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yw(r,e,n,s,o,u,f,m){return new _h(r,e,n,s,o,u,f,m)}function iE(r){return new _h(r)}function d_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vw(r){return r.collectionGroup!==null}function Ml(r){const e=Ae(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new eh(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new eh(qt.keyField(),s))}return e.Ee}function hi(r){const e=Ae(r);return e.de||(e.de=_w(e,Ml(r))),e.de}function _w(r,e){if(r.limitType==="F")return f_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new eh(o.field,u)});const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return f_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function dm(r,e,n){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Eh(r,e){return zm(hi(r),hi(e))&&r.limitType===e.limitType}function rE(r){return`${jm(hi(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>tE(o)).join(", ")}]`),yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(hi(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=c_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ml(s),o)||s.endAt&&!function(f,m,p){const y=c_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ml(s),o))}(r,e)}function Ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sE(r){return(e,n)=>{let s=!1;for(const o of Ml(r)){const u=Tw(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Tw(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?no(p,y):_e(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new it(ge.comparator);function tr(){return Sw}const aE=new it(ge.comparator);function Dl(...r){let e=aE;for(const n of r)e=e.insert(n.key,n);return e}function oE(r){let e=aE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Bs(){return Vl()}function lE(){return Vl()}function Vl(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const Aw=new it(ge.comparator),bw=new Ct(ge.comparator);function Me(...r){let e=bw;for(const n of r)e=e.add(n);return e}const ww=new Ct(Ne);function Rw(){return ww}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function uE(r){return{integerValue:""+r}}function Cw(r,e){return Jb(e)?uE(e):Bm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function Iw(r,e,n){return r instanceof ql?function(o,u){const f={fields:{[G0]:{stringValue:F0},[Q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&km(u)&&(u=vh(u)),u&&(f.fields[K0]=u),{mapValue:f}}(n,e):r instanceof Hl?hE(r,e):r instanceof Fl?fE(r,e):function(o,u){const f=cE(o,u),m=m_(f)+m_(o.Re);return cm(f)&&cm(o.Re)?uE(m):Bm(o.serializer,m)}(r,e)}function Nw(r,e,n){return r instanceof Hl?hE(r,e):r instanceof Fl?fE(r,e):n}function cE(r,e){return r instanceof th?function(s){return cm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ql extends Sh{}class Hl extends Sh{constructor(e){super(),this.elements=e}}function hE(r,e){const n=dE(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Fl extends Sh{constructor(e){super(),this.elements=e}}function fE(r,e){let n=dE(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class th extends Sh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function m_(r){return ht(r.integerValue||r.doubleValue)}function dE(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.field=e,this.transform=n}}function Ow(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof Fl&&o instanceof Fl?to(s.elements,o.elements,pi):s instanceof th&&o instanceof th?pi(s.Re,o.Re):s instanceof ql&&o instanceof ql}(r.transform,e.transform)}class xw{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function mE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gE(r.key,fi.none()):new $l(r.key,r.data,fi.none());{const n=r.data,s=Pn.empty();let o=new Ct(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ws(r.key,s,new Gn(o.toArray()),fi.none())}}function Mw(r,e,n){r instanceof $l?function(o,u,f){const m=o.value.clone(),p=g_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ws?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=g_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(pE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Pl(r,e,n,s){return r instanceof $l?function(u,f,m,p){if(!jc(u.precondition,f))return m;const y=u.value.clone(),E=y_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ws?function(u,f,m,p){if(!jc(u.precondition,f))return m;const y=y_(u.fieldTransforms,p,f),E=f.data;return E.setAll(pE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function Vw(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=cE(s.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,u))}return n||null}function p_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>Ow(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $l extends Ah{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends Ah{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function g_(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Nw(f,m,n[o]))}return s}function y_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Iw(u,f,e))}return s}class gE extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Mw(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=mE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>p_(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>p_(n,s))}}class qm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Aw}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function jw(r){switch(r){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function yE(r){if(r===void 0)return er("GRPC error has no .code"),te.UNKNOWN;switch(r){case yt.OK:return te.OK;case yt.CANCELLED:return te.CANCELLED;case yt.UNKNOWN:return te.UNKNOWN;case yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case yt.INTERNAL:return te.INTERNAL;case yt.UNAVAILABLE:return te.UNAVAILABLE;case yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case yt.NOT_FOUND:return te.NOT_FOUND;case yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case yt.ABORTED:return te.ABORTED;case yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case yt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Wr([4294967295,4294967295],0);function v_(r){const e=j0().encode(r),n=new O0;return n.update(e),new Uint8Array(n.digest())}function __(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([o,u],0)]}class Hm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Wr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Wr.fromNumber(s)));return o.compare(zw)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=v_(e),[s,o]=__(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=v_(e),[s,o]=__(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bh(Te.min(),o,new it(Ne),tr(),Me())}}class Xl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Xl(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class vE{constructor(e,n){this.targetId=e,this.Ce=n}}class _E{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class E_{constructor(){this.Fe=0,this.Me=T_(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}}),new Xl(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=T_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Bw{constructor(e){this.ze=e,this.je=new Map,this.He=tr(),this.Je=Oc(),this.Ye=Oc(),this.Ze=new it(Ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(fm(u))if(s===0){const f=new ge(u.path);this.tt(n,f,$t.newNoDocument(f,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ns(s).toUint8Array()}catch(p){if(p instanceof H0)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hm(f,o,u)}catch(p){return eo(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&fm(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$t.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new bh(e,n,this.Ze,this.He,s);return this.He=tr(),this.Je=Oc(),this.Ye=Oc(),this.Ze=new it(Ne),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new E_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new E_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Oc(){return new it(ge.comparator)}function T_(){return new it(ge.comparator)}const qw={asc:"ASCENDING",desc:"DESCENDING"},Hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fw={and:"AND",or:"OR"};class Gw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Kw(r,e){return nh(r,e.toTimestamp())}function di(r){return Ge(!!r,49232),Te.fromTimestamp(function(n){const s=ts(n);return new Rt(s.seconds,s.nanos)}(r))}function Fm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function TE(r){const e=Ze.fromString(r);return Ge(RE(e),10190,{key:e.toString()}),e}function gm(r,e){return Fm(r.databaseId,e.path)}function Qd(r,e){const n=TE(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(AE(n))}function SE(r,e){return Fm(r.databaseId,e)}function Qw(r){const e=TE(r);return e.length===4?Ze.emptyPath():AE(e)}function ym(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AE(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function S_(r,e,n){return{name:gm(r,e),fields:n.value.mapValue.fields}}function Yw(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?te.UNKNOWN:yE(y.code);return new pe(E,y.message||"")}(f);n=new _E(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qd(r,s.document.name),u=di(s.document.updateTime),f=s.document.createTime?di(s.document.createTime):Te.min(),m=new Pn({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new zc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qd(r,s.document),u=s.readTime?di(s.readTime):Te.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qd(r,s.document),u=s.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Uw(o,u),m=s.targetId;n=new vE(m,f)}}return n}function $w(r,e){let n;if(e instanceof $l)n={update:S_(r,e.key,e.value)};else if(e instanceof gE)n={delete:gm(r,e.key)};else if(e instanceof Ws)n={update:S_(r,e.key,e.data),updateMask:rR(e.fieldMask)};else{if(!(e instanceof Pw))return _e(16599,{ft:e.type});n={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof th)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw _e(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Kw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(r,e.precondition)),n}function Xw(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?di(o.updateTime):di(u);return f.isEqual(Te.min())&&(f=di(u)),new xw(f,o.transformResults||[])}(n,e))):[]}function Ww(r,e){return{documents:[SE(r,e.path)]}}function Zw(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SE(r,o);const u=function(y){if(y.length!==0)return wE(gi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:Ka(I.field),direction:tR(I.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function Jw(r){let e=Qw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const I=bE(w);return I instanceof gi&&J0(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(I=>function(U){return new eh(Qa(U.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(w){let I;return I=typeof w=="object"?w.value:w,yh(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(w){const I=!!w.before,L=w.values||[];return new Jc(L,I)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const I=!w.before,L=w.values||[];return new Jc(L,I)}(n.endAt)),yw(e,o,f,u,m,"F",p,y)}function eR(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(s=>bE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(r):_e(30097,{filter:r})}function tR(r){return qw[r]}function nR(r){return Hw[r]}function iR(r){return Fw[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Qa(r){return qt.fromServerFormat(r.fieldPath)}function wE(r){return r instanceof wt?function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:nR(n.op),value:n.value}}}(r):r instanceof gi?function(n){const s=n.getFilters().map(o=>wE(o));return s.length===1?s[0]:{compositeFilter:{op:iR(n.op),filters:s}}}(r):_e(54877,{filter:r})}function rR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.wt=e}}function aR(r){const e=Jw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.yn=new lR}addToCollectionParentIndex(e,n){return this.yn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(es.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class lR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(CE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ro(0)}static ir(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LruGarbageCollector",uR=1048576;function w_([r,e],[n,s]){const o=Ne(r,n);return o===0?Ne(e,s):o}class cR{constructor(e){this.cr=e,this.buffer=new Ct(w_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();w_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){oe(b_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?oe(b_,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Ir(3e5)})}}class fR{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(gh.le);const s=new cR(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(A_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Fa()<=xe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function dR(r,e){return new fR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Pl(s.mutation,o,Gn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Dl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=tr();const f=Vl(),m=function(){return Vl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ws)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new pR(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Vl();let o=new it((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Gn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=lE();E.forEach(I=>{if(!u.has(I)){const L=mE(n.get(I),s.get(I));L!==null&&w.set(I,L),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Bs());let m=Ul,p=u;return f.next(y=>Z.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Me())).next(E=>({batchId:m,changes:oE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const y=function(w,I){return new _h(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,I)=>{f=f.insert(w,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$t.newInvalidDocument(E)))});let m=Dl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Pl(E.mutation,y,Gn.empty(),Rt.now()),Th(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:di(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:di(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.overlays=new it(ge.comparator),this.Or=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new it((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Bs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kw(n,s));let u=this.Or.get(n);u===void 0&&(u=Me(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Nr=new Ct(Pt.Br),this.Lr=new Ct(Pt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Pt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ge(new Ze([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ge(new Ze([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Me();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ge.comparator(e.key,n.key)||Ne(e.Gr,n.Gr)}static kr(e,n){return Ne(e.Gr,n.Gr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ct(Pt.Br)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Lw(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Lm:this.Jn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ne);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let m=new Ct(Ne);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Gr)),!0)},f),Z.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.Zr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=tr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||$b(Yb(E),s)<=0||(o.has(E.key)||Th(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}Xr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new SR(this)}getSize(e){return Z.resolve(this.size)}}class SR extends mR{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.persistence=e,this.ei=new Xs(n=>jm(n),zm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ti=0,this.ni=new Gm,this.targetCount=0,this.ri=ro.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),Z.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.ar(n),Z.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.ii={},this.overlays={},this.si=new gh(0),this.oi=!1,this.oi=!0,this._i=new _R,this.referenceDelegate=e(this),this.ai=new AR(this),this.indexManager=new oR,this.remoteDocumentCache=function(o){return new TR(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new sR(n),this.ci=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new ER(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new bR(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class bR extends Wb{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ti=new Gm,this.Ii=null}static Ei(e){return new Km(e)}get di(){if(this.Ii)return this.Ii;throw _e(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const o=ge.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Te.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Z.or([()=>Z.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.Ri=new Xs(s=>ew(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dR(this,n)}static Ei(e,n){return new ih(e,n)}li(){}hi(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return Z.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Z.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}gr(e,n,s){return Z.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return EA()?8:Zb(Xt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new wR;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(Fa()<=xe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(Fa()<=xe.DEBUG&&oe("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fa()<=xe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):Z.resolve())}Rs(e,n){if(d_(n))return Z.resolve(null);let s=hi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(n,m);return this.ys(n,y,f,p.readTime)?this.Rs(e,dm(n,null,"F")):this.ws(e,y,n,p)}))})))}Vs(e,n,s,o){return d_(n)||o.isEqual(Te.min())?Z.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?Z.resolve(null):(Fa()<=xe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.ws(e,f,n,Qb(o,Ul)).next(m=>m))})}ps(e,n){let s=new Ct(sE(e));return n.forEach((o,u)=>{Th(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return Fa()<=xe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.As.getDocumentsMatchingQuery(e,n,es.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",CR=3e8;class IR{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new it(Ne),this.Ds=new Xs(u=>jm(u),zm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function NR(r,e,n,s){return new IR(r,e,n,s)}async function NE(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function DR(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,I=w.keys();let L=Z.resolve();return I.forEach(U=>{L=L.next(()=>E.getEntry(p,U)).next(Y=>{const H=y.docVersions.get(U);Ge(H!==null,48541),Y.version.compareTo(H)<0&&(w.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function DE(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function OR(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,w)=>{const I=o.get(w);if(!I)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,w)));let L=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Ht.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(w,L),function(Y,H,K){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=CR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,L,E)&&m.push(n.ai.updateTargetData(u,L))});let p=tr(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(xR(u,f,e.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!s.isEqual(Te.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(w=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ss=o,u))}function xR(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=tr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(Ym,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function MR(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VR(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function vm(r,e,n){const s=Ae(r),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!fo(f))throw f;oe(Ym,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function R_(r,e,n){const s=Ae(r);let o=Te.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ae(p),I=w.Ds.get(E);return I!==void 0?Z.resolve(w.Ss.get(I)):w.ai.getTargetData(y,E)}(s,f,hi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Me())).next(m=>(PR(s,Ew(e),m),{documents:m,Ns:u})))}function PR(r,e,n){let s=r.vs.get(e)||Te.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class C_{constructor(){this.activeTargetIds=Rw()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.So=new C_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new C_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class N_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){oe(I_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){oe(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function _m(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=_m(),m=this.$o(e,n.toUriEncodedString());oe(Yd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(y=>(oe(Yd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw eo(Yd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=UR[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class BR extends jR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=_m();return new Promise((f,m)=>{const p=new x0;p.setWithCredentials(!0),p.listenOnce(M0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lc.NO_ERROR:const E=p.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Lc.TIMEOUT:oe(Qt,`RPC '${e}' ${u} timed out`),m(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const w=p.getStatus();if(oe(Qt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I==null?void 0:I.error;if(L&&L.status&&L.message){const U=function(H){const K=H.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN}(L.status);m(new pe(U,L.message))}else m(new pe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);oe(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}a_(e,n,s){const o=_m(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=L0(),m=P0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");oe(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let I=!1,L=!1;const U=new zR({Go:H=>{L?oe(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(I||(oe(Qt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),oe(Qt,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},zo:()=>w.close()}),Y=(H,K,Q)=>{H.listen(K,J=>{try{Q(J)}catch(ce){setTimeout(()=>{throw ce},0)}})};return Y(w,Nl.EventType.OPEN,()=>{L||(oe(Qt,`RPC '${e}' stream ${o} transport opened.`),U.t_())}),Y(w,Nl.EventType.CLOSE,()=>{L||(L=!0,oe(Qt,`RPC '${e}' stream ${o} transport closed`),U.r_())}),Y(w,Nl.EventType.ERROR,H=>{L||(L=!0,eo(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),U.r_(new pe(te.UNAVAILABLE,"The operation could not be completed")))}),Y(w,Nl.EventType.MESSAGE,H=>{var K;if(!L){const Q=H.data[0];Ge(!!Q,16349);const J=Q,ce=(J==null?void 0:J.error)||((K=J[0])===null||K===void 0?void 0:K.error);if(ce){oe(Qt,`RPC '${e}' stream ${o} received error:`,ce);const le=ce.status;let be=function(b){const N=yt[b];if(N!==void 0)return yE(N)}(le),M=ce.message;be===void 0&&(be=te.INTERNAL,M="Unknown error status: "+le+" with message "+ce.message),L=!0,U.r_(new pe(be,M)),w.close()}else oe(Qt,`RPC '${e}' stream ${o} received:`,Q),U.i_(Q)}}),Y(m,V0.STAT_EVENT,H=>{H.stat===om.PROXY?oe(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===om.NOPROXY&&oe(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.n_()},0),U}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new Gw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class xE{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new OE(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return oe(D_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(oe(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qR extends xE{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Yw(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?di(f.readTime):Te.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=fm(p)?{documents:Ww(u,p)}:{query:Zw(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=EE(u,f.resumeToken);const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=nh(u,f.snapshotVersion.toTimestamp());const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=eR(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.F_(n)}}class HR extends xE{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Xw(e.writeResults,e.commitTime),s=di(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=ym(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>$w(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{}class GR extends FR{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,pm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,pm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(te.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class KR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(er(n),this.ea=!1):oe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class QR{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Zs(this)&&(oe(Ks,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.aa.add(4),await Wl(y),y.la.set("Unknown"),y.aa.delete(4),await Rh(y)}(this))})}),this.la=new KR(s,o)}}async function Rh(r){if(Zs(r))for(const e of r.ua)await e(!0)}async function Wl(r){for(const e of r.ua)await e(!1)}function ME(r,e){const n=Ae(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Zm(n)?Wm(n):mo(n).b_()&&Xm(n,e))}function $m(r,e){const n=Ae(r),s=mo(n);n._a.delete(e),s.b_()&&VE(n,e),n._a.size===0&&(s.b_()?s.v_():Zs(n)&&n.la.set("Unknown"))}function Xm(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).U_(e)}function VE(r,e){r.ha.Ke(e),mo(r).K_(e)}function Wm(r){r.ha=new Bw({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.la.ta()}function Zm(r){return Zs(r)&&!mo(r).w_()&&r._a.size>0}function Zs(r){return Ae(r).aa.size===0}function PE(r){r.ha=void 0}async function YR(r){r.la.set("Online")}async function $R(r){r._a.forEach((e,n)=>{Xm(r,e)})}async function XR(r,e){PE(r),Zm(r)?(r.la.ia(e),Wm(r)):r.la.set("Unknown")}async function WR(r,e,n){if(r.la.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,e)}catch(s){oe(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rh(r,s)}else if(e instanceof zc?r.ha.Xe(e):e instanceof vE?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Te.min()))try{const s=await DE(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),VE(u,p);const w=new Qr(E.target,p,y,E.sequenceNumber);Xm(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(Ks,"Failed to raise snapshot:",s),await rh(r,s)}}async function rh(r,e,n){if(!fo(e))throw e;r.aa.add(1),await Wl(r),r.la.set("Offline"),n||(n=()=>DE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Ks,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await Rh(r)})}function LE(r,e){return e().catch(n=>rh(r,n,e))}async function Ch(r){const e=Ae(r),n=rs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Lm;for(;ZR(e);)try{const o=await MR(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,JR(e,o)}catch(o){await rh(e,o)}kE(e)&&UE(e)}function ZR(r){return Zs(r)&&r.oa.length<10}function JR(r,e){r.oa.push(e);const n=rs(r);n.b_()&&n.W_&&n.G_(e.mutations)}function kE(r){return Zs(r)&&!rs(r).w_()&&r.oa.length>0}function UE(r){rs(r).start()}async function eC(r){rs(r).H_()}async function tC(r){const e=rs(r);for(const n of r.oa)e.G_(n.mutations)}async function nC(r,e,n){const s=r.oa.shift(),o=qm.from(s,e,n);await LE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ch(r)}async function iC(r,e){e&&rs(r).W_&&await async function(s,o){if(function(f){return jw(f)&&f!==te.ABORTED}(o.code)){const u=s.oa.shift();rs(s).D_(),await LE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ch(s)}}(r,e),kE(r)&&UE(r)}async function O_(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(Ks,"RemoteStore received new credentials");const s=Zs(n);n.aa.add(3),await Wl(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Rh(n)}async function rC(r,e){const n=Ae(r);e?(n.aa.delete(2),await Rh(n)):e||(n.aa.add(2),await Wl(n),n.la.set("Unknown"))}function mo(r){return r.Pa||(r.Pa=function(n,s,o){const u=Ae(n);return u.Y_(),new qR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:YR.bind(null,r),Jo:$R.bind(null,r),Zo:XR.bind(null,r),Q_:WR.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Zm(r)?Wm(r):r.la.set("Unknown")):(await r.Pa.stop(),PE(r))})),r.Pa}function rs(r){return r.Ta||(r.Ta=function(n,s,o){const u=Ae(n);return u.Y_(),new HR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:eC.bind(null,r),Zo:iC.bind(null,r),z_:tC.bind(null,r),j_:nC.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Ch(r)):(await r.Ta.stop(),r.oa.length>0&&(oe(Ks,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Jm(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,e){if(er("AsyncQueue",`${e}: ${r}`),fo(r))return new pe(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.Ia=new it(ge.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new so(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class aC{constructor(){this.queries=M_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=M_(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function M_(){return new Xs(r=>rE(r),Eh)}async function oC(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new sC,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ep(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&tp(n)}async function lC(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uC(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&tp(n)}function cC(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function tp(r){r.fa.forEach(e=>{e.next()})}var Em,V_;(V_=Em||(Em={})).ya="default",V_.Cache="cache";class hC{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class fC{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=sE(e),this.Ka=new $a(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new x_,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const I=o.get(E),L=Th(this.query,w)?w:null,U=!!I&&this.mutatedKeys.has(I.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;I&&L?I.data.isEqual(L.data)?U!==Y&&(s.track({type:3,doc:L}),H=!0):this.ja(I,L)||(s.track({type:2,doc:L}),H=!0,(p&&this.Ua(L,p)>0||y&&this.Ua(L,y)<0)&&(m=!0)):!I&&L?(s.track({type:0,doc:L}),H=!0):I&&!L&&(s.track({type:1,doc:I}),H=!0,(p||y)&&(m=!0)),H&&(L?(f=f.add(L),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,w)=>function(L,U){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:H})}};return Y(L)-Y(U)}(E.type,w.type)||this.Ua(E.doc,w.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new so(this.query,e.Ka,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new x_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new zE(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new jE(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return so.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const np="SyncEngine";class dC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mC{constructor(e){this.key=e,this.tu=!1}}class pC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Xs(m=>rE(m),Eh),this.iu=new Map,this.su=new Set,this.ou=new it(ge.comparator),this._u=new Map,this.au=new Gm,this.uu={},this.cu=new Map,this.lu=ro.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function gC(r,e,n=!0){const s=KE(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await BE(s,e,n,!0),o}async function yC(r,e){const n=KE(r);await BE(n,e,!0,!1)}async function BE(r,e,n,s){const o=await VR(r.localStore,hi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&ME(r.remoteStore,o),m}async function vC(r,e,n,s,o){r.Pu=(w,I,L)=>async function(Y,H,K,Q){let J=H.view.Ga(K);J.ys&&(J=await R_(Y.localStore,H.query,!1).then(({documents:M})=>H.view.Ga(M,J)));const ce=Q&&Q.targetChanges.get(H.targetId),le=Q&&Q.targetMismatches.get(H.targetId)!=null,be=H.view.applyChanges(J,Y.isPrimaryClient,ce,le);return L_(Y,H.targetId,be.Ya),be.snapshot}(r,w,I,L);const u=await R_(r.localStore,e,!0),f=new fC(e,u.Ns),m=f.Ga(u.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);L_(r,n,y.Ya);const E=new dC(e,n,f);return r.ru.set(e,E),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),y.snapshot}async function _C(r,e,n){const s=Ae(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Eh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$m(s.remoteStore,o.targetId),Tm(s,o.targetId)}).catch(ho)):(Tm(s,o.targetId),await vm(s.localStore,o.targetId,!0))}async function EC(r,e){const n=Ae(r),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$m(n.remoteStore,s.targetId))}async function TC(r,e,n){const s=IC(r);try{const o=await function(f,m){const p=Ae(f),y=Rt.now(),E=m.reduce((L,U)=>L.add(U.key),Me());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=tr(),Y=Me();return p.Cs.getEntries(L,E).next(H=>{U=H,U.forEach((K,Q)=>{Q.isValidDocument()||(Y=Y.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,U)).next(H=>{w=H;const K=[];for(const Q of m){const J=Vw(Q,w.get(Q.key).overlayedDocument);J!=null&&K.push(new Ws(Q.key,J,X0(J.value.mapValue),fi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,K,m)}).next(H=>{I=H;const K=H.applyToLocalDocumentSet(w,Y);return p.documentOverlayCache.saveOverlays(L,H.batchId,K)})}).then(()=>({batchId:I.batchId,changes:oE(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.uu[f.currentUser.toKey()];y||(y=new it(Ne)),y=y.insert(m,p),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,n),await Zl(s,o.changes),await Ch(s.remoteStore)}catch(o){const u=ep(o,"Failed to persist write");n.reject(u)}}async function qE(r,e){const n=Ae(r);try{const s=await OR(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ge(f.tu,14607):o.removedDocuments.size>0&&(Ge(f.tu,42227),f.tu=!1))}),await Zl(n,s,e)}catch(s){await ho(s)}}function P_(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const I of w.Ra)I.ga(m)&&(y=!0)}),y&&tp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SC(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new it(ge.comparator);f=f.insert(u,$t.newNoDocument(u,Te.min()));const m=Me().add(u),p=new bh(Te.min(),new Map,new it(Ne),f,m);await qE(s,p),s.ou=s.ou.remove(u),s._u.delete(e),ip(s)}else await vm(s.localStore,e,!1).then(()=>Tm(s,e,n)).catch(ho)}async function AC(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await DR(n.localStore,e);FE(n,s,null),HE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await ho(o)}}async function bC(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ge(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);FE(s,e,n),HE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zl(s,o)}catch(o){await ho(o)}}function HE(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function FE(r,e,n){const s=Ae(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Tm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||GE(r,s)})}function GE(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&($m(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),ip(r))}function L_(r,e,n){for(const s of n)s instanceof jE?(r.au.addReference(s.key,e),wC(r,s)):s instanceof zE?(oe(np,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||GE(r,s.key)):_e(19791,{Iu:s})}function wC(r,e){const n=e.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(oe(np,"New document in limbo: "+n),r.su.add(s),ip(r))}function ip(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new ge(Ze.fromString(e)),s=r.lu.next();r._u.set(s,new mC(n)),r.ou=r.ou.insert(n,s),ME(r.remoteStore,new Qr(hi(iE(n.path)),s,"TargetPurposeLimboResolution",gh.le))}}async function Zl(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Qm.Ps(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,I=>Z.forEach(I.ls,L=>E.persistence.referenceDelegate.addReference(w,I.targetId,L)).next(()=>Z.forEach(I.hs,L=>E.persistence.referenceDelegate.removeReference(w,I.targetId,L)))))}catch(w){if(!fo(w))throw w;oe(Ym,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const L=E.Ss.get(I),U=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(U);E.Ss=E.Ss.insert(I,Y)}}}(s.localStore,u))}async function RC(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(np,"User change. New user:",e.toKey());const s=await NE(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new pe(te.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ms)}}function CC(r,e){const n=Ae(r),s=n._u.get(e);if(s&&s.tu)return Me().add(s.key);{let o=Me();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function KE(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SC.bind(null,e),e.nu.Q_=uC.bind(null,e.eventManager),e.nu.Tu=cC.bind(null,e.eventManager),e}function IC(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return NR(this.persistence,new RR,e.initialUser,this.serializer)}Ru(e){return new IE(Km.Ei,this.serializer)}Au(e){return new LR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class NC extends sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ge(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hR(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new IE(s=>ih.Ei(s,n),this.serializer)}}class Sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aC}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),s=function(u){return new BR(u)}(e.databaseInfo);return function(u,f,m,p){return new GR(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new QR(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>P_(this.syncEngine,n,0),function(){return N_.C()?new N_:new kR}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new pC(o,u,f,m,p,y);return E&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);oe(Ks,"RemoteStore shutting down."),u.aa.add(5),await Wl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class OC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ep(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await NE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function k_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xC(r);oe(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>O_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>O_(e.remoteStore,o)),r._onlineComponents=e}async function xC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ss,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Xd(r,new sh)}}else oe(ss,"Using default OfflineComponentProvider"),await Xd(r,new NC(void 0));return r._offlineComponents}async function QE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ss,"Using user provided OnlineComponentProvider"),await k_(r,r._uninitializedComponentsProvider._online)):(oe(ss,"Using default OnlineComponentProvider"),await k_(r,new Sm))),r._onlineComponents}function MC(r){return QE(r).then(e=>e.syncEngine)}async function VC(r){const e=await QE(r),n=e.eventManager;return n.onListen=gC.bind(null,e.syncEngine),n.onUnlisten=_C.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),n}function PC(r,e,n={}){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new DC({next:I=>{E.yu(),f.enqueueAndForget(()=>lC(u,w)),I.fromCache&&p.source==="server"?y.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new hC(m,E,{includeMetadataChanges:!0,Fa:!0});return oC(u,w)}(await VC(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LC(r,e,n,s){if(e===!0&&s===!0)throw new pe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function j_(r){if(!ge.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z_(r){if(ge.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function ao(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rp(r);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firestore.googleapis.com",B_=!0;class q_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=B_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:B_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uR)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ub;switch(s.type){case"firstParty":return new qb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=U_.get(n);s&&(oe("ComponentProvider","Removing Datastore"),U_.delete(n),s.terminate())}(this),Promise.resolve()}}function kC(r,e,n,s={}){var o;const u=(r=ao(r,Ih))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==XE&&u.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Hs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Yt.MOCK_USER;else{y=dA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(w)}r._authCredentials=new jb(new U0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Jr extends Nh{constructor(e,n,s){super(e,n,iE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new ge(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function WE(r,e,...n){if(r=rn(r),$E("collection","path",e),r instanceof Ih){const s=Ze.fromString(e,...n);return z_(s),new Jr(r,null,s)}{if(!(r instanceof Ln||r instanceof Jr))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return z_(s),new Jr(r.firestore,null,s)}}function Am(r,e,...n){if(r=rn(r),arguments.length===1&&(e=z0.newId()),$E("doc","path",e),r instanceof Ih){const s=Ze.fromString(e,...n);return j_(s),new Ln(r,null,new ge(s))}{if(!(r instanceof Ln||r instanceof Jr))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return j_(s),new Ln(r.firestore,r instanceof Jr?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OE(this,"async_queue_retry"),this.ju=()=>{const s=$d();s&&oe(H_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!fo(e))throw e;oe(H_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,er("INTERNAL UNHANDLED ERROR: ",G_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Jm.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&_e(47125,{ec:G_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function G_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Dh extends Ih{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new F_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function UC(r,e){const n=typeof r=="object"?r:I0(),s=typeof r=="string"?r:Wc,o=Vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=hA("firestore");u&&kC(o,...u)}return o}function ZE(r){if(r._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jC(r),r._firestoreClient}function jC(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new iw(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,YE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new OC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Ht.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class BC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}function JE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{oc:r})}}class up{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ah(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(JE(this.oc)&&zC.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class qC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wh(e)}dc(e,n,s,o=!1){return new up({oc:e,methodName:n,Ec:s,path:qt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eT(r){const e=r._freezeSettings(),n=wh(r._databaseId);return new qC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function tT(r,e,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,n,o);sT("Data must be an object, but it was:",f,s);const m=iT(s,f);let p,y;if(u.merge)p=new Gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const I=HC(e,w,n);if(!f.contains(I))throw new pe(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);GC(E,I)||E.push(I)}p=new Gn(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new BC(new Pn(m),p,y)}class cp extends ap{_toFieldTransform(e){return new Dw(e.path,new ql)}isEqual(e){return e instanceof cp}}function nT(r,e){if(rT(r=rn(r)))return sT("Unsupported field value:",e,r),iT(r,e);if(r instanceof ap)return function(s,o){if(!JE(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=nT(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Cw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:nh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(o.serializer,u)}}if(s instanceof op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:EE(o.serializer,s._byteString)};if(s instanceof Ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lp)return function(f,m){return{mapValue:{fields:{[Y0]:{stringValue:$0},[Zc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return Bm(m.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${rp(s)}`)}(r,e)}function iT(r,e){const n={};return q0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(r,(s,o)=>{const u=nT(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function rT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof op||r instanceof oo||r instanceof Ln||r instanceof ap||r instanceof lp)}function sT(r,e,n){if(!rT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=rp(n);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function HC(r,e,n){if((e=rn(e))instanceof sp)return e._internalPath;if(typeof e=="string")return aT(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const FC=new RegExp("[~\\*/\\[\\]]");function aT(r,e,n){if(e.search(FC)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sp(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ah(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(te.INVALID_ARGUMENT,m+r+p)}function GC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KC extends oT{data(){return super.data()}}function lT(r,e){return typeof e=="string"?aT(r,e):e instanceof sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YC{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $s(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Zc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ht(f.doubleValue));return new lp(u)}convertGeoPoint(e){return new op(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(RE(s),9688,{name:e});const o=new zl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $C extends oT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bc extends $C{data(e={}){return super.data(e)}}class XC{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Mc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:WC(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}class ZC extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function JC(r){r=ao(r,Nh);const e=ao(r.firestore,Dh),n=ZE(e),s=new ZC(e);return QC(r._query),PC(n,r._query).then(o=>new XC(e,s,r,o))}function K_(r,e,n){r=ao(r,Ln);const s=ao(r.firestore,Dh),o=uT(r.converter,e,n);return cT(s,[tT(eT(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,fi.none())])}function e2(r,e){const n=ao(r.firestore,Dh),s=Am(r),o=uT(r.converter,e);return cT(n,[tT(eT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,fi.exists(!1))]).then(()=>s)}function cT(r,e){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>TC(await MC(s),o,u)),u.promise}(ZE(r),e)}function bm(){return new cp("serverTimestamp")}(function(e,n=!0){(function(o){co=o})(uo),Ja(new Fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Dh(new zb(s.getProvider("auth-internal")),new Hb(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xr(Xv,Wv,e),Xr(Xv,Wv,"esm2017")})();var t2="firebase",n2="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(t2,n2,"app");function hp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i2=hT,fT=new Ql("auth","Firebase",hT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new xm("@firebase/auth");function r2(r,...e){oh.logLevel<=xe.WARN&&oh.warn(`Auth (${uo}): ${r}`,...e)}function qc(r,...e){oh.logLevel<=xe.ERROR&&oh.error(`Auth (${uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(r,...e){throw dp(r,...e)}function Qn(r,...e){return dp(r,...e)}function fp(r,e,n){const s=Object.assign(Object.assign({},i2()),{[e]:n});return new Ql("auth","Firebase",s).create(e,{appName:r.name})}function Wi(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&kn(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return fT.create(r,...e)}function ve(r,e,...n){if(!r)throw dp(e,...n)}function $i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function nr(r,e){r||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function a2(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a2()||yA()||"connection"in navigator)?navigator.onLine:!0}function l2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=mA()||vA()}get(){return o2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h2=new Jl(3e4,6e4);function as(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function sr(r,e,n,s,o={}){return mT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Yl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return gA()||(y.referrerPolicy="no-referrer"),dT.fetch()(await pT(r,r.config.apiHost,n,m),y)})}async function mT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},u2),e);try{const o=new d2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Vc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fp(r,E,y);kn(r,E)}}catch(o){if(o instanceof rr)throw o;kn(r,"network-request-failed",{message:String(o)})}}async function eu(r,e,n,s,o={}){const u=await sr(r,e,n,s,o);return"mfaPendingCredential"in u&&kn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function pT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`;return c2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function f2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),h2.get())})}}function Vc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(r,e,s);return o.customData._tokenResponse=n,o}function Y_(r){return r!==void 0&&r.enterprise!==void 0}class m2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p2(r,e){return sr(r,"GET","/v2/recaptchaConfig",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e){return sr(r,"POST","/v1/accounts:delete",e)}async function lh(r,e){return sr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y2(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=pp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ll(Wd(o.auth_time)),issuedAtTime:Ll(Wd(o.iat)),expirationTime:Ll(Wd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(r){return Number(r)*1e3}function pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(r){const e=pp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rr&&v2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function v2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await lo(r,lh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?gT(u.providerUserInfo):[],m=T2(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Rm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function E2(r){const e=rn(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gT(r){return r.map(e=>{var{providerId:n}=e,s=hp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e){const n=await mT(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await pT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A2(r,e){return sr(r,"POST","/v2/accounts:revokeToken",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await S2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Rm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y2(this,e)}reload(){return E2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await lo(this,g2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:ce,isAnonymous:le,providerData:be,stsTokenManager:M}=n;ve(J&&M,e,"internal-error");const R=Xa.fromJSON(this.name,M);ve(typeof J=="string",e,"internal-error"),Hr(w,e.name),Hr(I,e.name),ve(typeof ce=="boolean",e,"internal-error"),ve(typeof le=="boolean",e,"internal-error"),Hr(L,e.name),Hr(U,e.name),Hr(Y,e.name),Hr(H,e.name),Hr(K,e.name),Hr(Q,e.name);const b=new Kn({uid:J,auth:e,email:I,emailVerified:ce,displayName:w,isAnonymous:le,photoURL:U,phoneNumber:L,tenantId:Y,stsTokenManager:R,createdAt:K,lastLoginAt:Q});return be&&Array.isArray(be)&&(b.providerData=be.map(N=>Object.assign({},N))),H&&(b._redirectEventId=H),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Xa;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Xi(r){nr(r instanceof Function,"Expected a class definition");let e=X_.get(r);return e?(nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yT.type="NONE";const W_=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(Xi(W_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Xi(W_);const f=Hc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const I=await lh(e,{idToken:E}).catch(()=>{});if(!I)break;w=await Kn._fromGetAccountInfoResponse(e,I,E)}else w=Kn._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AT(e))return"Blackberry";if(bT(e))return"Webos";if(_T(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vT(r=Xt()){return/firefox\//i.test(r)}function _T(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(r=Xt()){return/crios\//i.test(r)}function TT(r=Xt()){return/iemobile/i.test(r)}function ST(r=Xt()){return/android/i.test(r)}function AT(r=Xt()){return/blackberry/i.test(r)}function bT(r=Xt()){return/webos/i.test(r)}function gp(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function b2(r=Xt()){var e;return gp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w2(){return _A()&&document.documentMode===10}function wT(r=Xt()){return gp(r)||ST(r)||bT(r)||AT(r)||/windows phone/i.test(r)||TT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,e=[]){let n;switch(r){case"Browser":n=Z_(Xt());break;case"Worker":n=`${Z_(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e={}){return sr(r,"GET","/v2/passwordPolicy",as(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=6;class N2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:I2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new R2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Wi(this));const n=e?rn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C2(this),n=new N2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await A2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&r2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(r){return rn(r)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CA(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(r){Oh=r}function CT(r){return Oh.loadJS(r)}function x2(){return Oh.recaptchaEnterpriseScript}function M2(){return Oh.gapiScript}function V2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class P2{constructor(){this.enterprise=new L2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const k2="recaptcha-enterprise",IT="NO_RECAPTCHA";class U2{constructor(e){this.type=k2,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{p2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new m2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Y_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(IT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Y_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x2();p.length!==0&&(p+=m),CT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function e0(r,e,n,s=!1,o=!1){const u=new U2(r);let f;if(o)f=IT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await e0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await e0(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r,e){const n=Vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,e??{}))return o;kn(o,"already-initialized")}return n.initialize({options:e})}function z2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function B2(r,e,n){const s=os(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NT(e),{host:f,port:m}=q2(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Hs(y,s.config.emulator)&&Hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,H2()}function NT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function q2(r){const e=NT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:t0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:t0(f)}}}function t0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function H2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function F2(r,e){return sr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e){return eu(r,"POST","/v1/accounts:signInWithPassword",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}async function Q2(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",G2);case"emailLink":return K2(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",F2);case"emailLink":return Q2(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r,e){return eu(r,"POST","/v1/accounts:signInWithIdp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="http://localhost";class Qs extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Za(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:Y2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X2(r){const e=Cl(Il(r)).link,n=e?Cl(Il(e)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||n||e||r}class vp{constructor(e){var n,s,o,u,f,m;const p=Cl(Il(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=$2((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=X2(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return ve(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends _p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends tu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends tu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends tu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(r,e){return eu(r,"POST","/v1/accounts:signUp",as(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=n0(s);return new Ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=n0(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function n0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends rr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function DT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,s):u})}async function Z2(r,e,n=!1){const s=await lo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ys._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e,n=!1){const{auth:s}=r;if(yn(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await lo(r,DT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=pp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Ys._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(r,e,n=!1){if(yn(r.app))return Promise.reject(Wi(r));const s="signIn",o=await DT(r,s,e),u=await Ys._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function eI(r,e){return OT(os(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(r){const e=os(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tI(r,e,n){if(yn(r.app))return Promise.reject(Wi(r));const s=os(r),f=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xT(r),p}),m=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function nI(r,e,n){return yn(r.app)?Promise.reject(Wi(r)):eI(rn(r),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e){return sr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=rn(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await lo(s,iI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function sI(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function aI(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function MT(r,e,n,s){return rn(r).onAuthStateChanged(e,n,s)}function oI(r){return rn(r).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e3,uI=10;class PT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);w2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const cI=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LT.type="SESSION";const kT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await hI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function dI(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function mI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function gI(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebaseLocalStorageDb",yI=1,fh="firebaseLocalStorage",zT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(r,e){return r.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function vI(){const r=indexedDB.deleteDatabase(jT);return new nu(r).toPromise()}function Im(){const r=indexedDB.open(jT,yI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(fh,{keyPath:zT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(fh)?e(s):(s.close(),await vI(),e(await Im()))})})}async function i0(r,e,n){const s=Mh(r,!0).put({[zT]:e,value:n});return new nu(s).toPromise()}async function _I(r,e){const n=Mh(r,!1).get(e),s=await new nu(n).toPromise();return s===void 0?null:s.value}function r0(r,e){const n=Mh(r,!0).delete(e);return new nu(n).toPromise()}const EI=800,TI=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>TI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await i0(e,hh,"1"),await r0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>i0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_I(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const SI=BT;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,e){return e?Xi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AI(r){return OT(r.auth,new Tp(r),r.bypassAuthState)}function bI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),J2(n,new Tp(r),r.bypassAuthState)}async function wI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),Z2(n,new Tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:kn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Jl(2e3,1e4);async function CI(r,e,n){if(yn(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=os(r);s2(r,e,_p);const o=qT(s,n);return new qs(s,"signInViaPopup",e,o).executeNotNull()}class qs extends HT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RI.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="pendingRedirect",Fc=new Map;class NI extends HT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const s=await DI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DI(r,e){const n=MI(e),s=xI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OI(r,e){Fc.set(r._key(),e)}function xI(r){return Xi(r._redirectPersistence)}function MI(r){return Hc(II,r.config.apiKey,r.name)}async function VI(r,e,n=!1){if(yn(r.app))return Promise.reject(Wi(r));const s=os(r),o=qT(s,e),f=await new NI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=10*60*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!FT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PI&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e={}){return sr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function BI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UI(r);for(const n of e)try{if(qI(n))return}catch{}kn(r,"unauthorized-domain")}function qI(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!zI.test(n))return!1;if(jI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Jl(3e4,6e4);function a0(){const r=mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FI(r){return new Promise((e,n)=>{var s,o,u;function f(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(Qn(r,"network-request-failed"))},timeout:HI.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=V2("iframefcb");return mi()[m]=()=>{gapi.load?f():n(Qn(r,"network-request-failed"))},CT(`${M2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function GI(r){return Gc=Gc||FI(r),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Jl(5e3,15e3),QI="__/auth/iframe",YI="emulator/auth/iframe",$I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,YI):`https://${r.config.authDomain}/${QI}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=XI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yl(s).slice(1)}`}async function ZI(r){const e=await GI(r),n=mi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:WI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$I,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},KI.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",iN="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(r,e,n,s=eN,o=tN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},JI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=ET(y)?nN:n),vT(y)&&(e=e||iN,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[L,U])=>`${I}${L}=${U},`,"");if(b2(y)&&m!=="_self")return sN(e||"",m),new o0(null);const w=window.open(e||"",m,E);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new o0(w)}function sN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__/auth/handler",oN="emulator/auth/handler",lN=encodeURIComponent("fac");async function l0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof _p){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",RA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${lN}=${encodeURIComponent(p)}`:"";return`${uN(r)}?${Yl(m).slice(1)}${y}`}function uN({config:r}){return r.emulator?mp(r,oN):`https://${r.authDomain}/${aN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=VI,this._overrideRedirectResult=OI}async _openPopup(e,n,s,o){var u;nr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await l0(e,n,s,wm(),o);return rN(e,f,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await l0(e,n,s,wm(),o);return dI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ZI(e),s=new LI(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zd];f!==void 0&&n(!!f),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||_T()||gp()}}const hN=cN;var u0="@firebase/auth",c0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mN(r){Ja(new Fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(r)},y=new D2(s,o,u,p);return z2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new Fs("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new fN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(u0,c0,dN(r)),Xr(u0,c0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=5*60,gN=b0("authIdTokenMaxAge")||pN;let h0=null;const yN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gN)return;const o=n==null?void 0:n.token;h0!==o&&(h0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vN(r=I0()){const e=Vm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=j2(r,{popupRedirectResolver:hN,persistence:[SI,cI,kT]}),s=b0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=yN(u.toString());aI(n,f,()=>f(n.currentUser)),sI(n,m=>f(m))}}const o=S0("auth");return o&&B2(n,`http://${o}`),n}function _N(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}O2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_N().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mN("Browser");const EN={apiKey:"AIzaSyBg7Cji1PBlagzeks7pWr2K9UH58kU8BNg",authDomain:"circolo-nero-b5ebf.firebaseapp.com",projectId:"circolo-nero-b5ebf",storageBucket:"circolo-nero-b5ebf.firebasestorage.app",messagingSenderId:"229694832056",appId:"1:229694832056:web:79bf98773a43956581234d"},GT=C0(EN),dh=UC(GT),Ya=vN(GT),KT=async()=>{let r=null,e=localStorage.removeItem("firedataBase");if(e=localStorage.getItem("firedataBase"),r)return r;if(e)return r=JSON.parse(e),r;try{const s=(await JC(WE(dh,"productos"))).docs.map(o=>({id:o.id,...o.data()}));return localStorage.setItem("firedataBase",JSON.stringify(s)),s}catch(n){return console.error(n),null}},QT=F.createContext(),vi=()=>F.useContext(QT),TN=r=>{const[e,n]=F.useState(null),[s,o]=F.useState(!0),[u,f]=F.useState([]),[m,p]=F.useState({message:"",visible:!1}),[y,E]=F.useState(null);F.useEffect(()=>{KT().then(Q=>{n(Q),o(!1)});const K=MT(Ya,Q=>{E(Q)});return()=>K()},[]);const w=()=>e?[...new Set(e.map(K=>K.category))]:[],I=K=>e?K?e.filter(Q=>Q.category===K):e:[],L=(K,Q=2e3)=>{p({message:K,visible:!0}),setTimeout(()=>p({message:"",visible:!1}),Q)};function U(K,Q){const J={...K,amount:Q};if(u.some(ce=>ce.id===K.id)){const ce=u.map(le=>le.id===K.id?{...le,amount:le.amount+Q}:le);f(ce),L("Producto agregado al carrito")}else f([...u,J]),L("Producto agregado al carrito")}const Y=(K,Q)=>{Q<1||f(J=>J.map(ce=>ce.id===K?{...ce,amount:Q}:ce))};function H(K){f(u.filter(Q=>Q.id!==K)),L("Producto eliminado")}return A.jsx(QT.Provider,{value:{cart:u,addToCart:U,removeFromCart:H,updateCartItemQuantity:Y,notification:m,showNotification:L,user:y,data:e,loading:s,getCategories:w,getProductsByCategory:I},children:r.children})};var wl={},f0;function SN(){if(f0)return wl;f0=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.parse=f,wl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,L){const U=new u,Y=I.length;if(Y<2)return U;const H=(L==null?void 0:L.decode)||E;let K=0;do{const Q=I.indexOf("=",K);if(Q===-1)break;const J=I.indexOf(";",K),ce=J===-1?Y:J;if(Q>ce){K=I.lastIndexOf(";",Q-1)+1;continue}const le=m(I,K,Q),be=p(I,Q,le),M=I.slice(le,be);if(U[M]===void 0){let R=m(I,Q+1,ce),b=p(I,ce,R);const N=H(I.slice(R,b));U[M]=N}K=ce+1}while(K<Y);return U}function m(I,L,U){do{const Y=I.charCodeAt(L);if(Y!==32&&Y!==9)return L}while(++L<U);return U}function p(I,L,U){for(;L>U;){const Y=I.charCodeAt(--L);if(Y!==32&&Y!==9)return L+1}return U}function y(I,L,U){const Y=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const H=Y(L);if(!e.test(H))throw new TypeError(`argument val is invalid: ${L}`);let K=I+"="+H;if(!U)return K;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);K+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);K+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);K+="; Path="+U.path}if(U.expires){if(!w(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);K+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(K+="; HttpOnly"),U.secure&&(K+="; Secure"),U.partitioned&&(K+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return K}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return o.call(I)==="[object Date]"}return wl}SN();var d0="popstate";function AN(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Nm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return wN(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function m0(r,e){return{usr:r.state,key:r.key,idx:e}}function Nm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||bN()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wN(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let H=E(),K=H==null?null:H-y;y=H,p&&p({action:m,location:Y.location,delta:K})}function I(H,K){m="PUSH";let Q=Nm(Y.location,H,K);y=E()+1;let J=m0(Q,y),ce=Y.createHref(Q);try{f.pushState(J,"",ce)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ce)}u&&p&&p({action:m,location:Y.location,delta:1})}function L(H,K){m="REPLACE";let Q=Nm(Y.location,H,K);y=E();let J=m0(Q,y),ce=Y.createHref(Q);f.replaceState(J,"",ce),u&&p&&p({action:m,location:Y.location,delta:0})}function U(H){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof H=="string"?H:Kl(H);return Q=Q.replace(/ $/,"%20"),nt(K,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,K)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(d0,w),p=H,()=>{o.removeEventListener(d0,w),p=null}},createHref(H){return e(o,H)},createURL:U,encodeLocation(H){let K=U(H);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:L,go(H){return f.go(H)}};return Y}function YT(r,e,n="/"){return RN(r,e,n,!1)}function RN(r,e,n,s){let o=typeof e=="string"?go(e):e,u=ir(o.pathname||"/",n);if(u==null)return null;let f=$T(r);CN(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=UN(u);m=LN(f[p],y,s)}return m}function $T(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Zi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$T(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:VN(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of XT(u.path))o(u,f,p)}),e}function XT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=XT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function CN(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:PN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var IN=/^:[\w-]+$/,NN=3,DN=2,ON=1,xN=10,MN=-2,p0=r=>r==="*";function VN(r,e){let n=r.split("/"),s=n.length;return n.some(p0)&&(s+=MN),e&&(s+=DN),n.filter(o=>!p0(o)).reduce((o,u)=>o+(IN.test(u)?NN:u===""?ON:xN),s)}function PN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function LN(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),I=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Zi([u,w.pathname]),pathnameBase:qN(Zi([u,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(u=Zi([u,w.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kN(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},I)=>{if(E==="*"){let U=m[I]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const L=m[I];return w&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function kN(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function UN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function jN(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?go(r):r;return{pathname:n?n.startsWith("/")?n:zN(n,e):e,search:HN(s),hash:FN(o)}}function zN(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BN(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WT(r){let e=BN(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ZT(r,e,n,s=!1){let o;typeof r=="string"?o=go(r):(o={...r},nt(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}m=w>=0?e[w]:"/"}let p=jN(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),qN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var KN=["GET",...JT];new Set(KN);var yo=F.createContext(null);yo.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";var e1=F.createContext({isTransitioning:!1});e1.displayName="ViewTransition";var QN=F.createContext(new Map);QN.displayName="Fetchers";var YN=F.createContext(null);YN.displayName="Await";var _i=F.createContext(null);_i.displayName="Navigation";var iu=F.createContext(null);iu.displayName="Location";var Ei=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Sp=F.createContext(null);Sp.displayName="RouteError";function $N(r,{relative:e}={}){nt(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(_i),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ru(){return F.useContext(iu)!=null}function Js(){return nt(ru(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(iu).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n1(r){F.useContext(_i).static||F.useLayoutEffect(r)}function i1(){let{isDataRoute:r}=F.useContext(Ei);return r?lD():XN()}function XN(){nt(ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(yo),{basename:e,navigator:n}=F.useContext(_i),{matches:s}=F.useContext(Ei),{pathname:o}=Js(),u=JSON.stringify(WT(s)),f=F.useRef(!1);return n1(()=>{f.current=!0}),F.useCallback((p,y={})=>{if(yi(f.current,t1),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ZT(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}F.createContext(null);function r1(){let{matches:r}=F.useContext(Ei),e=r[r.length-1];return e?e.params:{}}function su(r,{relative:e}={}){let{matches:n}=F.useContext(Ei),{pathname:s}=Js(),o=JSON.stringify(WT(n));return F.useMemo(()=>ZT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function WN(r,e){return s1(r,e)}function s1(r,e,n,s){var Q;nt(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(_i),{matches:f}=F.useContext(Ei),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let J=w&&w.path||"";a1(y,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let I=Js(),L;if(e){let J=typeof e=="string"?go(e):e;nt(E==="/"||((Q=J.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),L=J}else L=I;let U=L.pathname||"/",Y=U;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Y="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:YT(r,{pathname:Y});yi(w||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),yi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=nD(H&&H.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Zi([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Zi([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&K?F.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},K):K}function ZN(){let r=oD(),e=GN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var JN=F.createElement(ZN,null),eD=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Ei.Provider,{value:this.props.routeContext},F.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tD({routeContext:r,match:e,children:n}){let s=F.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ei.Provider,{value:r},n)}function nD(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,I=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,I=!1,L=null,U=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||JN,f&&(m<0&&E===0?(a1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):m===E&&(I=!0,U=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),H=()=>{let K;return w?K=L:I?K=U:y.route.Component?K=F.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,F.createElement(tD,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:K})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?F.createElement(eD,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:H(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):H()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iD(r){let e=F.useContext(yo);return nt(e,Ap(r)),e}function rD(r){let e=F.useContext(Vh);return nt(e,Ap(r)),e}function sD(r){let e=F.useContext(Ei);return nt(e,Ap(r)),e}function bp(r){let e=sD(r),n=e.matches[e.matches.length-1];return nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aD(){return bp("useRouteId")}function oD(){var s;let r=F.useContext(Sp),e=rD("useRouteError"),n=bp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function lD(){let{router:r}=iD("useNavigate"),e=bp("useNavigate"),n=F.useRef(!1);return n1(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{yi(n.current,t1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var g0={};function a1(r,e,n){!e&&!g0[r]&&(g0[r]=!0,yi(!1,n))}F.memo(uD);function uD({routes:r,future:e,state:n}){return s1(r,void 0,n,e)}function Fn(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cD({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){nt(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:I="default"}=n,L=F.useMemo(()=>{let U=ir(p,f);return U==null?null:{location:{pathname:U,search:y,hash:E,state:w,key:I},navigationType:s}},[f,p,y,E,w,I,s]);return yi(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:F.createElement(_i.Provider,{value:m},F.createElement(iu.Provider,{children:e,value:L}))}function hD({children:r,location:e}){return WN(Dm(r),e)}function Dm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Dm(s.props.children,u));return}nt(s.type===Fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),n.push(f)}),n}var Kc="get",Qc="application/x-www-form-urlencoded";function Ph(r){return r!=null&&typeof r.tagName=="string"}function fD(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function dD(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function mD(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function pD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gD(r,e){return r.button===0&&(!e||e==="_self")&&!pD(r)}var Pc=null;function yD(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var vD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(r){return r!=null&&!vD.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):r}function _D(r,e){let n,s,o,u,f;if(dD(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,n=r.getAttribute("method")||Kc,o=em(r.getAttribute("enctype"))||Qc,u=new FormData(r)}else if(fD(r)||mD(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=em(r.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||Qc,u=new FormData(m,r),!yD()){let{name:y,type:E,value:w}=r;if(E==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,w)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function wp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ED(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function SD(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ED(u,n);return f.links?f.links():[]}return[]}));return RD(s.flat(1).filter(TD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y0(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function AD(r,e,{includeHydrateFallback:n}={}){return bD(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bD(r){return[...new Set(r)]}function wD(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function RD(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(wD(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var CD=new Set([100,101,204,205]);function ID(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ir(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function o1(){let r=F.useContext(yo);return wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ND(){let r=F.useContext(Vh);return wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Rp=F.createContext(void 0);Rp.displayName="FrameworkContext";function l1(){let r=F.useContext(Rp);return wp(r,"You must render this element inside a <HydratedRouter> element"),r}function DD(r,e){let n=F.useContext(Rp),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,I=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=K=>{K.forEach(Q=>{f(Q.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return I.current&&H.observe(I.current),()=>{H.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let L=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Rl(m,L),onBlur:Rl(p,U),onMouseEnter:Rl(y,L),onMouseLeave:Rl(E,U),onTouchStart:Rl(w,L)}]:[!1,I,{}]}function Rl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function OD({page:r,...e}){let{router:n}=o1(),s=F.useMemo(()=>YT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(MD,{page:r,matches:s,...e}):null}function xD(r){let{manifest:e,routeModules:n}=l1(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return SD(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function MD({page:r,matches:e,...n}){let s=Js(),{manifest:o,routeModules:u}=l1(),{basename:f}=o1(),{loaderData:m,matches:p}=ND(),y=F.useMemo(()=>y0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=F.useMemo(()=>y0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Y=!1;if(e.forEach(K=>{var J;let Q=o.routes[K.route.id];!Q||!Q.hasLoader||(!y.some(ce=>ce.route.id===K.route.id)&&K.route.id in m&&((J=u[K.route.id])!=null&&J.shouldRevalidate)||Q.hasClientLoader?Y=!0:U.add(K.route.id))}),U.size===0)return[];let H=ID(r,f);return Y&&U.size>0&&H.searchParams.set("_routes",e.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),I=F.useMemo(()=>AD(E,o),[E,o]),L=xD(E);return F.createElement(F.Fragment,null,w.map(U=>F.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),I.map(U=>F.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),L.map(({key:U,link:Y})=>F.createElement("link",{key:U,...Y})))}function VD(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.5.3")}catch{}function PD({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=AN({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>f(p))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(cD,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...I},L){let{basename:U}=F.useContext(_i),Y=typeof y=="string"&&c1.test(y),H,K=!1;if(typeof y=="string"&&Y&&(H=y,u1))try{let b=new URL(window.location.href),N=y.startsWith("//")?new URL(b.protocol+y):new URL(y),V=ir(N.pathname,U);N.origin===b.origin&&V!=null?y=V+N.search+N.hash:K=!0}catch{yi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=$N(y,{relative:o}),[J,ce,le]=DD(s,I),be=jD(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(b){e&&e(b),b.defaultPrevented||be(b)}let R=F.createElement("a",{...I,...le,href:H||Q,onClick:K||u?e:M,ref:VD(L,ce),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return J&&!Y?F.createElement(F.Fragment,null,R,F.createElement(OD,{page:Q})):R});un.displayName="Link";var LD=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=su(f,{relative:y.relative}),I=Js(),L=F.useContext(Vh),{navigator:U,basename:Y}=F.useContext(_i),H=L!=null&&FD(w)&&m===!0,K=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,Q=I.pathname,J=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),J=J?J.toLowerCase():null,K=K.toLowerCase()),J&&Y&&(J=ir(J,Y)||J);const ce=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=Q===K||!o&&Q.startsWith(K)&&Q.charAt(ce)==="/",be=J!=null&&(J===K||!o&&J.startsWith(K)&&J.charAt(K.length)==="/"),M={isActive:le,isPending:be,isTransitioning:H},R=le?e:void 0,b;typeof s=="function"?b=s(M):b=[s,le?"active":null,be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return F.createElement(un,{...y,"aria-current":R,className:b,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(M):p)});LD.displayName="NavLink";var kD=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...I},L)=>{let U=qD(),Y=HD(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&c1.test(m),Q=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ce=J.nativeEvent.submitter,le=(ce==null?void 0:ce.getAttribute("formmethod"))||f;U(ce||J.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return F.createElement("form",{ref:L,method:H,action:Y,onSubmit:s?p:Q,...I,"data-discover":!K&&r==="render"?"true":void 0})});kD.displayName="Form";function UD(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(r){let e=F.useContext(yo);return nt(e,UD(r)),e}function jD(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=i1(),p=Js(),y=su(r,{relative:u});return F.useCallback(E=>{if(gD(E,e)){E.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var zD=0,BD=()=>`__${String(++zD)}__`;function qD(){let{router:r}=h1("useSubmit"),{basename:e}=F.useContext(_i),n=aD();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=_D(s,e);if(o.navigate===!1){let E=o.fetcherKey||BD();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function HD(r,{relative:e}={}){let{basename:n}=F.useContext(_i),s=F.useContext(Ei);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=Js();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),Kl(u)}function FD(r,e={}){let n=F.useContext(e1);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=h1("useViewTransitionState"),o=su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}new TextEncoder;[...CD];function GD(){const{cart:r}=vi();return A.jsx("div",{className:"nav-container",children:A.jsxs("ul",{className:"nav",children:[A.jsx("li",{children:A.jsx(un,{to:"/products",children:A.jsx("button",{className:" button",href:"",children:"Catlogo"})})}),A.jsx("li",{children:A.jsx(un,{to:"/",children:A.jsx("button",{className:"button",children:"Inicio"})})}),A.jsx("li",{children:A.jsx(un,{to:"/myCart",children:A.jsxs("button",{className:" button",children:["Carrito: ",r.length]})})})]})})}function KD(){const{user:r}=vi();return A.jsxs("header",{className:"header",children:[A.jsxs("div",{className:"header-container",children:[A.jsx("div",{className:"flex-row center",children:A.jsxs("div",{className:"account-container",children:[A.jsx(un,{to:"/myAccount",children:A.jsx("button",{className:"icon",href:"./html/account.html",children:A.jsx("img",{className:"account-icon",src:"/src/assets/incognito.svg",alt:"cuenta"})})}),A.jsxs("div",{className:"account-info",children:[A.jsx("p",{children:(r==null?void 0:r.displayName)||"Usuario"}),A.jsx("p",{children:"Rango:"})]})]})}),A.jsxs("div",{className:"logo-container",children:[A.jsx("img",{className:"icon",src:"/src/assets/logo0.png",alt:"logo"}),A.jsx("p",{className:"nickname",children:"CIRCOLO NERO"})]}),A.jsx("div",{children:A.jsx("input",{type:"text",placeholder:"Buscar",name:"text",className:"input"})})]}),A.jsx(GD,{})]})}function f1({product:r}){const{id:e,name:n,price:s,stock:o,img:u}=r,{addToCart:f}=vi(),m=parseInt(e);return A.jsx("div",{className:"card-container",children:A.jsx("div",{className:"card",children:A.jsxs("div",{className:"card2",children:[A.jsxs(un,{to:"detail/"+m,children:[A.jsx("img",{className:"product-icon el",src:u,alt:"product"}),A.jsxs("p",{className:"el",children:[" ",n," "]}),A.jsxs("p",{className:"el",children:["Precio: $ ",s]}),A.jsxs("p",{className:"el",children:["Unidades disponibles: ",o]})]}),o?A.jsx("button",{className:"button el",onClick:()=>{f(r,1)},children:"Al carrito"}):A.jsx("button",{className:"button el",children:"Sin stock"})]})})})}function Lh(){return A.jsx("div",{children:A.jsx("div",{className:"loader",children:A.jsx("div",{children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})}),A.jsx("li",{children:A.jsx("svg",{fill:"currentColor",viewBox:"0 0 90 120",children:A.jsx("path",{d:"M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"})})})]})})})})}function QD({category:r}){return A.jsx("div",{className:"submenu-item",children:A.jsx(un,{to:"/category/"+r,children:A.jsxs("p",{href:"#",className:"submenu-link",children:[" ",r," "]})})})}function YD({allCategories:r}){return A.jsx("div",{className:"menu",children:A.jsxs("div",{className:"item",children:[A.jsx("a",{className:"link",children:A.jsx("span",{children:" Filtrar "})}),A.jsxs("div",{className:"submenu",children:[A.jsx("div",{className:"submenu-item",children:A.jsx(un,{to:"/products",children:A.jsx("p",{className:"submenu-link",children:"Todos los productos"})})}),r.map(e=>A.jsx(QD,{category:e},e))]})]})})}function v0(){const{category:r}=r1(),{loading:e,getCategories:n,getProductsByCategory:s}=vi();if(e)return A.jsx("div",{className:"loader-container",children:A.jsx(Lh,{})});const o=s(r),u=n();return A.jsxs("div",{className:"main-products",children:[A.jsx(YD,{allCategories:u}),A.jsx("div",{className:"product-container",children:o.map(f=>A.jsx(f1,{product:f},f.id))})]})}function d1({stock:r,counter:e,onChange:n}){const s=()=>{e<r&&n(e+1)},o=()=>{e>1&&n(e-1)};return A.jsxs("div",{className:"counter-container",children:[A.jsx("button",{className:"button",onClick:o,children:"-"}),A.jsx("p",{children:e},e),A.jsx("button",{className:"button",onClick:s,children:"+"})]})}function m1(){return A.jsx("div",{className:"error-container",children:A.jsxs("div",{className:"brutalist-card",children:[A.jsx("div",{className:"brutalist-card__header",children:A.jsx("div",{className:"brutalist-card__alert",children:"Disculpe las molestias"})}),A.jsxs("div",{className:"brutalist-card__message",children:[A.jsx("p",{children:"No pregunte por lo que no quiere saber, no nos gustan los curiosos. Considere esto como la primer y ltima advertencia. Entienda que esta situacin es incmoda tanto para usted como para nosotros. Que tenga un buen da."}),A.jsx("p",{children:"Atentamente: Il Circolo Nero"})]}),A.jsx("div",{className:"brutalist-card__actions",children:A.jsx(un,{to:"/",children:A.jsx("button",{className:"brutalist-card__button brutalist-card__button--read",children:"Entiendo"})})})]})})}function tm(){const{id:r}=r1(),[e,n]=F.useState(!0),[s,o]=F.useState(null),[u,f]=F.useState(1),{addToCart:m}=vi();return F.useEffect(()=>{KT().then(p=>{const y=p.find(E=>E.id===parseInt(r));o(y),n(!1)})},[]),e?A.jsx("div",{className:"loader-container",children:A.jsx(Lh,{})}):A.jsx("div",{className:"card-detail-container",children:s?A.jsx("div",{className:"card-detail",children:A.jsxs("div",{className:"card-detail2",children:[A.jsxs("div",{className:"props-container",children:[A.jsx("img",{className:"product-icon container",src:s.img,alt:"product"}),A.jsxs("p",{children:[" ",s.name," "]}),A.jsxs("p",{children:[" ",s.description," "]}),A.jsxs("p",{children:[" ",s.type," "]}),A.jsxs("p",{children:["Precio: $ ",s.price," "]}),A.jsxs("p",{children:["Quedan ",s.stock," unidades"]})]}),A.jsxs("div",{className:"buttons-container",children:[A.jsx(d1,{stock:s.stock,counter:u,onChange:f}),A.jsxs("div",{className:"button-function-container",children:[A.jsx("button",{onClick:()=>{m(s,u)},className:"button",role:"button",children:"Agregar al carrito"}),A.jsx(un,{to:"/",children:A.jsx("button",{className:"button",role:"button",children:"Volver al inicio"})})]})]})]})}):A.jsx(m1,{})})}function $D(){const{cart:r,updateCartItemQuantity:e,removeFromCart:n}=vi(),[s,o]=F.useState(!0),[u,f]=F.useState(!0);F.useEffect(()=>{f(r.length===0)},[r]),F.useEffect(()=>{},[]);const m=()=>r.reduce((p,y)=>p+y.amount*y.price,0);return s?(o(!1),A.jsx("div",{className:"loader-container",children:A.jsx(Lh,{})})):A.jsxs("div",{children:[A.jsx("p",{className:"heading",children:"Tu Carrito"}),u?A.jsx("p",{className:"heading",children:"Tu carrito est vaco, agrega productos para poder comprarlos"}):A.jsxs("div",{children:[A.jsx("div",{className:"cart-product-container flex-row",children:r.map(p=>A.jsxs("div",{className:"product-card",product:p,children:[A.jsxs("div",{className:"img-name",children:[A.jsxs("div",{className:"img",children:[p.img,"una imagen re piola"]}),A.jsxs("div",{className:"info",children:[A.jsx("p",{children:p.name}),A.jsx("p",{children:p.description}),A.jsxs("div",{className:"flex-column",children:[A.jsx("br",{}),A.jsxs("p",{children:["Valor por unidad: $ ",p.price]}),A.jsxs("p",{children:["Cantidad: ",p.amount," unidad/es"]}),A.jsxs("p",{children:["Total: $ ",p.price*p.amount]}),A.jsxs("p",{children:["Unidades disponibles: ",p.stock]})]})]})]}),A.jsx("div",{className:"flex-row center",children:A.jsxs("div",{className:"flex-column",children:[A.jsx(d1,{stock:p.stock,counter:p.amount,onChange:y=>{e(p.id,y)}}),A.jsx("button",{className:"button",onClick:()=>{n(p.id)},children:"Eliminar producto"})]})})]},p.id))}),A.jsx("div",{children:A.jsxs("div",{className:"final-step",children:[A.jsxs("p",{className:"price",children:["Total: $ ",m()]}),A.jsx(un,{to:"/newOrder",children:A.jsx("button",{className:"button",children:"Finalizar compra"})})]})})]})]})}class au{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const XD=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Bt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:XD()},Cp=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},WD=(r,e="https://api.emailjs.com")=>{if(!r)return;const n=Cp(r);Bt.publicKey=n.publicKey,Bt.blockHeadless=n.blockHeadless,Bt.storageProvider=n.storageProvider,Bt.blockList=n.blockList,Bt.limitRate=n.limitRate,Bt.origin=n.origin||e},p1=async(r,e,n={})=>{const s=await fetch(Bt.origin+r,{method:"POST",headers:n,body:e}),o=await s.text(),u=new au(s.status,o);if(s.ok)return u;throw u},g1=(r,e,n)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ZD=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},y1=r=>r.webdriver||!r.languages||r.languages.length===0,v1=()=>new au(451,"Unavailable For Headless Browser"),JD=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},e4=r=>{var e;return!((e=r.list)!=null&&e.length)||!r.watchVariable},t4=(r,e)=>r instanceof FormData?r.get(e):r[e],_1=(r,e)=>{if(e4(r))return!1;JD(r.list,r.watchVariable);const n=t4(e,r.watchVariable);return typeof n!="string"?!1:r.list.includes(n)},E1=()=>new au(403,"Forbidden"),n4=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},i4=async(r,e,n)=>{const s=Number(await n.get(r)||0);return e-Date.now()+s},T1=async(r,e,n)=>{if(!e.throttle||!n)return!1;n4(e.throttle,e.id);const s=e.id||r;return await i4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},S1=()=>new au(429,"Too Many Requests"),r4=async(r,e,n,s)=>{const o=Cp(s),u=o.publicKey||Bt.publicKey,f=o.blockHeadless||Bt.blockHeadless,m=o.storageProvider||Bt.storageProvider,p={...Bt.blockList,...o.blockList},y={...Bt.limitRate,...o.limitRate};return f&&y1(navigator)?Promise.reject(v1()):(g1(u,r,e),ZD(n),n&&_1(p,n)?Promise.reject(E1()):await T1(location.pathname,y,m)?Promise.reject(S1()):p1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:r,template_id:e,template_params:n}),{"Content-type":"application/json"}))},s4=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},a4=r=>typeof r=="string"?document.querySelector(r):r,o4=async(r,e,n,s)=>{const o=Cp(s),u=o.publicKey||Bt.publicKey,f=o.blockHeadless||Bt.blockHeadless,m=Bt.storageProvider||o.storageProvider,p={...Bt.blockList,...o.blockList},y={...Bt.limitRate,...o.limitRate};if(f&&y1(navigator))return Promise.reject(v1());const E=a4(n);g1(u,r,e),s4(E);const w=new FormData(E);return _1(p,w)?Promise.reject(E1()):await T1(location.pathname,y,m)?Promise.reject(S1()):(w.append("lib_version","4.4.1"),w.append("service_id",r),w.append("template_id",e),w.append("user_id",u),p1("/api/v1.0/email/send-form",w))},l4={init:WD,send:r4,sendForm:o4,EmailJSResponseStatus:au};function u4(){const{cart:r,user:e,showNotification:n}=vi(),s=i1(),[o,u]=F.useState(""),[f,m]=F.useState("efectivo"),[p,y]=F.useState(!1);F.useEffect(()=>{e||(n("Debes iniciar sesin para comprar"),setTimeout(()=>{s("/myAccount")},1800)),(!r||r.length===0)&&(n("Debe tener uno o ms productos en el carrito"),setTimeout(()=>{s("/products")},1800))},[]);const E=async w=>{if(w.preventDefault(),!o){n("Debe completar la direccin");return}const I={uid:e.uid,email:e.email,direccion:o,metodoPago:f,productos:r,estado:"pendiente",fecha:bm()};try{await e2(WE(dh,"orders"),I),y(!0),n("Pedido realizado con xito",1300);const L=r.map(Y=>`${Y.name} (${Y.size}ml) x1 - $${Y.price}`).join(`
`),U=r.reduce((Y,H)=>Y+H.price,0);l4.send("IlCircoloNero","orderReady",{to_name:e.displayName||"Cliente",to_email:e.email,fecha:new Date().toLocaleString(),direccion:o,productos:L,total:`$${U}`,logo1:"https://i.imgur.com/xzN9C0R.png"},"s04wjrSg3KkjxJJS4").then(()=>{console.log("Correo enviado con xito")}).catch(Y=>{console.error("Error al enviar correo:",Y)})}catch(L){console.error("Error al registrar pedido:",L),n("Hubo un error al realizar tu pedido")}};return A.jsx("div",{className:"main",children:e&&(r==null?void 0:r.length)>0?A.jsx("div",{className:"order",children:p?A.jsxs("div",{children:[A.jsxs("p",{className:"heading",children:["Un placer hacer negocios con usted, ",(e==null?void 0:e.displayName)||"usuario",". Il Circolo Nero se encargar de ahora en ms"]}),A.jsx("p",{className:"text",children:"En instantes le llegarn los detalles del envio a su correo"})]}):A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"heading",children:"Muchas gracias por la compra"}),A.jsx("p",{children:"Odiamos las formalidades tanto como usted. Pero sin esto no podr recibir su compra"}),A.jsx("div",{className:"form-container",children:A.jsxs("form",{onSubmit:E,className:"form",children:[A.jsx("input",{className:"input",name:"direction",type:"text",value:o,onChange:w=>u(w.target.value),required:!0,placeholder:"Direccin de entrega"}),A.jsxs("select",{className:"input",name:"payment",value:f,onChange:w=>m(w.target.value),children:[A.jsx("option",{value:"efectivo",children:"Efectivo"}),A.jsx("option",{value:"tarjeta",disabled:!0,children:"Tarjeta (prximamente)"})]}),A.jsx("button",{className:"button",type:"submit",children:"Confirmar pedido"})]})})]})}):A.jsx(A.Fragment,{})})}function c4({message:r,visible:e}){const[n,s]=F.useState(!1),[o,u]=F.useState("");return F.useEffect(()=>{if(e)u(r),s(!0);else if(n){const f=setTimeout(()=>s(!1),500);return()=>clearTimeout(f)}},[e,r,n]),n?A.jsx("div",{className:`notification${e?" show":" hide"}`,children:o}):null}const h4=new Yi;function f4(){const[r,e]=F.useState(!1),[n,s]=F.useState(!1),[o,u]=F.useState(null),[f,m]=F.useState(""),[p,y]=F.useState(""),[E,w]=F.useState(""),{showNotification:I}=vi();F.useEffect(()=>{const Q=MT(Ya,J=>{u(J)});return()=>Q()},[]);const L=async()=>{try{const Q=await tI(Ya,p,E);await rI(Q.user,{displayName:f}),await K_(Am(dh,"users",Q.user.uid),{uid:Q.user.uid,name:f,email:p,createdAt:bm()}),I("Registro exitoso"),e(!1),K()}catch(Q){I("Error en el registro: "+Q.message,3500)}},U=async()=>{try{await nI(Ya,p,E),I("Sesin iniciada"),s(!1),K()}catch(Q){I("Error al iniciar sesin: "+Q.message,3500)}},Y=async()=>{try{const Q=await CI(Ya,h4),{user:J}=Q;await K_(Am(dh,"users",J.uid),{uid:J.uid,name:J.displayName||"",email:J.email,createdAt:bm()},{merge:!0}),I("Sesin iniciada con Google")}catch(Q){I("Error con Google: "+Q.message,3500)}},H=async()=>{await oI(Ya),I("Sesin cerrada")},K=()=>{m(""),y(""),w("")};return o?A.jsxs("div",{className:"container",children:[A.jsxs("p",{children:["Bienvenido, ",o.displayName||o.email]}),A.jsx("button",{className:"button",onClick:H,children:"Cerrar sesin"})]}):r?A.jsxs("div",{className:"container",children:[A.jsx("p",{children:"Ingrese los datos. Disculpe la formalidad"}),A.jsx("input",{type:"text",name:"name",className:"input",placeholder:"Nombre",value:f,onChange:Q=>m(Q.target.value)}),A.jsx("input",{type:"email",name:"email",className:"input",placeholder:"Correo electrnico",value:p,onChange:Q=>y(Q.target.value)}),A.jsx("input",{type:"password",name:"password",className:"input",placeholder:"Contrasea",value:E,onChange:Q=>w(Q.target.value)}),A.jsxs("div",{className:"flex-row",children:[A.jsx("input",{type:"checkbox"}),A.jsx("p",{children:"Estoy de acuerdo con los trminos"})]}),A.jsx("button",{className:"button",onClick:L,children:"Registrarse"}),A.jsx("button",{className:"button secondary",onClick:()=>e(!1),children:"Volver"})]}):n?A.jsxs("div",{className:"container",children:[A.jsx("input",{type:"email",name:"email",className:"input",placeholder:"Correo electrnico",value:p,onChange:Q=>y(Q.target.value)}),A.jsx("input",{type:"password",name:"password",className:"input",placeholder:"Contrasea",value:E,onChange:Q=>w(Q.target.value)}),A.jsx("button",{className:"button",onClick:U,children:"Ese soy yo"}),A.jsx("button",{className:"button google",onClick:Y,children:"Iniciar con Google"}),A.jsx("button",{className:"button secondary",onClick:()=>s(!1),children:"Volver"})]}):A.jsxs("div",{className:"container",children:[A.jsx("p",{children:"Tu cara no nos suena, registrate o inicia sesin"}),A.jsxs("div",{className:"cards",children:[A.jsx("button",{className:"card red",onClick:()=>e(!0),children:A.jsx("p",{className:"tip",children:"Registrarse"})}),A.jsx("button",{className:"card blue",onClick:()=>s(!0),children:A.jsx("p",{className:"tip",children:"Iniciar sesin"})})]})]})}function d4(){return A.jsx(A.Fragment,{children:A.jsxs("footer",{className:"footer",children:[A.jsxs("div",{className:"top-footer",children:[A.jsx("p",{className:"text",children:"Suscribite para recibir ofertas que no publicamos en ningn lado."}),A.jsxs("div",{children:[A.jsx("input",{type:"email",name:"email",className:"input",placeholder:"Correo electrnico"}),A.jsx("button",{className:"button",children:"Enviar"})]})]}),A.jsxs("div",{className:"middle-footer",children:[A.jsxs("div",{className:"middle-footer-left",children:[A.jsx("p",{className:"middle-footer-letf-title",children:"Sociales"}),A.jsxs("div",{class:"card",children:[A.jsx("a",{class:"socialContainer containerOne",children:A.jsx("svg",{class:"socialSvg instagramSvg",viewBox:"0 0 16 16",children:A.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})}),A.jsx("a",{class:"socialContainer containerFour",children:A.jsx("svg",{class:"socialSvg whatsappSvg",viewBox:"0 0 16 16",children:A.jsx("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})})})]})]}),A.jsx("div",{className:"flex-row center middle-footer-middle",children:A.jsx("img",{className:"logo",src:"/src/assets/logo1.png",alt:"logo"})}),A.jsxs("div",{className:"middle-footer-right flex-column",children:[A.jsx("a",{children:"Polticas de devolucin"}),A.jsx("a",{children:"Trminos y condiciones"}),A.jsx("a",{children:"Preguntas frecuentes"})]})]}),A.jsx("div",{className:"bottom-footer",children:A.jsx("p",{children:" Il Circolo Nero 2024  marca registrada  todos los derechos reservados."})})]})})}function m4(){const{user:r,data:e,loading:n}=vi();if(n||!e)return A.jsx("div",{className:"loader-container",children:A.jsx(Lh,{})});const s=[1,3,2],o=e.filter(u=>s.includes(u.id));return A.jsx(A.Fragment,{children:A.jsxs("section",{className:"main-container",children:[A.jsxs("div",{className:"intro",children:[A.jsxs("p",{className:"heading",children:["Benvenuti ",(r==null?void 0:r.displayName)||"forastero"]}),A.jsx("p",{className:"text",children:"Perfumes inspirados en marcas de lujo, a precios del mercato nero. El secreto del buen gusto ahora al alcance de todos."})]}),A.jsxs("div",{className:"adverticement",children:[A.jsx("p",{className:"adverticement-title",children:"Los buenos perfumes se consiguen con buenos contactos, ac no hay etiquetas. Solo fraganze."}),A.jsxs("div",{className:"flex-row center",children:[A.jsxs("div",{className:"adverticement-image",children:[A.jsx("p",{children:"Proximamente una imagen Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem excepturi dolore quo, ab praesentium aperiam in dolorum, nam ratione ipsa maxime, cumque rerum sint? Sunt qui assumenda in fugit atque."}),A.jsx("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quae sit iste ab quaerat, porro eaque nemo numquam? Rerum, velit. Ipsa dolor magnam optio atque quae repellat fugiat, sit asperiores veritatis! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem doloremque quam quibusdam distinctio ratione incidunt ea quo aliquam voluptates nostrum tempora similique fugit cumque saepe fugiat, corporis illo sed eligendi?"})]}),A.jsxs("div",{className:"adverticement-div",children:[A.jsx("p",{className:"adverticement-text",children:"Descubr en Il Circolo Nero una variedad de fragranze importadas inspiradas en las case ms prestigiose. Explora con calma, encontr ese aroma unico que te acompae y disfrut del lusso al alcance de tu mano, sin complicazioni ni formalit."}),A.jsx("button",{className:"button",children:"Ver catlogo"})]})]})]}),A.jsxs("div",{className:"trending",children:[A.jsx("p",{className:"heading",children:"Favoritos del pblico y del capo, claro."}),A.jsx("div",{className:"top-products",children:o.map(u=>A.jsx(f1,{product:u},u.id))})]}),A.jsxs("div",{className:"services-container",children:[A.jsx("p",{className:"heading",children:"Contamos con todo tipo de servicios"}),A.jsxs("div",{className:"services",children:[A.jsxs("div",{className:"service",children:[A.jsx("img",{className:"service-img",src:"/src/assets/delivery.svg",alt:"envo"}),A.jsx("p",{children:"Envos por correo"})]}),A.jsxs("div",{className:"service",children:[A.jsx("img",{className:"service-img",src:"/src/assets/pagar-dolar.svg",alt:"medios de pago"}),A.jsx("p",{children:"Depsito o transferencia"})]}),A.jsxs("div",{className:"service",children:[A.jsx("img",{className:"service-img",src:"/src/assets/apoyo.svg",alt:"soporte"}),A.jsx("p",{children:"Asistencia de compra/precompra"})]})]})]}),r?A.jsxs("div",{className:"buy-now",children:[A.jsxs("p",{className:"heading",children:["Querido ",r==null?void 0:r.displayName,"."]}),A.jsx("p",{className:"buy-now-content",children:"Cada compra que haces deja su marca en Il Circolo Nero. Sum puntos, desbloque descuentos y acced a beneficios que no se anuncian... solo se ofrecen."}),A.jsx(un,{to:"/products",children:A.jsx("button",{className:"button",children:"Iniciar compra"})})]}):A.jsxs("div",{className:"buy-now",children:[A.jsx("p",{className:"heading",children:"Ya sabs quines somos... ahora queremos saber quin sos vos."}),A.jsx("p",{className:"buy-now-content",children:"Te invitamos a formar parte de Il Circolo Nero. Es gratuito. Es secreto. Y solo los miembros del Circolo acceden a nuestras mejores fragancias del mercato nero."}),A.jsx(un,{to:"/myAccount",children:A.jsx("button",{className:"button",children:" Registrarse"})})]})]})})}function p4(){const{notification:r}=vi();return A.jsxs(A.Fragment,{children:[A.jsx(KD,{}),A.jsx(c4,{message:r.message,visible:r.visible}),A.jsxs(hD,{children:[A.jsx(Fn,{path:"/products",element:A.jsx(v0,{})}),A.jsx(Fn,{path:"/category/:category",element:A.jsx(v0,{})}),A.jsx(Fn,{path:"/category/:category/detail/:id",element:A.jsx(tm,{})}),A.jsx(Fn,{path:"detail/:id",element:A.jsx(tm,{})}),A.jsx(Fn,{path:"/myCart",element:A.jsx($D,{})}),A.jsx(Fn,{path:"/myCart/detail/:id",element:A.jsx(tm,{})}),A.jsx(Fn,{path:"*",element:A.jsx(m1,{})}),A.jsx(Fn,{path:"/newOrder",element:A.jsx(u4,{})}),A.jsx(Fn,{path:"/myAccount",element:A.jsx(f4,{})}),A.jsx(Fn,{path:"/",element:A.jsx(m4,{})})]}),A.jsx(d4,{})]})}function g4(){return A.jsx(TN,{children:A.jsx(PD,{children:A.jsx(p4,{})})})}nA.createRoot(document.getElementById("root")).render(A.jsx(g4,{}));
